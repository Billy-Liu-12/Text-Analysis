ESTABLISHING KNOWLEDGE BASE OF EXPERT SYSTEM WITH  ASSOCIATION RULES

Abstract: Both expert system and data mining belong to the  Artificial Intelligence fields. Association rule is a method of datamining, whose typical application is analyzing the shopping basket in supermarket. The main task of expert system is ratiocination, while that of association rule is to find out the valuable relationship between each data item. By modifying the apriori arithmetic and the method of the making rules, we mine the decisive rule of database that could be applied in expert system, thereby find out the method of mining decisive rule using association rules.

Keywords: Data Mining; Association Rule; Apriori; Expert System;  Knowledge Base  1. Introduction  The expert system is a knowledge system which takes computer as a tool and makes use of the expertise and knowledge consequence to comprehend and solve the problem[1]. It imitates the macroscopically inferential activity of expert, and uses computer to inference realm knowledge which is conformed to the model described[2].

Expert system is made up of four parts: knowledge base, inference engine, knowledge acquisition and explaining interface with the knowledge base and inference engine as its kernel?  Data mining means to abstract the information or mode which is implicit, unknown and valuable in large database or data warehouse. Association rule is one of the main models of current data mining. It emphasizes particularly on the data relations in different areas, and finds out the dependent relationship among several items which satisfies the enactment threshold value of supported degree and confidential degree. Mining association rules (knowledge) is to searching out all exiting valuable relationship of items from the given database with the statistics principle.

2. Introductions of the Association Rules  In 1993, Agrawal put forward to mining association rules of items in the customer transaction database for the first time[3]. The mining of association rules is to discover the interesting relevancy or correlative relationship among a great deal of data items. The first is mining frequent itemsets with Apriori, and then produce association rules according the frequent itemsets mined [4].

2.1. mining frequent itemsets: Apriori algorithm  In 1994, Agrawal put forward an important method of mining association rules in the customer transaction database[5, 6]. Its kernel is Apriori, which is based on the deduction of two phase?s frequent itemsets. Apriori is the basic algorithm of mining Boolean association rules. It mines frequent itemsets by using a circulatory method of searching frequent itemsets that produces (k+1)-itemsets from k-itemsets. After scanning the database, the algorithm begins to circulate. Each time, it connects two (k-1) itemsets, and produce frequent k-itemsets after the riddling of Apriori property, that is "each subsets of the frequent itemsets also should be frequent" as well as the minimum support degree. The Apriori ends till the frequent itemsets can?t be produced.

2.2.  making association rules from frequent itemsets[7, 8, 9]:  After mining out all frequent itemsets in database, it will produce strong association rules which satisfy both the minimum support degree (min_sup) and the minimum confidence degree (min_conf).

The operating instruction as follows: 1. For each frequent itemsets L, produce all subsets of      it 2 .For each non-null subset S of L, generate an  association rule ?s-> (l-s)?, if it's confidence degree is not less than min_conf. This is the classic algorithm of association rules. Here, we modify this method in order to build up the knowledge database of expert system.

3.  Establishing the knowledge database of the expert system with Association Rule  The modification to the algorithm is expressed in the following three aspects: first, modify the establishing method of the item in the database, second modifying the linking method of the item, and the third, modifying the production method of the association rules from frequent item.

The following is to illustrate these three modifications with the example of association rule establishing the knowledge database of agricultural expert system.

For example, in the agricultural expert system, there are several disease factors to judge the crop disease: color of disease spot (black brown, pink and brown), position of the disease spot (leaf, hull), shape of the disease spot (circularity, hemicycle, and irregularity), and characteristic of the disease spot (none, slightly caved, caved). With these factors, we can get the disease name (Anthracnose, India Anthracnose, Cornu spot disease). The following data is got from former experience: 1. black brown spot, leaf disease, circularity, none characters Anthracnose 2. black brown spot, leaf disease, circularity, none characters  Anthracnose 3. pink spot, hull disease, hemicycle, slightly caved Anthracnose 4. brown spot, leaf disease, circularity, none characters India Anthracnose 5. brown spot, leaf disease, circularity, none characters India Anthracnose 6.  brown spot, hull disease, circularity, caved Cornu spot disease 7. black brown spot, hull disease, irregularity, none characters Cornu spot disease 8. black brown spot, leaf disease, circularity, none characters  Anthracnose 9. pink spot, hull disease, hemicycle, slightly caved Anthracnose 10. black brown spot, hull disease, irregularity, none characters  Anthracnose  3.1.  Establish item  Establishing the knowledge database of agricultural expert system based on these crop disease data. In order to use the Apriori, we take these disease factor: disease spot color, disease spot position , disease spot shape and disease spot name as the item of Apriori, and number them as: 1, 2, 3, 4, 5 in turn. Because each disease factor has several different condition (we call them factor values), we also number each different condition. In this way, we take the form of "disease factor number. factor value number" to subdivide the item. The result as follows:  1. disease spot color: 1.1, black brown; 1.2, pink; 1.3, brown  2. disease spot position: 2.1, leaf disease; 2.2, hull disease;  3. disease spot shape: 3.1, circularity; 3.2, hemicycle; 3.3, irregularity;  4. disease characters: 4.1, none characters; 4.2, slightly caved; 4.3, caved;  5. disease name: 5.1, Anthracnose; 5.2, India Anthracnose; 5.3, Cornu spot disease  Then, we take the subdivided item that is "disease factor number.factor value number" as the final item which is operated by Apriori. After the preparation of these items, we begin to mine the frequent item with Apriori. Here, we assume the min_sup and the min_conf are both one.

The initial database D from the experience data is as follows (table 1):   Table 1: Initial database D   ID Item 001 1.1,2.1,3.1,4.1,5.1 002 1.1,2.1,3.1,4.1,5.1 003 1.2,2.2,3.2,4.2,5.1 004 1.3,2.1,3.1,4.1,5.2 005 1.3,2.1,3.1,4.1,5.2 006 1.3,2.2,3.1,4.3,5.3 007 1.1,2.2,3.3,4.1,5.3 008 1.1,2.1,3.1,4.1,5.1 009 1.2,2.2,3.2,4.2,5.1 010 1.1,2.2,3.3,4.1,5.1             3.2.  mine frequent k_itemsets  Use Apriori algorithm to scan the database to obtain candidate 1-itemsets, then, select it by min_sup 1 and you can get frequent 1-item.As follows (table 2):        Table 2: frequent 1-itemsets  Item 1.1 1.2 1.3 2.1 2.2 3.1 3.2  Support degree 5 2 3 5 5 6 2  Item 3.3 4.1 4.2 4.3 5.1 5.2 5.3  Support degree 2 7 2 1 6 2 2   The association rule of the classic Apriori algorithm  links the two frequent (k-1)-item if they have the same (k-2) items in front. For example: link "1.1, 2.1, 3.1" and "1.1, 2.1, 3.2", we can get ?1.1, 2.1, 3.1, 3.2?. However they are not linked while we build up knowledge database. This is because "3.1" and "3.2" is two different values of one factor (They both describe the shape of disease spot). They repel each other, so it is impossible for them to exist simultaneously. Therefore, to this instance we don't link them together. Thus, after the linking work, and through the selection of the min_sup 1, we can get the frequent k-itemsets which is satisfied both min_conf and min_sup.

For the above example of crop diseases, we can get the frequent 5-itemsets finally, using the modifying Apriori algorithm .As follows (table 3):   Table 3: frequent 5-itemsets   Item 1.1,2.1,3.1,4.1,5.1 1.1,2.2,3.3,4.1,5.1 Support degree 3 1  Item 1.2,2.2,3.2,4.2,5.1 1.3,2.1,3.1,4.1,5.2 Support degree 2 2  Item 1.1,2.2,3.3,4.1,5.3 1.3,2.2,3.1,4.3,5.3 Support degree 1 1   After mining out the frequent 5-itemsets, it couldn?t  produce new frequent itemsets any more, so the algorithm ends. The following job is to make association rules from the frequent itemsets we have got.

3.3.  Produce rules  In the classic association algorithm, we find out all non-null subsets of frequent itemsets L. To each non_null subset S, we produce an association rule: "s  (l-s)" if its  confidence degree is not less than min_conf.

While in the process of the knowledge database  establishment, what we need is the decision rule, but not the association rule. In other words, the focal point we pay close attention to is not the associate relationship of attributes, but the results of the combination of them.

Therefore, we only need to calculate the confidence degree of the subset besides the decision result?s. For example, to the frequent itemsets "1.2, 2.2, 3.2, 4.2, 5.1", we only need to calculate the confidence degree of "1.2, 2.2, 3.2, 4.2", that is to say, s= "1.2, 2.2, 3.2, and 4.2" (Because 5.1 is the decision result item: disease name). So, when it satisfies the rule that its confidence is more than min_conf. we can produce the rule that is s  (l-s), i.e. ?1.2, 2.2, 3.2, 4.2 5.1". At last, compared with the primary attribute number, we can get the comprehensive rule: ?pink spot hull disease?  ? hemicycle slightl? y caved Anthracnose?. (This mean is that if the crop has pink hemicycle and slightly caved spot on the hull, the disease might be Anthracnose). The rules of the above mentioned crop plant diseases example is as follows:   Rule form :( name sup as support degree and conf as  confidence degree) 1. black brown spot, hull disease, irregularity, none characters  Anthracnose sup: 0.2, conf: 0.5 2. black brown spot, hull disease, irregularity, none characters  Cornu spot disease sup: 0.2, conf: 0.5 3. black brown spot, leaf disease, circularity, none characters Anthracnose sup: 0.3, conf: 1 4. pink spot, hull disease, hemicycle, slightly caved  Anthracnose sup: 0.4, conf: 1 5. brown spot, leaf disease, circularity, none characters India Anthracnose sup: 0.2, conf: 1 6. brown spot, hull disease, circularity, caved  Cornu spot disease sup: 0.1, conf: 1  Finally, store all the rules into the database, and then the knowledge database of the expert system is established.

Thus, according to the rules table in the knowledge database, the system can output the homologous decision rules after the customer input some factors of the crop disease.

4. Conclusions  By modifying the Apriori algorithm from three aspects which includes the establishing methods of items, the connection methods of items and the production methods of rules, this paper successfully established the knowledge base of the expert system and validated the role of association rule in discursion. Until now, this method has been validated in sever fields such as the hospital expert system. So it is a feasible method in establishing knowledge base of expert system.

