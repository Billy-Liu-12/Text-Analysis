Proposing an Enhanced Mobile Ad Hoc Network Framework to the Open Source Simulator NS2

Abstract  Mobile ad hoc network (MANET) is a collection of autonomous nodes or terminals that communicate with each other by forming a multihop radio network. These nodes maintain connectivity in a decentralized manner.

MANET is characterized by a rapidly changing topology. Nowadays, simulation is the research tool of the mobile ad hoc network (MANET) community. NS2 is one of the most popular open source network simulators [7J. It has a vital open source code to develop new protocols in mobile ad hoc networks. This work presents one data mining technique that may improve the MANET simulation in NS2.

Keywords: Mobile ad hoc network (MANET), data mining, confidence (predictability), apriori algorithm traffic table

I. Introduction  Mobile ad hoc network (MANET) needs efficient distributed algorithms to determine network organization. However, most of the algorithms-including broadcasting, multicasting, unicasting, electing a leader, determining viable routing paths, delivering messages and keys-are not well-defined problems. Accordingly, MANET algorithms are still immature, and there  Prof. S.Ramachandram Computer Science and Engineering Department  Osmania University Hyderabad 500 007, India  schandram@gmail.com  is no doubt that the unpredictable topology (mobility) is the main reason for this immaturity.

One way to enhance MANET performance is to disclose the hidden characteristics (patterns) of MANET and to utilize them in the distributed algorithms. This can be achieved by analyzing the MANET traffic in a tempo-spatial domain.

Broadly speaking, two key problems may recur from:  ? how to collect mobility data (traffic) about extremely complex, often chaotic, MANETs made of large populations of moving entities.

? how to tum this data into mobility knowledge, Le. into useful models and patterns that shift the focus from the node into collective movement behavior pertaining to groups ofnodes [3].

In this work a new framework is proposed: Applying the association rules mining to the traffic in MANET. Such a technique paves the way for the other MANET algorithms to be integrated to the NS2 simulator.

The rest of the paper is organized as follows: The second section highlights the common aspects of MANET and data mining. The third section introduces the association rule technique, as well as the apriori algorithm. The fourth section shifts the apriori algorithm from the database domain to the MANET domain. The fifth section applies the association rule technique to the traffic generated by the open source simulator NS2; and it exposes the hidden  MIC-CCA 2008 Page 14    patterns in MANET. Furthermore, this section proposes a new framework that utilizes the new patterns and may be integrated into NS2. The sixth section concludes the paper and gives a scope for future work.



II. MANET and Data Mining: A Vision of Convergence  Data mining, among transactions, is applicable to MANET, among packets, for the following reasons:  1. Each transaction in data mining is a set of items (attributes). Each packet in MANET passes through a set of hops (nodes).

2. Data mining is applicable to a database with a large number of transactions. MANET mining is applicable to a traffic with a large number ofpassing packets.

3. The purpose of mining association rules in a database is to discover all rules that have support and confidence (predictability) greater than or equal to the user-specified minimum support and minimum confidence.

The problem with mining association rules in MANET is to discover the most likely patterns (such as routes) among packets and cooperated nodes.

4. Each frequent set in data mining maps different packets with common hops along the path in MANET.



III. Data Mining Domain  A. Introduction  Let A ={11, 12, 13, 14, .... , Iml be a set of items. Let T be a set of transactions of a database. An association rule is an expression of the form X ==> Y , where X and Yare subsets of A.

Association rule methods are an initial data exploration approach that is often applied to extremely large data set. The most popular method is the apriori algorithm [6].

B. Association Rules Measures  Key measures in association rule mining include support and confidence. Support refers to the degree to which a relationship appears in the data. Confidence relates to the probability that if a precedent occurs, a consequence will occur.

N LEFT Number of instances match- ing LEFT  NRIGHT NUlnber of instances match- ing RIGHT  N BarH Number of instances match- ing both LEFT and RIGHT  NTOTAL Total number of instances  Table 1. Important Counts Used in the Association Rule Measures.

Several interestingness measures have been proposed in the technical literature.

Unfortunately the notation used is not yet very well standardized [1].

In this section Bramer's notation [1] is adopted for the described measures. The rule is written in the form:  if LEFT then RIGHT  Furthermore, four numerical values are defined; they can be determined for any rule simply by counting. Table 1 shows these values. Three commonly used measures are given in Table 2.

The first has more than one name in the technical literature.

Confidence NBOTH/l\TLEFT The pro- (Predictive portion of Accura{,j', right-hand Reliability) sides pre-  dicted by the rules that are correctly predicted  Support NBOTH/NTOTAL The pnlpor- tion of the training set correctly predicted by the rule  Completeness NBOTH/NRIGHT The propor- tion of the matching right-hand sides that are correctly predicted by the rule  Table 2. Basic Measures of Rule interest- ingness.

MIG-GGA 2008 Page 15    c. Definition: Frequent Set  Let T be a set of transactions and a be the user- specified minimum support. An itemset X s= A is said to be a frequent itemset in T with respect to a, if s(X) T ~ a [6].

Some important properties: Propertyl - Downward Closure: Any subset of a frequent set is a frequent set [6].

Property2 - Upward Closure: Any supper set of an infrequent set is an infrequent set [6].

Maximal Frequent Set: A frequent set is a maximal frequent set if it is a frequent set and no supper set of this set is a frequent set [6].

D. Apriori Algorithm  Initialize: k: =1, C1= all the l-itemsets; read the database to count the support of C1 to determine L j ? L1: =frequent l-itemsets; k := 2;llk represents the pass number II while (Lk-1 =0) do begin Ck:= gen-candidate-itemsets with the given k-1 prune(CJJ for all transaction t tEE T do increment the count ofall candidates in Ck Lk:=AII candidates i Ck with minimum support; k:=k+1 ; end Answer:= UkLk;

IV. MANET Mining Domain: Demonstration on a Simple MANET  New structures and operations are defined in this section. Nodes in MANET mining need not read from a database. Each packet keeps track of the path it is following. Whenever the packet passes through a node, it adds that node's identity to the list of nodes traveled. As soon as the destination receives the packet it gets that list. The destination adds this list (entry or transaction) to a table. This table is denoted in this work by the traffic table. The Traffic table contains all packets' lists received by a node for a specific time intervalll. Thus each node gets a sample of  the traffic in MANET to construct its own traffic table without any request from any other node.

In other words, nodes do not add new traffic to MANET; they just capture the passing packets and check their lists. Now nodes exploit traffic tables by applying data mining techniques to get useful information. The traffic table can be condensed by coding the presence of each node with one bit.

This section explains how association rules mining is applied to MANET. Association rules seek to identify what things go together [5].

Consider the scenario in Fig. l(a). There are 15 nodes in this ad hoc network. The node N1 is the source and the node N2 is the destination. For simplicity small number of packets is considered. The source sends 4 packets through the route< N1, N3, Ns, Ns, Ng, N14, N13, N2 >.

Then the topology changes [see Fig. l(b)] and the source sends another 4 packets through the route < N1, N3, N4, Ns, Ng, N14, N13, N2 >.

Again the topology changes [as in Fig. l(c)] and the next 3 packets have followed the route < N1, N3, N4, Ns, N1S, N14, Na, N13, N2 >. Finally the topology changes and the last 5 packets follow the route < N1, N3, N4, Ns, N1S, N14, Na, N12, N2 > [as in Fig. l(d)]. Now the traffic table, both in the source and destination, will be as in Tables 3 and 4. In the remaining of this section the apriori algorithm is applied to this traffic table. Assume s = 70%. The stages are:  Stage 1: i:=l C1 = {{N1}, {Nu, {N3}, {N4}, {Ns}, {Ns}, {N7}, {Na}, {Ng}, {N10}, {N11}, {N1-;}, {N13}, {N1J, {N1S}} After pruning C1 the set of frequent sets with one element is: L1 ={{N1}, {Nu, {N3}, {N4}, {Ns}, {N1J} Stage 2: i:=2 C2 = {{N1,Nu, {N1,N3}, {N1,N4}, {N1,Ns} , {N1,N14}, {N2,N3}, {N2,N4}, {N2,Ns} , {N2,N1J , {N3,NJ, {N3,Ns}, {N3,N14}, {N4,Ns}, {N4,N1J, {Ns,N1J} After pruning C2, the set of frequent sets with two elements is: L2 = { {N1,Nu, {N1,NJi, {N1,N4}, {N1,Ns} ,  MIC-CCA 2008 Page 16    (a) MANET at time to.

Nt N2 Jt.l 3 ]\l4 lVS lV6 N 7 Ns ..

I I I 0 I I 0 0 ...

I 1 1 0 1 I 0 0 ...

I 1 I 0 I I 0 0 ...

I 1 I 0 1 1 0 0 ...

I I I I 0 1 0 0 ...

I 1 1 1 0 1 0 0 ...

I 1 1 I 0 1 0 0 ...

I I I I 0 1 0 0 ...

I I I I 0 1 0 1 ...

I I I I 0 1 0 1 ...

I 1 I 1 0 1 0 1 ...

I 1 1 1 0 I 0 1 ...

I I I I 0 I 0 I ...

I 1 I I 0 I 0 1 ...

I 1 I 1 0 I 0 1 ...

I 1 I 1 0 1 0 I ...

Table 3. The traffic table both in the source and the destination nodes for time interval /1 (Contd.).

()  C) C)  C)~  (c) MANET at time t2.

(b) MANET at time tl.

(d) MANET at time t3.

... Ng N 10 NIl ]\J 12 N13 N 14 N 15  ... I 0 0 0 I I 0  ... I 0 0 0 1 I 0  ... I 0 0 0 1 1 0  ... I 0 0 0 I I 0  ... I 0 0 0 I I 0  ... I 0 0 0 I I 0  ... I 0 0 0 I I 0  ... I 0 0 0 I I 0  ... 0 0 0 0 1 1 1  ... 0 0 0 0 I 1 1  ... 0 0 0 0 I 1 1  ... 0 0 0 1 0 1 1  ... 0 0 0 1 0 1 1  ... 0 0 0 1 0 I 1  ... 0 0 0 1 0 1 1  ... 0 0 0 1 0 1 1  {N1,N1J, {N2,N3}, {N2,N4}, {N2,Ns}, {N2,N14}, {N3,NJ, {N3,Ns}, {N3,N1J, {N4,Ns}, {N4,N14}, {Ns,N1J} Stage 3: i:=3 L3 ={{N1,N2,N3}, {N1,N2,NJ, ...} Stage 4:  Table 4. The traffic table both in the sourceand the destination nodes for time interval /1 .

()  o  C) () C)  C) C)  C)  C)  Figure 1. MANET Demonstration  MIG-GGA 2008 Page 17    Table 5. Simulation Parameters.

Nutnber of the nodes 100 Routing protocol AODV, DSDV,DSR Mobility nlodel Randonl \vay point  Pause time I second Radio transmission range 250 meter  Channel capacity 1 mbps Data flow constant hit rate  Data packet size 512 bytes Node placement random  Terrain area 1500* 1500 meter Simulation time 120 second  Propagation model Two Ray Ground Speed 5, 10, ..., 50 mlsec  i:=4 C4 ={{N1,N2,N3,N,J, ...} After pruningC4, the set of frequent sets with four elements is: L4 = {{N1,N2,N3,N,J, ...}  Stage 6: i:=6 Cs ={..} After pruning Cs, the set of frequent sets with six elements is: Ls ={N1,N2,N3,N4,Ns,N14} The maximum frequent set is: MFS =Ls =(N1,N2,N3,N4,Ns,N1,J The set of all frequent sets is:  J>-drameter value  v. Simulation and Results  The traffic table contains the nodes that contributed in routing the packets from the source to the destination. Each entry represents the route followed by some packet. The MFS gives the relation (pattern) among the nodes for a set of entries regardless of the total number of nodes in these entries. A new metric is defined to measure the size of the pattern compared to the total nodes in the set of the entries mined:  #0/ NodesinMFS(s) Correlated ratio = ..

- #0/ Nodes Involved In Routing  Where: # of Nodes in MFS( s): refers to the number of the nodes in the pattern extracted from the traffic table for a specific period of time.

# of nodes involved in routing: refers to the total number of nodes in the traffic table for the same period of time. The higher ratio indicates better correlation among nodes. The ratio may approach 1 for wireless stationary nodes (all the entries in the traffic table are alike).

By applying the metric to the demonstrated example and by mining the whole traffic table shown in Tables 3 and 4 the obtained MFS with support s =70?J'c> is {N1,N2,N3,N4,Ns,N14}. The number of nodes in MFS is 6 and the number of nodes involved in routing in this traffic table is 12 (i.e. columns that contain at least one ' 1' value). Then, Correlatio-Ration=6/12.

Now, mining association rules technique is app- lied to the MANET traffic generated by NS2 [4], and [2]. The parameters used in the simulator are summarized in Table 5. The nodes are distributed randomly in the simulation area 1500 meter x 1500 meter and with a 250 meter transmission range for each node. The Propagation model of the signal is 'Two Ray Ground'. The channel capacity is 1 mbps. The random mobility mode of the nodes is generated by the eMU's node-movement utility 'setdest' with different speeds (mobility) within the range 5-50 meters per second. The nodes do not move all the simulation time (120 second). They stop according to a pause time parameter of 'constant' type which lasts for one second.

Three standard routing protocols are used in the simulation to deliver the packets from the source  0.9  ,g0.8 ~  0.7  Speed (m1sec)  Figure 2. The ratio of the AODV, DSDV and DSR protocols.

MIG-GGA 2008 Page 18    Other Layers  Network Layer(Mining) MAC Layer  Physical Layer  Figure 3. MANET stack with mining.

to the destination. Two of them are reactive: ad hoc on demand distance vector (AODV) and dynamic source routing (DSR); and one is proactive, destination sequenced distance vector (DSDV). Finally, the chosen application is constant bit rate (CBR) with packet size 512 bytes.

In fact, the association rules are derived from the maximum frequent set (MFS). In other words, the MFS implicitly means the association rule.

The MFS is calculated from the traffic table which is extracted from simulation trace file.

For accuracy purpose, the mean of Correlation- Ratio of sixty time-slices has been calculated.

Figure 2 shows the high Correlation-Ratio as well as the independence of the Correlation-ratio from the used protocol (proactive or reactive). In other words, this data mining technique works above the protocol.

Figure 3 gives the position of MANET mining in the ad hoc stack. The layers above the network layer may benefit , either directly or by the cross layer, from the proactive MANET mining results at any time with very reasonable storage-cost of the routing table (bit-wise), and with free of traffic cost. Furthermore, the off- the-shelf data mining techniques come into the picture to save the computation-cost.

Besides, Fig. 2 shows that despite the high speed (up to 50 m/sec) of the nodes there is still good relation among the routing nodes. This relation can be interpreted as a topology for the routing nodes for a small period of time. Moreover, the apriori algorithm is tolerant, adding or removing some entries, among large number of entries, from the traffic table may not affect the results.



VI. Conclusion and Future Work  One of the most important points of this work is that a large number of the MANET nodes contribute to the building of the traffic table and that only two nodes (the source and the destination) can apply the algorithm to this table.

This idea can be utilized in security of MANET that needs a distributed algorithm because it lacks the trusted party.

Through this work and depending on the simulation experiment, it is concluded: MANET traffic is a raw material for mining and for discovering the relationships among the nodes.

This work is a basis for different algorithms in MANET such as routing protocols, security, power conservation, and the like. All these techniques can be integrated to the open source simulator NS2 to improve the predictability and the performance. Finally, the Correlation-Ratio can be improved by proposing a proper threshold that stops accumulating the traffic table and launches the mining technique at the proper time.

