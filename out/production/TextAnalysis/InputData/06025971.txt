The Data Mining of TCM Syndrome  Diagnostic Criteria by the R_Apriori

Abstract?As the association rules mining algorithm, Apriori algorithm is gotten a lot of application used for its easy use.

However, it often encountered some problem as low mining efficiency, too many invalid rules acquired and the rules of pattern mining disorder. In this paper, an algorithm called R_Apriori which improved from Apriori algorithm is designed for above problems. It is necessary to build syndrome diagnosis criteria of Traditional Chinese Medical for solution it?s non-scientificalness of experience medical.

With treatment on the elderly virus pneumonia, a series of process including initial null handle, subtraction operation, reducing data dimension. By data mining based on R_Apriori algorithm, syndrome diagnostic criteria of bacterial pneumonia in the elderly were defined. The method of establishment TCM diagnosis criteria has worthy of promotion.

Keywords-TCM; Data Mining; R_Apriori Algorithm; Syndrome Diagnosis Criteria

I. INTRODUCTION TCM is a treasure of Chinese medicine goes back  with thousands of years of history. Through long-term medical practice, a unique theoretical system of medicine with rich experience in the full medical treatment is gradually formed and developed. However, as experience in medicine, traditional Chinese medicine is a lack of objectivity indicators. Its shortcomings lie in the following two points. First, the treatment of patients with disease diagnosis is the fundamental basis for Chinese medicine treatment is by virtue of the inter-generational experience and the symptoms of the syndrome of Integrated Traditional Chinese Medicine; what each type of symptom and what are the symptoms, that syndrome diagnostic criteria, is an urgent medicine need to address the problem.

Secondly, through the treatment of patients, what is to determine the treatment efficacy of the factors from which to determine that the patient's condition is improved or cured? That is the efficacy of traditional Chinese medicine evaluation index. Therefore, it is key factor to build TCM syndrome differentiation and treatment of the syndrome diagnostic criteria and treatment efficacy evaluation index which make traditional Chinese medicine more scientific and normative.

Research of TCM syndrome differentiation and treatment of syndrome diagnostic criteria and treatment efficacy evaluation index can not leave the traditional  Chinese medicine theory and practice. You can take some kind of disease as a basic research. In this study, the elderly bacterial pneumonia as the carrier, based on TCM theory and clinical studies of the basic characteristics and advantages, in accordance with model Syndrome, through the dynamic observation of clinical time points, we examine the process of TCM syndrome differentiation syndrome indicators and Western diseases efficacy of indicators and indicators of quality of life indicators and the changes of their mutual relations. Combined with expert opinion, it is determined that the combination of old certificates of bacterial pneumonia Differential Treatment of the diagnostic criteria and clinical efficacy evaluation index. Dialectical theory of traditional Chinese medicine in China for governance research methodology, computational intelligence in data mining, is mainly used, and it has achieved certain effects. In reference [1], Apriori algorithm is used to study the process of traditional Chinese medicine prescription group side and to establish the diagnosis of syndromes in Chinese medicine model by the Bayesian algorithm; In reference [2], the C4.5 methods of decision tree algorithm is used for data on diabetes incidence of the laws of learning and rule extraction and Generates a set of diabetes diagnosis and prediction rules.

In reference [3], the Apriori algorithm is used for mining Chinese medicine prescriptions. In reference [4], the clustering mining method is used to explore the dialectical theory of Heart Qi Deficiency Syndrome governing laws of new knowledge. In reference [5], correlative rules models, rough set decision-making models and other quantitative data mining methods and artificial neural networks, fuzzy clustering analysis, qualitative data mining techniques is used to obtain medical knowledge and discovery. In reference [6], confirmed in the medical application of genetic algorithm for discriminate analysis is more than the validity of Fisher discriminate analysis; In reference [7], decision tree method is used to establish conditions suitable for hospital inpatient case-mix program control hospital costs; In reference [6], studied the use of BP neural network diagnostic criteria for coronary heart disease symptoms and efficacy evaluation of model.

August 19-22, 2011, Jilin, China

II. R_APRIORI ALGORITHM  A. Theory Foundation R_apriori Algorithm is mainly based on rough set  theory and Apriori association rules algorithm, the basic knowledge as follows:  1) Rough set theory In 1982, Poland mathematician Pawlak proposed  rough set theory. Any information system (or information sheet) in rough set theory called I can be describe with an ordered 4-tuple <U, A, V, f>, where: U = {x 1 ,x2 ... xn} are all limited collection of samples, A=C D is a set of all finite number of attributes, C is condition attributes set that is the characteristics of the object, D is the decision attribute set that is the type of study object and C  D =  . Suppose a is either an attribute, xi is either an object, then f (xi ,a) is value of xi in a attribute, while V is the value range of attribute A. [8]  Pawlak attribute importance reduction algorithm confirms mainly the importance of the attribute based on the information system changes in size classification ability while it removed. Attribute importance is defined as follows:  A given set of information systems CBfVCUIS ??= ),,,,(  and BCa ??? , define  )( ))(/(})){(/();,(  Ucard BindUcardaBUindUcardCBasig ?=  as the attribute importance of a  to the attribute set B Where U is the domain of information systems, C is  the attribute set, V  is the value for the attribute, f  is the information function, ind is undifferentiated relationship attribute set of the information system between, card is the base for the attribute set. General attribute reduction is processed according to the importance of attribute. [10-11]  2) Association rules and apriori algorithm First introduce the data mining association rules,  association rules discovery data mainly to an interesting correlation between item sets like BA  such a law can be extended for the  nn BBBAAA ?????? 2121 class rule. Can be understood as in the database to find  nAAA 21  also exist, nBBB 21  the same time, the establishment of rules.

Concrete realization depends on the degree of interest rules, including those of support and confidence of two terms.

Degree of support (support) S refers to the transaction in the rules the frequency. BA  degree of support for S to  TBATBAS )()( =  Where, )( BAT refers to the number of transactions of the data set contains BA , T  refers to the total number of that matters. Degree of support is too low, said the rules are not general.

Degree of confidence (confidence) C, said association rule BA  intensity, defined as:  )()()( ATBATBAC =  Where, )( BAT refers to the data set contains transactions number of BA , )(AT  refers to data set that  contains transactions number of A. The lower confidence means less credibility of the rules.

Association rule BA  means that the confidence level of A given B, that is the conditional probability, that is  )()( ABPBAC = Data mining association rules is found to have a user-  specified minimum support degree Smin and minimum confidence degree Cmin of association rules. Namely:  BA  is equivalent: ))(())(( minmin CBACSBAS ???  [9]  B. R_Apriori Algorithm Description To the problem with clear decision-making field by  mining association rules, improved R_Apriori algorithm can be form by integrating rough set theory with the Apriori algorithm to solve the problem raised in the preamble as follows:  About the problem of the efficiency of Apriori algorithm and the validity of the mining rules on account of the large amount of attributes set, we can first get the nuclear of attribute set by rough set attribute reduction, then the association rule mining to the nuclear data. In certain extent, it can improve the efficiency and effectiveness of mining;  For inefficient Apriori algorithm raised from the needs of scanning all attribute sets to obtain each frequent attribute set, we can solve as follow:  ? Frequency set can be obtained by scanning the set of attributes, which assumed to be L1={X11, X12, ...

,X1M}. Denote the set of samples of X1P as S(X1P)={t1P , t2P ,?, tmP}, 1<P<M. Obviously the number of the element of S(X1P) is transactions number, namely | S(X1P)| ,and | S(X1P)| /| T |> Smin (Smin is minimum support degree);  ? Frequent set and above 2-frequency set can be obtained just by set operations of 1-frequent set.

According to the character of frequent sets: the attribute which is not attributing of low frequency set must not be attributor of high frequency. So the attributes of 2-frequent sets must include the frequency set L1. For any two item sets X1i and X1j in L1 (where 1<i,j<M), S(X1i)  S(X1j) includes all transaction in X1i and X1j. Then its number of elements namely | S(X1i)  S(X1j) | is the number of its transactions. So if | S(X1i)  S(X1j) | / | T |> Smin, then {X1i, X1j } L2, otherwise {X1i, X1j }  L2; then intersection operation to all 1-frequency set and to get their support, you can get L2; if {X1i, X1j } L2, you can also calculate | S(X1i)  S(X1j) | / | S(X1i)| and | S(X1i)  S(X1j) | / | S(X1j)  | which is the confidence of X1j => X1i and X1i => X1j. And comparison with the minimum confidence degree Cmin, association rules is determined.

? Thus intersection operation to the frequent item sets LK-1 and L1, and then determines the number of elements in the intersection set, all frequent sets LK can be obtained. For the problem of the sort of strength of the rule model, it could be sorted by support degree, confidence degree and order of mining:     Given two rules ri and rj, ri> rj (i.e., ri precedes rj or ri has higher precedence over rj) if one of the following holds good:  ? The confidence degree of ri is greater than that of rj  ? Their confidences degree are the same but support of ri is greater than that of rj  ? Both the confidences and supports of ri and rj are the same, but ri is generated before rj  The algorithm described as follows: U = RS(U,C,D,f) //attribute reduction according to decision set L(1) = Apriori(U,1)= {X11, X12, ... ,X1M} //Calculate 1-frequency set S(X1P)={t1P , t2P ,?, tmP} 1<P<M //record of 1-frequency set transaction sets k=2 Do while L(k)=null{ L(k)=null For i=1 to | L(k-1)| For P=1 to  | L(1)| If X1P?E(L(k-1)) then // E(L(k-1)) is( k-1)- frequency set  If | S(X1P)  S(E(L(k-1)))| /| T |> Smin then L(k) = L(k) U{ S(X1P)  S(E(L(k-1)))} //Is the elements of k-frequency set If | S(X1P)  S(E(L(k-1)))| /| S(X1P)| > Cmin  then //To determine whether S(E(L(k-1))) => S(X1P) is the  rule R = R U{ S(E(L(k-1))) => S(X1P)} Sort(R, S(E(L(k-1))) => S(X1P))// Sort if | S(X1P)  S(E(L(k-1)))| /| S(E(L(k-1)))| > Cmin then //To determine whether S(X1P) => S(E(L(k-1))) is the  rule R = R U{ S(X1P) => S(E(L(k-1)))} Sort(R, S(X1P) => S(E(L(k-1))))//sorted Next Next } Output rules R

III. RESULTS Purpose of this study in patients with bacterial  pneumonia in the elderly as a target for observation.

Clinical experience with a rich selection of TCM clinical experts, the research objects dialectic treatment, to observe and collect large number index information of different time points. Of these clinical data, to analyze the process of TCM syndrome differentiation changes of various indicators and their mutual relations, screening older persons with bacterial pneumonia certificate of TCM clinical efficacy evaluation index, we need to adopt data mining processing techniques (data preprocessing, modeling, methods selection, etc.). Data mining is found in large amounts of data from the hidden knowledge and laws, both as a knowledge access technology, but also a data processing. The technology evolved from artificial intelligence, so many of the technical achievements of artificial intelligence can be transplanted into the data  mining systems, such as the traditional statistical, clustering, decision tree, set theory, correlative rules, rough set theory, artificial neural network, genetic algorithms and evolutionary computing. For exploring the intrinsic link between multiple variables, artificial intelligence, data mining techniques, correlative rules is used mainly to seek contact, while the R_Apriori correlative rules algorithm is commonly used. Therefore, based on R_ Apriori algorithm for correlative rules is used to explore the course of treatment, changes in the relationship between the various indicators.

Acquisition from Henan Medical College Hospital, Beijing Medical University Affiliated Hospital, Shandong Medical University Affiliated Hospital, Nanjing Medical University Affiliated Hospital and Affiliated Hospital of Changchun University of Chinese Medicine and other five hospitals, 450 cases of elderly patients with bacterial pneumonia admitted with including basic information, medication day, the 4th day, the 7th day and the 14th day.

It also includes syndrome indicators, the efficacy of Western diseases, indicators of quality of life indicators, a total of 285 indicators for the information. The above information as a basic sample set of data mining, is completed data management by MICROSOFT SQL SERVER database.

A. Data Preprocessing 1)  To deal with the null values data in the database  Using PowerBuilder the database is processed. The tables are incomplete in some indicators, data collection items phenomenon (target item data to a null value), for the difference of the data to carry out (null value data are not subtracted), null value data items in the database will be assignment for the arithmetic mean of the indicator data.

2) To reduce data dimensionality Processed by statistical analysis of indicator data, it is  found that many indicators data, the probability of a margin of 0 for more than 95%, meaning that at some stage in the treatment of the index did not change significantly. Such as indicators of FT (expressed abdominal pain), WFY (verbal response, said no), GZ (said tongue dry), H5 (indicated pulse Hung), HB (said tongue flower stripping), KT (indicated expectoration), is as Fig. 1 which the change in statistical law.

Figure 1. change  in indicator data  Because of these indicators change was not obvious, they can be understood not to be the main indicator of treatment of pneumonia from the medical diagnosis. They will be to discard in the data analysis, resulting in data     analysis to reduce the process indicators and to improve the algorithm efficiency. To some extent to reduce mining results invalid.

3)  To change numeric variables into multi-value variable  As the R_Apriori algorithm is not sensitive enough to deal with numerical variables, five numeric variables indicator data such as body temperature, heart rate, respiration, systolic blood pressure and diastolic blood pressure are converted to multi-valued variables. Based on the above five indicators for the analysis of the data distribution, the conversion is processed. For example, body temperature, in general, lower than 36  called low temperature, 36-38  called normal temperature, 38-39  called low-grade fever, more than 39  called high fever. So it can keep the body temperature indicator in accordance with the above categories and is divided into four categories ABCD .

B. Data Mining Analysis of R_Apriori Algorithm Using R_Apriori algorithm, we have a data mining  process after the initial various index data. Seven types of syndrome diagnostic criteria are obtained through the analysis and of in the orderly?s pneumonia as follows:  ? Wind-cold Syndrome: Fever, Cough, Stethoca- tharsis, thin tongue fur, White tongue fur, Floating pulse  ? Wind-heat Syndrome: Fever, Aversion to wind, Headache, Cough, Stethocatharsis, Red tongue, Yellowish fur  ? Phlegmatic Hygrosis Syndrome: Cough, Excessive phlegm, Tur chest and diaphragm, Anorexia, Dyspnea and tachypnea, abdominal distension  ? Phlegm-heat Syndrome: Fever, Cough, Stethoca- tharsis, Chest pain, Yellowish fur, Greasy fur, Dry stool, Slippery pulse  ? Fire-heat Syndrome: Fever, Cough, Stethoca- tharsis, Red tongue, Yellowish fur, Slippery pulse  ? Qi Deficiency Syndrome: Cough, Stethoca-tharsis, Fatigue and lack of strength, White fur, Spiritlessness  ? Yin Deficiency Syndrome: Cough, Night sweat, Stethoca-tharsis, Sputumless, Dry stool, Thready rapid Pulse  After comparison with TCM clinical medicine, these TCM syndrome diagnosis standard of the orderly?s pneumonia is matched up with the actual situation on the whole.[12-13] The method of building syndrome diagnosis standard of Traditional Chinese Medical by R_Apriori algorithm has much practical significance and worthy of promotion.

