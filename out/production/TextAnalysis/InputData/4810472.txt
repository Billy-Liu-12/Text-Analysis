

The application of Association rule in Library system   JianWei Li JiaYing University Library  Guangdong Province MeiZhou City, China Leejw2004@163.com  PingHua Chen Computer College of Guangdong University of Technology  Guangdong Province GuangZhou City, China phchen@gdut.edu.cn     With the constant development of modern library, the function of library has changed gradually. How to improve the utilization rate of library resources, how to serve the readers better, and how to play more active roles, all have been becoming the concrete task of library in future. The data mining of the books circulation and user needs in library automation system provided effective support for library management. Furthermore, the strong association rules of all kinds of literature extracted from all reader's loan records help library to optimize resources and layout usefully, and provided personalized information services for readers directly as well as speculate the potential needs of users, which will be a good aim for serving readers.

Data mining; Association rule; Library system

I.  INTRODUCTION Data mining, also called Knowledge-Discovery in  Databases (KDD), is the process of automatically searching large volumes of the practical application data which is incomplete, noise, ambiguous and random for patterns[1][2].

With the library information services have been included into international e-commerce, data mining is not only favored in businesses and financial analysts, but also it is increasingly used in library to extract information from the enormous data sets generated by the modern Library automation System. The application of data mining has become a focus of attention.

Data mining is a complex topic and has links with multiple core fields such as computer science and adds value to rich seminal computational techniques from statistics, information retrieval, machine learning and pattern recognition. It could be divided into such as classifications or models according to the task of data mining: classification, data summary, clustering, association rules, sequential pattern, dependency, trends and so on.

The dependency rules fetched from large amounts of data by the association rules have certain credibility. APriori algorithm is a more mature algorithm by making full use of association rules, and it is clear and easy to be implemented.



II. THE ASSOCIATION RULES From the literature [3 ~ 4], we can see that the definition  of association rules: for IK(k=1,2,...,m) is a collection of all items, IK (k=1,2,...,m) known as item. A collection of items is called itemsets. An itemsets having k items is called the k- itemsets. An affairs T is an itemsets which is a subset of itemsets I, and every affairs have an identifier associated TID.

All different affairs constitute the affairs Set D, which constitute the affairs database necessary for Discovery of Association Rules. If itemsets , said affairs T supports affairs X, also known as affairs T include affairs X.

Association Rules is a form of implication: , and  and . The property of association rules Correlates with 4 parameters: namely Support, Confidence, Expected Confidence and Lift, and the support and Confidence can describe the nature of the association rules more directly.

A. Support If the s% affairs of the affairs Set D support itemsets X or  support itemsets Y, then the support of the association rules X => Y is s%. Support described the frequency of the itemsets of X Y in all the affairs.

?????????????? ??????????????????????????  ???????  Among them, " " means the number of elements in sets.

B. Confidence If there are c% affairs in which support itemsets X  support the itemsets Y at the same time in affairs Set D, then the Confidence of the association rules X => Y is c%. So, confidence described the frequency of the itemsets X and Y in the affairs which support itemsets X.

(3) How to choose effective association rules is mainly based  on the support and confidence. In accordance with the definition of association rules, the support measures the frequency of association rules in affairs database, and the confidence measures the strength of association rules.

In affairs database, the association rules can be extracted in any two itemsets. But people only interest in the association rules which meet a certain degree of support and Confidence in practical application. So it?s necessary to determine the two thresholds: a minimum support (minsup) and a minimum confidence (minconf) in extracting the association rules. The association rules which meet the minimum support and     confidence at the same time are the strong association rules. In the studies of association rules, the most famous algorithm is Apriori proposed by Agrawal.



III. APRIORI ALGORITHM Apriori is the Classical algorithm of association rules  proposed by Rakesh Agrawal and Rnamakrishnan Srikant in 1994, which also is the core of all association rules algorithm.

The processes of association rules will be divided into two partitions by Apriori algorithm: First, Access to all the frequent itemsets which meet the minimum support in affairs database; secondly, extract all the strong association rules which meet the minimum confidence from the frequent Itemsets [5].

Fetching the frequent Itemsets is the core issue for extracting association rules. An itemsets having k items is called the k-itemsets. If the itemsets meets the minimum support, then the itemsets is frequent itemsets. K-frequent itemsets are usually recorded as Lk.

Specifically: First of all, find out the frequent 1-itemsets, recorded as L1; use of the L1 and then have a further option to set C2, on the C2 of the items excavated to determine L2 that is often 2-itemsets; This continuous cycle until it can not find more frequent k-of-date. LK each layer of excavation on the need to scan the entire database again.

Apriori found that frequent use of the level of circulating collection, algorithm follows:  L1 = find_frequent_1-itemsets (D); For (k=2; Lk-1??; k++) { Ck = apriori_gen (Lk-1, min_sup); For each transaction t D {//scan D for counts Ct = subset (Ck, t); //get the subsets of t that are  candidates For each candidate c Ct c.count++; } Lk = {c Ck|c.count?min_sup} } Return L= k Lk;

IV. THE ACTUAL DATA MINING IN LIBRARY SYSTEM  A. Analysis of the relevance of the books Papers make full use of the real lending records of library  automation systems in order to carry out data mining about the books? relevance in library. First of all, seeking the 50 most popular books based on books? lending statistics. In 2006, there are 5392 records related to the 50 most popular books after screening 125,586 detailed lending records, and then all these records are divided on the reader in order to form an affairs database, a total of 1988 affairs.

Figure 1. Select the TOP 50 books  SELECT TOP 50 CtrlNo, COUNT (*) AS Count INTO BOOK_COUNT FROM DATAIN2006 GROUP BY CtrlNo ORDER BY Count DESC     Figure 2. Generated Data Item Tables  SELECT * INTO DATAIN2006_TOP50 FROM DATAIN2006 WHERE CtrlNo IN (SELECT CtrlNo FROM BOOK_COUNT)   The stored procedure BOOK_PROC is used to achieve the  process of translating data from the library loan records to the affairs tables. The codes follow: CREATE PROCEDURE BOOK_PROC AS DECLARE @ID VARCHAR(255) DECLARE @MARC VARCHAR(255) DELETE FROM LIBSYS_LEND_D INSERT INTO LIBSYS_LEND_D(TID) SELECT DISTINCT CardNo FROM DATAIN2006_TOP50 DECLARE LENDCURSOR CURSOR FOR SELECT CardNo, CtrlNo FROM DATAIN2006_TOP50 OPEN LENDCURSOR FETCH NEXT FROM LENDCURSOR INTO @ID @MARC WHILE (@@FETCH_STATUS=0) BEGIN IF (SELECT ITEM FROM LIBSYS_LEND_D WHERE (TID=@ID)) IS NULL  Detailed Loan records  (DATAIN2006)   CtrlNo CardNo PName  cDateLoan F200  ?   Records of 50 books (BOOK_COUNT)    CtrlNo Count    Select  The stored procedure BOOK_PROC  Detailed Loan Records (DATAIN2006)  Detailed Loan Records (DATAIN2006_TOP50)  The affairs table (LENDITEM_TOP50)    UPDATE LIBSYS_LEND_D SET ITEM=@MARC WHERE TID=@ID ELSE UPDATE LIBSYS_LEND_D SET ITEM=ITEM+' '+@MARC WHERE TID=@ID FETCH NEXT FROM LENDCURSOR INTO @ID @MARC END CLOSE LENDCURSOR DEALLOCATE LENDCURSOR GO  The database required for extracting association rules have been constructed after data preparation process, as shown in Figure 3. TID is the identification number of affairs, and it is on behalf of the actual identification number of the readers; ITEM is a set of affairs, and it is the collection of borrowing records.

Figure 3. Item tables of books  In the case of the minimum support is 0.2 percent and the minimum Confidence is 50 percent, a total of 7 rules are extracted by using Apriori algorithm to carry out data mining.

The results shown in Figure 4:   Figure 4. Result of books? association analysis  Rule 7, as an example to analyze the rules: Rule 7: 37247, 140271=>133213; support: 0.252 percent,  Confidence: 83.333 percent.

37247,140271,133213 are the identification numbers of  books. According to the numbers, the titles of the three books can be found, they are "Jin Yong's works set [monograph] ""Xuan Xia Ling du Yu [monograph]/Huang Yi", "The Complete Martial Arts Works of Jin Yong [compilation]/Jin Yong". Rule 7 means that: there are more than 83.333 percent readers who borrow "Jin Yong's works set ""Xuan Xia Ling du Yu "at the same time will borrow "The Complete Martial Arts Works of Jin Yong". So the relevance of the three books is great.

B. Analysis of the relevance of Chinese Library Classification(CLC) First, fetching the 10 most popular Sub CLC to carry out  experiment based on books? lending statistics.

Figure 5. Counts of books? Sub_CLC  SELECT TOP 10 Sub_CLC, COUNT (*) AS Count INTO Sub_CLC_COUNT FROM DATAIN2006 GROUP BY Sub_CLC ORDER BY Count DESC   In 2006, there are 7023 records belonged to students of  grade 2004 related to the 10 most popular Sub CLC after screening 125,586 detailed lending records.

Figure 6. Records of books? Sub_CLC  SELECT CardNo, PName, DispName, F200, CLC, Sub_CLC INTO Sub_CLC _04_2006 FROM DATAIN2006 WHERE Sub_CLC IN (SELECT Sub_CLC FROM Sub_CLC_COUNT) AND RIGHT (Grade, 2) ='04'   All these 7023 records are divided on the reader in order  to generate an affairs database about sub CLC, a total of 2356 Affairs.

Figure 7. The item tables of books? sub CLC  In the case of the minimum support is 15 percent and the minimum Confidence is 50 percent, a total of 12 rules are extracted by using Apriori algorithm to carry out data mining.

The results shown in Figure 8:   Figure 8. Result of books? sub CLC association analysis  Rule 8, as an example to analyze the rules: Rule 8: TP, H3 => I2; support: 18.973% percent,  Confidence: 70.952% percent.

TP, H3 and I2 are the sub Chinese Library Classifications,  and the titles are "Automation & Computer technology ", "Foreign languages", " Chinese literature". Rule 8 means that: there are more than 70.952 percent readers who borrow books    about "Automation & Computer technology" and "Foreign languages" at the same time will borrow books about "Chinese literature ". So the relevance of TP, H3 and I2 is great.



V. THE IMPLEMENTATION OF ASSOCIATION RULES IN LIBRARY  In traditional library, the decisions are subjective, one- sided or blind most of the time because the decision-making rely on the experience, then they could not adapt to the development times. [6] A unified focus decision-making information available could be extracted from a variety of internal and external information involved in the Library Information System data after processed and converted by data mining Data mining, what?s that could prevent errors caused by the lack of information in decision-making. Using data mining could provide strong support for the leadership to make scientific decisions.

A. Access to utilization of documents, optimize the layout of the collection and improve resource utilization.

First of all, with these strong association rules of the books? classification, the library can have good decision- making to achieve optimal allocation of resources and devices, have reasonable and better procurement of all types of literature, and have rational distribution of stock and resources.

For example, Rule 2: K8, I2 => H3 (support: 17.784% and Confidence: 70.777%). Rule 2 means that: there are more than 70.777% percent readers who borrow books of K8 (biography) and I2 (Chinese literature) at the same time will borrow books of H3 (commonly foreign languages), then these books should be arranged on adjacent position while considering these types of books should be convenient for readers to borrow in order to speed up the circulation of books.

Secondly, the efficient procurement of books affecting the better operation of library system is the first key of library.

But now, most of books? procurements are based on librarians? own wish usually, that is the procurements are lack of adequate survey of the books? inventory and utilization, and are lack of readers? demand investigation. What?s that causes the situation that no one interests in new books on shelves for months, even years, and what the readers really need is scarcity.

Taking the purchasing decision support system is lack in library into consideration, the structure of books? collection and distribution in library should be optimized and adjusted by making use of data mining technology.

The data mining results showed that the general behavior characteristic of students? books borrowing in library is "large amount but a few kinds ". So the copies of the books which are relatively close with curriculum and have a strong relevance in category are necessary to increase.

Teachers in university required for a wide range of professional information for scientific research, so the books? procurement for teachers should be ?a few amount but large kinds?. For lack of funds, it is proposed to increase supplies of e-books which are more popular for readers. After all, e-books have a great price advantage contrast with paper books. If  literary books are the reader's favorite books, then the literary e-books can have more purchase. The books purchased by librarian who had a better understanding about the needs of readers, teaching and scientific research can be made the better use to reduce idle and to achieve goal-directed resource optimization.

B. Access to the needs of readers, to provide personalized information services.

The traditional library has been in accordance with the concept of "waiting for readers", and the concept and models will no longer be able to adapt for the service of modern library [7]. After collecting and processing information involving lots of acts of readers in borrowing books, Data Mining identified the interests, habits, tend and demand of specific individuals or groups of readers, then inferred the next acts of the corresponding group or individual. So the specific services for the custom content can be supplied for them.

This personalized information services not only increase satisfaction of readers and get better use of resources, but also it is conducive to the library? further development compared to the passive service of "waiting for readers".

For example, while readers visiting the new information or bibliographic data which recommended by library in a timely manner, the strong association rules of books will promote related topics information for readers or guide readers to find information through tips in order to give books recommendation and to achieve better personal service. As an example Rule 7: 37247, 140271=>133213 (support: 0.252 %, Confidence: 83.333%), if library recommended "Jin Yong's works set " and "Xuan Xia Ling du Yu " when readers borrow "The Complete Martial Arts Works of Jin Yong", the recommendation will enhance the interest of readers as well as the loyalty to library. Although the reader's interest will change along with the development of the times, the library system have the ability to discover the latest needs of readers automatically with the application of data mining technology.

