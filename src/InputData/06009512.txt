A New Equation for Calculating the Weight of Fuzzy Itemsets

Abstract  This paper proposes a new equation for calculating the weight of fuzzy itemsets candidates. This equation was applied in the NARFO* algorithm [1], which is an approach for mining generalized association rules based on fuzzy ontologies. Another contribution of this work is to perform comparative tests between NARFO* and GARPA algorithm [2]. Experiments showed that NARFO* produces an amount of rules with 60% of reduction in comparison with the amount generated by GARPA algorithm.

Keywords: Data Mining, Generalized Association Rules, Redundant Rules, Fuzzy Ontology  1. Introduction  Data mining is a very important step of knowledge discovery in large databases. In summary, we can say that data mining provides one automatic method for discovery patterns, without the biases and limitation of an analysis based only in human intuition.

One important topic in data mining research is the discovery of association rules [3]. Researchers like [4], [5], [6], [7] have extended the process of mining association rules in order to mining generalized association rules, which are rules with items belonging to any level of the related taxonomy (is-a hierarchies) or ontology.

An ontology is an explicit specification of an abstract and simplified view of the world that we wish to represent [8], and because this, they can be utilized for represent the semantics of the items. However, crisp ontologies are not capable to represent imprecise situations, because they are based on traditional logic, which considers only two Boolean values, ?1? and ?0?, i.e., ?true? or ?false?.

An alternative for such cases is to utilize fuzzy ontologies, that are a combination of fuzzy logic [9] with crisp ontologies.  Thus, some researchers have used fuzzy ontologies in order to extract generalized association rules, like XSSDM [10] and NARFO algorithm [11].

XSSDM and NARFO algorithms are based on concept of fuzzy relation [9], and use fuzzy ontologies to identify similarity relation between elements of  a database.

In this sense, the remainder of this paper is organized as follows. In section 2, we present related work. Section 3 explains the NARFO* algorithm and shows the new improvement. Experiments are showed in section 4, and section 5 brings some conclusions.

2. Related Work  Researchers have used taxonomies and ontologies in mining association rules, in order to enhance the knowledge discovery process. For example, GARPA algorithm [2] was proposed for to obtain a compact and representative set of rules, using a domain knowledge expressed by taxonomies. In this algorithm the generalization process can occur on only one side of a rule (antecedent (lhs)) or (consequent (rhs)) or both sides (lrhs). A subset of specific rules will be replaced for a more general rule only if the support or confidence of this rule is t% greater than the highest of the same selected measure in the specialized rules. For example, suppose the rule milk ? bread represents a generalized rule and that milk is represented in taxonomy by milka, milkb, milkc, milkd and milke. The rule milk ? bread will be generalized even if there is not a rule for each kind of milk.

However, in many real-world applications, the taxonomic structure may not be crisp but fuzzy. For this purpose, [12] introduced the problem of mining generalized association rules with fuzzy taxonomic structures.

In this context of fuzzy structures, [10] proposed the XSSDM algorithm. This approach uses fuzzy ontologies to extract similarity relations existent among database items, exploring more semantic enrichment in the rules.

XSSDM identifies similarity relations based on a user- specified minsim parameter, and if two items have the similarity degree greater than or equal the minsim, fuzzy associations are expressed in the association rules extracted by the algorithm. For example, if item1 and  1IEEE IRI 2011, August 3-5, 2011, Las Vegas, Nevada, USA    item2 have the degree of similarity greater than or equal minsim in the fuzzy ontology, a fuzzy association is done and a fuzzy itemset is created (represented as item1~item2).

Later, in [11], XSSDM was extended and received the name of  NARFO. NARFO algorithm includes new treatments of redundancy and a process of infrequent itemsets generalization. This algorithm is subdivided into eight steps: data scanning, identifying similar items, generating candidates, calculating the weight of candidates, generalizing infrequent itemsets, generating rules, rules generalization treatment and redundancy treatment. In relation to redundancy treatment, for example, if both Apple~Tomato ? Mutton and Apple ? Mutton are extracted, NARFO only considers the first one. In the generalizing infrequent itemsets, if all descendants of an ancestor are infrequent, but if the sum of the descendants support is greater than or equal the minsup value, the algorithm generalizes the descendants to its ancestor and add this generalized itemset to the set of frequent itemsets.

3. Calculating the Weight of Fuzzy Itemsets  NARFO* is an improvement of NARFO algorithm, and your contribution is the introduction of a minGen parameter. Thus, all steps of NARFO* are the same of the NARFO algorithm, except by logic involved in the generalization process. In this case, if X% of descendants is included in different rules, the generalization is done, and the items that are not part of the generalization are showed to avoid wrong information. For example, if minGen value is 0,40 and rules like Apple ? Mutton, Tomato ? Mutton are generated, the algorithm generalizes these rules to Fruit ? Mutton, since Apple and Tomato are more than 40% of Fruit?s descendants.

In relation to calculating the weight of candidates, the database is scanned, and each of its rows is confronted with the set of candidate itemsets, one after one. For each occurrence of a non-fuzzy candidate itemset in a row, its weight is incremented by 1. Otherwise, it is incremented by the fuzzy value. For example, assuming a fuzzy item item1~item2, and supposing that the similarity degree between item1 and item2 is 0.8, each occurrence of item2 in the database can be considered equal to 80% of item1 occurrence. Consequently, for each item1 occurrence we sum 1 item1 occurrence, and for each item2 occurrence we sum 0.8 item1 occurrence. The problem can also be seen in the contrary manner, summing 1 item2 occurrence for each item2 occurrence, and 0.8 item2 for each item1 occurrence. This can be obtained by the weight equation proposed by [13] (Equation 1). The ?f? factor is obtained through equation 2, which corresponds to the minimum similarity degree involving in the fuzzy association.

???????	(?	? ?) ?  ? ?1 + ?2 ? (1)  f = min(sim(item1,item2), ... ,sim(item_n-1,item_n) (2)  The weight is the number of occurrences of an itemset in the database, and the support of an itemset is the weight divided by the number of transactions. Thus, the weight is completely related to support and confidence of the rules.

Considering this, we observed that the equation proposed by [13] has some limitations, mainly to calculate the weight of fuzzy itemsets with three or more elements, and these limitations can lead to inaccuracy on both support and confidence of the rules.

In this sense, in order to obtain more precision in the mentioned measures, and improve the equation 1, we will do some adjustments in the same, proposing a new equation (equation 3).

First, this new equation is an average, and for this the denominator will be the number of items involved in fuzzy association. Second, differently to equation 1, we add a ?(n-1)? multiplying the ?f? factor. The ?n? variable is the number of items in the association.

???????	(?	? ?) ?  ? ?1 + (? ? 1)?? ? (3)  The (n-1) was included because we observed that, considering associations with two or more elements, the equation proposed by [13] does not include any sums of [weight(item) x f ]. For example, consider the situation where the number of elements of an association is three, and the minimum similarity between item1, item2 and item3 is 0.5.

By Equation 1, the weight of item1~item2~item3 would be three, i.e., [(weight item1 + weight item2 + weight item3)/2] + [(weight item1 * f)/2 + (weight item2 * f)/2 + (weight item3 * f)/2] = (1 + 0.5 + 0.5) + (0.5 + 0.25 + 0.25) = 3.

However, analyzing the Figure 1, for situation A, we have (weight item1 + (0.5 * weight item2) + (0.5 * weight item3)) = (2 + 0.5 + 0.5) = 3 occurrences. For situation B we have (weight item2 + (0.5 * weight item1) + (0.5 * weight item3)) = (1 + 0.5 + 0.5 + 0.5) = 2.5 occurrences.

For situation C we have (weight item3 + (0.5 * weight item1) + (0.5 * weight item2)) = (1 + 0.5 + 0.5 + 0.5) = 2.5 occurrences. The average of these situations is obtained from [(situation A + situation B + situation C) / 3].

Organizing the ?(situation A + situation B + situation C)? expression in commons terms, we would have [weight (item1) + weight (item2) + weight (item3)] + [2 * (weight (item1) * f) + 2 * (weight (item1) * f) + 2 * (weight (item1) * f)].  Thus, according to equation 3, the     weight for these situations would be 2.66, and not 3 as would be obtained from Equation 1. The Equation 3 is valid for all ?n? greater than or equal two.

Figure 1 ? Fuzzy Occurrences.

4. Experiments  This section shows some results of NARFO* algorithm with the new equation for calculating the weight of fuzzy itemsets, and also compares NARFO* to GARPA algorithm. The objectives of these experiments are demonstrated that the new equation for weight of fuzzy candidates provides more accuracy in both the support and confidence of the rules, and also evaluate the performance of NARFO* in the generalization process, in relation to other algorithm. In ours others studies, NARFO* was compared only with its previous version, i.e. NARFO and XSSDM algorithms.

In these experiments, data from Brazilian Demographic Census 2000, provided by Brazilian Institute of Geography and Statistics (IBGE), were used.

This database contains information about Years of study, Race or ethnicity and Sex. The Ont_IBGE ontology (Figure 4)  was modeled by Prot?g?-OWL [14].

For demonstrated that the weight can really affect the measures of the rules, and that our new equation provides more accuracy in the same, we compared the values of support and confidence of some rules generated by NARFO* before and after the alteration of the equation.

The minsin, minsup and minconf value was defined as 0.1, 0.2 and 0.2, respectively. The Figure 1 shows the confidence comparison of this experiment.

The second battery of tests was performed to compare the NARFO* with GARPA algorithm, and analyze the results obtained. According to [2], the sup-0% (measure ? t%) configuration of GARPA produces the most reduced generalized association rules sets. Thus, all experiments  we used the sup-0% (best configuration), and lrhs side of generalization in the GARPA, and adjusted mingen parameter of NARFO* with 0.1. Besides, the rules used as input for the GARPA were extracted from Apriori algorithm with the same parameters (minsup and minconf) used in NARFO*.

All experiments were performed considering the generalization of only one level of the ontology, and we created the taxonomy for GARPA based on ontology used in NARFO*. The tests were done with constant values of minconf and minsim, 0.2 and 0.4, respectively. The minsup value was varied from 0.5 to 0.15. The Figure 3 demonstrates that, for the smallest minsup (0.15), the reduction was 60%. One of the reasons for this reduction is that NARFO* finds similarity between the items in the ontology, and this contributes to the reduction of generated rules.

Figure 2 ? Confidence Comparison.

Figure 3 ? NARFO* and GARPA Comparison.

Ru le  Ru  le  Ru le  Ru  le  Ru le  Ru  le  Ru le  Ru  le  Ru le  Ru  le   % -  Co nf  id en  ce   Rules  Before  After    0,5 0,45 0,4 0,35 0,3 0,25 0,2 0,15  Ru le  s G en  er at  ed   Minimun Support  NARFO* GARPA  60%     Demographic_characteristic  Years_of_study Race_or_Ethniticy  Not_determinated Four_to_ten_years Black Brown White  Sex  Eleven_years_or_more Less_then_three_years  Male Female  No_declaration Asian Indigenous  0,8  0,7  Figure 4 ? Ont_IBGE Ontology.

5. Conclusions  The new equation to calculate the weight of fuzzy itemsets provides more accuracy for both support and confidence of the rules. Moreover, the experiments prove that the variations in the support and confidence values can impact the amount of rules generated by the algorithm. For example, considering the Figure 2 and assuming the minconf parameter equal to 60%, before of the change the confidence of the Rule 1 was 60%, and the same would be presented to the user, but after our modification this rule would not be presented, because your confidence would not be 60%, reducing the amount of generated rules.

The experiments proved that NARFO* reduces the amount of rules generated by 60% compared to GARPA algorithm, but, one of the advantages of GARPA algorithm is that it performs the generalization in more than one level of taxonomy, and the NARFO* is limited only to leaf nodes. On the other hand, the rules generated by NARFO* have more expressive semantics, from similarity associations existing in the fuzzy ontology.

6. References  [1] R. G. Miani, et al., "NARFO* algorithm: Optimizing the process of obtaining non-redundant and generalized semantic association rules," in 12th International Conference on Enterprise Information Systems, ICEIS 2010;, Funchal; 8 June 2010 through 12 June 2010;, 2010, pp. 320-325.

[2] V. O. D. Carvalho, et al., "Obtaining and evaluating generalized association rules," in 9th International Conference on Enterprise Information Systems, ICEIS 2007, Funchal, Madeira; 12 June 2007 through 16 June 2007, 2007, pp. 310-315.

[3] R. Agrawal, et al., "Mining association rules between sets of items in large databases," Washington, DC, USA, 1993, pp.

207-216.

[4] R. Srikant and R. Agrawal, "Mining Generalized Association Rules," presented at the Proceedings of the 21th  [5] C.-M. Wu and Y.-F. Huang, "Generalized association rule mining using an efficient data structure," Expert Systems with Applications, vol. 38, pp. 7277-7290, 2011.

[6] W. Yin-bo, et al., "Mining multilevel association rules with dynamic concept hierarchy," in Machine Learning and 287-292.

[7] D. Kunkle, et al., "Mining Frequent Generalized Itemsets and Generalized Association Rules Without Redundancy," Journal of Computer Science and Technology, vol. 23, pp.

77-102, 2008.

[8] T. Gruber, "A translation approach to portable ontology specifications," Knowledge Acquisition, vol. 5, pp. 199-220, 1993.

[9] L. A. Zadeh, "Fuzzy sets," Information and Control, vol. 8, pp. 338-353, 1965.

[10] E. L. G. Escovar, et al., "Using Fuzzy Ontologies to Extend Semantically Similar Data Mining," 21 Brazilian Symposium of Database, 2006.

[11] R. G. Miani, et al., "NARFO Algorithm: Mining Non- redundant and Generalized Association Rules Based on Fuzzy Ontologies," in Enterprise Information Systems.

vol. 24, J. Filipe and J. Cordeiro, Eds.: Springer Berlin Heidelberg, 2009, pp. 415-426.

[12] Q. Wei and G. Chen, "Mining generalized association rules with fuzzy taxonomic structures," in Fuzzy Information Processing Society, 1999. NAFIPS. 18th 477-481.

[13] E. L. G. Escovar, et al., "SSDM: A Semantically Similar Data Mining Algorithm," 20 Brazilian Symposium of Databases, 2005.

[14] H. Knublauch, et al., "The Prot?g? OWL Plugin: An Open Development Environment for Semantic Web Applications," in The Semantic Web ? ISWC 2004. vol.

3298, S. McIlraith, et al., Eds.: Springer Berlin / Heidelberg, 2004, pp. 229-243.

