New Criterion for Mining Strong Association Rules in Unbalanced Events

Abstract   Association rules mining is an important task in data mining and the normal measures support and confidence are useful for finding association rules between the items. However, the process of finding frequent items would prune infrequent items which may include some useful relationships of association patterns. The new measures comsup ? comcof and comsup? are proposed to resolve this problem effectively. By comparison and taking examples, these new measures proved to be effective in the special situation, and some interesting rules could be found in the unbalanced events in which include the infrequent items.

1. Introduction  Mining association rules on large data sets has received considerable attention in recent yeas. In the literature of association rules mining, numerous interestingness measures have been proposed to find the relationships of frequent patterns [1-3]. Despite frequent patterns always contain useful information; it is not all cases meet. For example, some rule in a dataset has high support and confidence, but it does not imply that the two transactions in this rule are strongly associated if one of the transactions might occur very popular. On the other hand, rare cases means small probability events that are often of special interest in some situation like predicting telecommunication equipment failures [4] and finding association between infrequently purchased supermarket items [5]. It is well known that the support and the confidence are two important factors in association rules mining, on which the frequent patterns will be gotten as a key factor. If a transaction A is a small probability event, it is positively associated with another transaction B . But for the entire transaction sets, it is not a frequent item because of poor support and confidence. It could not find the strong association rule A B? in the traditional criteria of view. For this situation, new interesting measures should be proposed to mine rare but strongly associated rules except for the support and confidence.

There are many statistical correlation analysis methods proposed in [6-7], which are newly measures for efficiently finding strongly correlated rules. [7] selected seven measures for their mining process as follows: 2? , Lift , AllConf , Conference , Cosine , Kulczynski and MaxConf , and showed  their results for each data sets. From the list of the comparison, a generalization of the measures in one mathematical framework has been shown and null-invariant interestingness measures for mining small probability events has been presented. Some of the measures like 2? and AllConf are also studied in [1].

In this paper, a new method based on statistical and new criterion will be proposed. Besides the usual criterion support and confidence, new criterions Comsup and Comconf are specially for mining association rules about scare events. Although it is difficult to find rare but strongly correlated sequences, this statistical method can resolve it efficiently.

This paper is organized as follows:  In Section 2, we introduce the statistical model of association rules mining and their definitions of the different measures, after that the examples have proved the accuracy and the efficiency of the measurements. In Section 3, we compare these measures which were proposed in the above section. A conclusion is  drawn in Section 4.

2. The statistical model proposed In this special situation, frequent patterns don?t play  essential role in mining rare strong association rules any more, the construction of an accurate statistical correlation model is crucial. The support and confidence of the minimum standards are no longer enough. This kind of mining issues can be seen as such following two sub-problems: definite the data in a dataset between what is scarce but very important data; find an effective way in mining the abnormal data of the above definition.

2.1. Definitions of Different Measures Let 1 2{ , , ..., }mI i i i= be a set of items in the alarm  transaction database 1 2{ , , ..., }nD t t t= ,   DOI 10.1109/IIH-MSP.2008.73     ( 1, 2,..., )ji j n= is an item of the itemset I . A transaction is a set of sequence consisted with the items.

Let (1,..., )j n= denotes the count of the transaction of X in D  when Dt ? and I t? . The support of I  describes as ( )Support I  _ ( ) /Support Count I T= , where T is the count of transaction in D . The association rule is described as  1 2: I Ir ? , where itemsets  1 2,I I I? and 21I I ?=? , the rule describes strong relationships between the items based on the transaction in D ?The confidence of an association rule r shows the conditional probability that a transaction contains  2I ,given the confidence of the rule r as 1 2 1( ) / ( )Confidence Support I I Support I= ? In accordance  with the usual method is to find the frequent items firstly, then generate association rules with the minimum support and confidence. In the first step, the disadvantage of support is rare item problem, items occur very infrequent in the data set are pruned although they would still produce interesting and potential valuable rules. The rare item is important for transaction data which usually have a very uneven distribution of support for the individual items. The following definitions of comparison support and confidence are proposed for dealing with this problem.

Definition 1 (Comparison support, Comsup)  Let a and b be two events. The Comparison support is described as:  ( , ) ( ) / ( )Comsup a b P a b P b a=                  (1)  Define 1/minComsup = maxComsup ,of which minComsup and maxComsup both are threshold values.

If Comsup maxComsup? or Comsup minComsup? , suppose the two events are probably strongly correlated.

Definition 2 (Comparison confidence, Comconf)  For the two events a and b , the Comparison confidence can be represented as:  ( , ) { ( ), ( )}Comconf a b max P a b P b a=               (2)  The comparison confidence is described with the conditional probability of events a and b . This concept shows the unequal relationship of the two.

Even two events have great difference, but as long as the conditions to meet the threshold, there may be a strong association between the two events.

Definition 3 (Coherence)  From [6], the statistical measure Coherence can explain the inherent relationships of the items as:   ( )  ( , ) ( ) ( ) ( )  sup ab Coherence a b  sup a sup b sup ab =  + ? (3)  The value of Coherence is in range [0, 1]. In order to rewrite the definition 3.into the form of conditional probabilities like above two definitions as follows:  1 1 1( , ) ( ( ) ( ) 1)Coherence a b P a b P b a? ? ?= + ?       (4)  The rewriting of Coherence need the assumption that ( ) 0sup ab ? .

From above three definitions can be seen that: comparison support is a relative ratio of the different supports. As long as the ratio meets certain threshold condition, no matter frequent or not, the strong association rules may exist between the different events although the comparison support is found to not capture direction of associations adequately. The specific points can be discussed as the following situations: if both items are frequent, the association rules can be generated according to the previous standards like minimum support and the minimum confidence; If the one of two items is infrequent and the other is frequent, the comparison support can be used to determine whether they have the probability to be strongly correlated; If both items are infrequent, it needs not only the comparison support but also the comparison confidence which reflects the degree of interdependence between the items to judge the association rules. When the absolute maximum conditional probability value exceeds the maximum comparison confidence threshold, it shows that the items have the strong correlation. The valuable information of the infrequent items may lose according to the original criteria for deleting infrequent items.

The comparison support and confidence proposed for finding the association rules in rare events can be proved to be efficiently. Coherence in the reference [6]is an accurate measure to reflect the relationship between the frequent items but it is unsuitable for the infrequent items. From the following example of these measures, we can see that the methods have the advantage to mine association rules in rare events.

2.2? Example for the new measures In typical transaction databases, take two items  ,a b for example, Table 1. Illustrate the above criteria in the judgment.

TABLE I.  TWO EVENTS OF STATISTICAL MEASURES     1D  2D  3D  4D  ab ab ab ab   Table 1 selects four data sets for two events a and b,  which stand for four cases, then we select four measures: Support ? Comsup ? Comconf and Coherence, and show their results for each data sets. In Table 1, the first four items of the first line denote the support counts when the items a and b occur at the same time or separately. For instance, ab denotes the support of the event ?a and b?.  With the four support counts, all the correlated data and conditional data can be caught for the measures. In the measures, Support used to find the frequent items, Comsup and Comconf are new measures this paper proposed, the measure Coherence is listed for comparison. From the four databases in the table, a and b appear the same frequency and the ratio of the appearance is high.

However, the count of ab  in 1D  is larger than in 2D , which stands for the total number is larger than that in 2D . From the Support value can see this difference clearly, the Support value in 2D is larger than in 1D , so the result show the ab in 2D is more frequent and the measure Support can be better reflected the frequency of the items. When the two items are both frequent, from the Support and the Confidence can easily get the strong association rules like the first situation above.

Then let?s examine 3D  and 4D , where the counts of ab are small, it is not introduced whether they are strongly correlated with the Support because of infrequent. For the count of a or b is same and scare, it does dot necessarily use the Comsup but also the Comconf to find the strong association rules. In 3D  and 4D , the count of a and b is the same, from the lower values of the four measures can be shown that a or b are not strongly correlated. Table 2 shows the third situation that one item is frequent and the other is infrequent.

TABLE II.   THE RARE EVENTS SITUATION  5D  6D  ab ab ab ab    Two contrary instances are given in Table 2, in 5D , a is obviously frequent against b is scare, by contraries, the b is frequent in 6D . Relatively typical of this table reflects our study conditions. In this table, the values of the measures Support and Coherence are lower than the  normal thresholds which can not judge the real correlation of the items. In 5D , a and b have different  status because ab is considerably greater than ba .

When b occurs, a appears with high probability, which means that b is strongly associated with a in despite of b is infrequent in the dataset. In such cases, the two items may be strongly associated on the basis of the new measure Comsup, from the definition of Comsup, the situation of scare but strongly associated is included. Only the measure Comsup is not enough indeed, the measure Comconf can decide the conclusion finally. Similarly, in 6D . According to the two judge conditions of (1) can be seen that if Comsup maxComsup?  or Comsup minComsup? , the two items may be positively associated, the data in 5D meets  the first inequality and the value in 6D meets the second inequality. Although these examples are rather special, the general situation can be in accordance with Table 1 with these judge methods, but in this circumstance it will miss some very valuable information. In fact, some important events in the database are not frequent occurrences, but they can lead to very serious consequences. Using the new Criterion this paper proposed can satisfactorily resolve this problem.

2.3. Improvement of the measures From above definitions and specific examples can  be seen that several measures have different efficiency and use of environment. The following analyses decide which occasion the new measure uses. The conditional probability should be considered in these measures as a proof process. The certification process as follows:  ( ) ( ) ( )  ( )( ) ( )  sup ab sup ab P a b  sup bsup ab sup ab = =  + (5)   ( ) ( ) ( )  ( , ) ( )( ) ( )  sup ab sup ab sup a Comsup a b  sup bsup ab sup ab  + = =  + (6)    ( , ) max{ ( ), ( )}  ( ) ( ) max{ , }  ( ) ( )  Comconf a b P a b P b a  sup ab sup ab  sup b sup a  =  = (7)  The high or low value of Comsup describes the events have the unbalanced conditional probabilities. In order to unify the criteria, the formula (1) should be changed into the following formula:  '( , ) ln[ ( ) / ( )]Comsup a b P a b P b a=                    (8)     Once modified, the two standards will be measured with a statistical consistency. For the definition of the conditional probability, Comsup? can be connected to the support of the events as follows:  ( ) ( ) ( , ) ' ln ln  ( ) ( )  ( ) ln ( , ) '  ( )  sup a sup b Comsup a b  sup b sup a  sup b Comsup b a  sup a  = = ?  = =  (9)  The measure Comsup? is statistics unified when the two events occur together unbalanced no matter a is more than b or a is lower than b. If the events a and b are statistically dependent, the value of Comsup? may be high, how to do in this case. In order to deal with this problem, the measure Comconf is essential and must be used with Comsup? to whether there exists association between the items which the conditional probability can show the correlation.

Take above dataset for example, the values of Comsup? understate the same correlation which is useful for finding the interesting relationship. The table 2 can be changed into table 3.

TABLE III.  THE IMPROVEMENT OF THE TABLE 2   5D  6D  ab ab ab ab   The values of the Comsup? and Comconf are as  the same in 5D  as in 6D . It describes that the rule  b a? in 5D and the rule a b? are both interesting.

3. Comparison of the measures This section compares all the measures which  discussed in above section, and then in the end decide which measure can find the interesting rules.

Comsup is the comparison and relative value of the support, support is a frequency constraint but the Comsup can find the potential association rules and it is very useful in exceptional circumstances. Comconf is a comparison value of the confidence, which is actually the larger one of the confidence (a, b) and confidence (b, a). Confidence is directed and gives different values for the rules a b? and b a? . For the normal situation, Support is first used to find the frequent items and exploiting its down-ward closure property to prune the items and reduce the search space. For the special situation, Comsup can find some infrequent but strongly correlated items and association rules with Comconf.

Comsup? is an improvement of Comsup which can unify the value of the Comsup. Coherence is a statistical  measure to reflect the relationship of items which can find the strongly positive associations when the items appear frequent.

4. Conclusion The normal association rules mining measures  support and confidence are not enough to meet all cases when the situation becomes very complicated.

The new measures comcof ? comsup and its improvement comsup? are proposed for some special case like mining association rule with unbalanced events. By comparing with the measures support and coherence, the measures comsup? and comcof proved to be very effective and some rare but useful information can be mined. In future research work, these new measures will be used in actual test environment.

5. References [1]S.Brin, R.Motwani, J.D.Ullman, and S.Tsur, ?Dynamic itemset counting and implication rules for market basket analysis? In  Proc. of SIGMOD,pp.255- 264,1997.

[2]G. Grahne, L.Lakshmanan, and X. Wang, ?Efficient mining of constrained correlated sets? In Proc. of ICDE, pp.512-521,2000 [3] E.Omiecinski, ?Alternative interest measures for mining associations?, IEEE Trans. Knowledge and Data Engineering, Vol 15, pp.57-69, 2003.

[4]R. Vilalta, C. V. Apte, J. L. Hellerstein, S. Ma, and S. M. Weiss, ?Predictive algorithms in the management of computer systems?, IBM SYSTEMS JOUNAL, Vol 41.NO 3, pp. 461-474, 2002.

[5]Tianyi Wu, Yuguo Chen, and Jiawei Han, ?Association Mining in Large Databases: A Re- Examination of Its Measures? in Proc. of PKDD'07, pp. 621-628, 2007.

[6]R. J. Hilderman and H. J. Hamilton., ?Knowledge Discovery and Measures of Interest?.   Kluwer Academic, 2001.

[7]P.N. Tan, V. Kumar, and J. Srivastava, ?Selecting the right interestingness measure for association patterns?. In KDD, pp. 32-41, 2002.

