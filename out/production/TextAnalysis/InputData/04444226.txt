The Role of Least Frequent Item sets in Association Discovery

Abstract   Advances in commercial and scientific data  collection have generated a flood of data which has triggered the need to turn such data into useful information and knowledge to identify novel, potentially useful patterns in data stored in databases.

This work presents the development, implementation and application of an adaptive Apriori Algorithm for mining large datasets focusing on extracting interesting associations rules for less frequent item sets. The relevance of the adaptive Apriori algorithm has been studied with respect to the set of data that was obtained by applying the transitive closure property among objects obtained from the biomedical scientific literature where both frequent and infrequent events need to be detected. Three adaptive Apriori Association Rule Mining methods, the Weight Induced Apriori Association Rule Mining (WIAARM), Weight and Significance Induced Apriori Association Rule Mining (WSIAARM) and Significance Induced Apriori Association Rule Mining (SIAARM) are presented to effectively prune and extract meaningful association rules. These rules were applied on a large set of biological entity-entity association records and the results indicated that both WIAARM and WSIAARM were able to discover item sets with low and high frequency.

1. Introduction   Association rules are patterns discovered in data  that includes the concept of transaction, basket or group. Given a transaction based dataset, association rules specify patterns within that dataset. Association rules thus identify collections of data attributes that are statistically related in the underlying data. The traditional association rule mining problem can be described as follows: Given a database of transactions, a minimal confidence threshold and a minimal support  threshold, find all association rules whose confidence and support are above the corresponding thresholds.

These types of association rule discovery is also termed as market basket analysis. Apart from market basket transaction analysis, association rules can be applied to other types of data records. In business, main KDD (Knowledge Data Discovery) application areas includes marketing, finance (especially investment), fraud detection, manufacturing, telecommunications, Internet agents, cross-marketing, catalog design, loss-leader analysis, clustering, classification [1].  KDD can also be applied to text mining (new group, email, and documents), web mining, stream data mining and DNA and bio-data analysis.

In the biomedical field, the availability of scientific literature in electronic format such as Medline has made the development of automated text mining systems and hence ?data-driven discovery? possible. Text mining enables analyzing large collections of unstructured documents for the purposes of extracting interesting and non-trivial patterns or knowledge. One type of knowledge that can be discovered from literature is the association between biological entities such as proteins, genes, cells, diseases, etc. Such associations can be ?explicit?, ?implicit?, or ?casual?. Explicit associations are those relationships that are mentioned in given sentence such as, protein A interacts protein B. Implicit associations refers to transitive relationships where A?B and B?C means, A?C. Causal associations are based on co-occurrence of multiple entities within a given document and across several documents. The hypothesis is that if multiple biological entities are mentioned in a given document, then these entities may be biologically related in some manner. If a set co-occurring biological entities within and across several documents can be generated using literature mining techniques, then association discovery rules can be applied to obtain interesting patterns. For example, an interesting pattern could be the discovery          of a rule where a particular protein co-occurs with a specific disease with high probability. However, in the biomedical literature databases, new information is always added and hence the frequency of such new data may be very low. In such cases, conventional rule discovery algorithms may fail.

In this paper we propose a novel approach to discover both high and low frequency item sets and apply it to biomedical problem domain for rule discovery. Section 2 gives an overall background in association rule discovery, Section 3 presents a novel adaptive apriori algorithm, Section 4 and Section 5 provides an empirical analysis of the algorithms presented, and Section 6 discusses the results when the algorithms were applied to biomedical data sets.

2. Association Rule Discovery   The Apriori algorithm is by far the most well  known association rule mining algorithm. Work by Agrawal [2] has identified the complexity of the problem for generating association rules in large transactions and proposed Apriori technique for efficient generation of association rules. If there are m items in a database, there will be 2m possible item sets, and m can easily become large. Therefore, Apriori techniques to prune item sets based on a minimum support such that only large item sets are considered in subsequent passes. Individual items are ordered in decreasing order of their frequency of occurrence in the database. Then the weight of the ith item in the order is assigned as  where ? is a real number such as 0.000001.

Cai [3] introduced weighted items into Apriori Association Rule Mining and instead of using support, used weighted support and normalized weighted supports. Assumptions were made in formulating weighted support and normalized weighted support.

The weighted support was obtained as,  and the normalized support obtained as,  where k is the size of the item set (X?Y).

The problem with using weighted support and normalized weighted support is that the minimum support is not confined between 0 and 1 and so is the confidence when the weights are not within 0 and 1.

Work by Steinbach [4] describes a framework for generalizing the notion of support and introduced the hyperclique pattern. They have generalized support to include pattern evaluation functions, summarization  functions and the support functions that can be created from the prior two functions. A hyperclique pattern is a frequent item set with the additional requirement that every item in the item set implies the presence of the remaining items with a minimum level of confidence known as the h-confidence. They have applied a minimum h-confidence to further prune the item sets.

Three other measures, lift, leverage and conviction [5] have been introduced to inspect the generated association rules. In a simplified form, given a rule X ? Y, lift is the ratio of the probability that X and Y occur together to the multiple of the two individual probabilities for X and Y:   If this value is 1, then X and Y are independent.

The higher this value, the more likely that the existence of X and Y together in a transaction is not just a random occurrence, but because of some relationship between them. Lift [4] measures how many times more often X and Y occurs together than expected if they where statistically independent. Lift is not down-ward closed and does not suffer from rare item problem. Leverage measures the difference of X and Y appearing together in the data set and what would be expected if X and Y where statistically independent. The rational in a sales setting is to find out how many more units (items X and Y together) are sold than expected from the independent sells.

Leverage and lift measure similar things, except that leverage measures the difference between the probability of co-occurrence of X and Y as the independent probabilities of each of X and Y, i.e.,  Finally, conviction is similar to lift, but it measures the effect of the right-hand-side not being true. So, conviction is measured as:  Conviction compares the probability that X appears without Y if they were dependent with the actual frequency of the appearance of X without Y.

None of the rule discovery methods attempt to extract useful patterns from less frequent item sets. In biomedical data sets, less frequent item sets are important since new biomedical information may just have been introduced. In this study, an attempt has been made to extract such patterns by complying with the downward closure property and adhering to the properties of Apriori. This work was inspired by the         above works performed in modifying the notion of support.

3. Adaptive Apriori Algorithm   Two approaches, Weight Induced Apriori  Association Rule Mining (WIAARM) and Weight and Significance Induced Apriori Association Rule Mining (WSIAARM) are introduced to effectively prune and extract meaningful association rules. The modified Apriori algorithms are based on the existing Apriori algorithm; however, the two new algorithms introduced attempt to solve the rare item problem that exist in the traditional algorithm. Both algorithms are weight based and generate different patterns of association rules. The first approach is identical to Apriori, the difference being that the weights of items/item sets have been considered instead of only their probability/support. The second approach is an enhancement of the first, however the significance of items/item sets in each transaction has also been considered. Both approaches when applied could generate association rules even for less frequent item sets.

3.1 Weight Induced Apriori Association  Rule Mining (WIAARM)   This approach replaces the support used in traditional Apriori Algorithm with weighted supports.

The weighted support, WS(X) is computed as follows:  max  Xcount  iw Support(X)  WS(X)  WX count Xi  ? ?=  ? ?  where, wi is the weight of item i in the item set X, Xcount is the number of items in the item set X and Wmax is maximum weight of the items in all transactions. Wmax has been introduced to confine the  weighted support between 0 and 1.

count  Xi X/w  Xcount  i? ?  is the  average of the weights in the item set X. Average weight is taken so that item sets with lesser items are not less favored to item sets with larger items. If the sum of the weights had been considered instead, pruning would be less effective with subsequent passes as with each pass an additional item gets added on thereby increasing the weight.

An important observation is that if all the items have the same weight, the weighted support will be the same as the support of an item set, thereby behaving like the traditional Apriori algorithm. The resulting  association rules will be the same as that generated for traditional Apriori algorithm. We may rather say that the support in traditional Apriori algorithm is a simplified version of the weighted support described above, the difference being that weights have been introduced into the support.

3.2 Weight and Significance Induced  Apriori Association Rule Mining (WSIAARM)  This method is an enhancement over the prior  method with significance of item sets in transactions taken into account. The weighted support, WS(X) is computed as follows:  countcount  t  TX  tXtX  ?  ?? ?  ? ?? ?  ? ????  = ?  =  Tcount  1 t  xt 0, W W  WS(X)  where, Wxt is the sum of weight of items in the item set X if transaction t contains all items in item set X, otherwise WXt is zero. Wt is the weight of a transaction t, Xcount is the number of items in the item set X and Tcount is the total number of transactions.

t  xt  W W is the  significance of the item set in a transaction t. The average significance is then taken and divided by the total number of transactions to take into account the frequency of occurrence of the item set. The transaction weight here is the same as the one described in Tao?s [6] work, however, the weighted support formulation is different.

In this method, the weight and the significance of an item set in a transaction have been introduced into support. The significance of an item set in a transaction is derived as the ratio of weight of the item set in a transaction to the total weight of all items in that transaction. The significance is zero if the item set is not in the transaction. Likewise, the significance is one if the transaction contains only the item set.

4. Analysis of Pruning effects for Apriori, WIAARM and WSIAARM   A simple transaction dataset as shown in Error!

Reference source not found. was considered to demonstrate the effect of WIAARM and WSIAARM approaches over traditional Apriori in rule mining.

The weights as shown in Error! Reference source not found. were applied to the corresponding items. The weight of an item set for this illustration is taken as the average of its corresponding         items? weights. It is appropriate to consider the average as the same is taken into consideration in WIAARM and WSIAARM in determining the weighted supports. This particular transaction set was considered so that the effect of high support, low support, high weight and low weight can be studied as follows: 1. High Support and High Weight:  Item set AB  has high support (1.0) and high weight (1.0).

2. High Support and Low Weight:  Item set DE  has high support (1.0) and low weight (0.2).

3. Low Support and High Weight:  Item set ABC  has low support (0.33) and high weight (1.0).

4. Low Support and Low Weight:  Item set DEF  has low support (0.33) and low weight (0.2).

Table 1: Simple Transaction for Pruning  Effects Study  Table 2: Item set Weights for Pruning  Effects Study Transaction ID Item sets  Item Weight  1 A,B,C,D,E.F  A 1.0 2 A,B,D,E  B 1.0 3 A,B,D,E  C 1.0 D 0.2 E 0.2 F 0.2   Table 3 shows the weighted support after applying Apriori, WIAARM and WSIAARM on the above dataset.

Table 3: Weighted Supports on Simple Transaction  for Pruning Effects Study Item set  Supp ort  Wei ght  Apriori Support  WIAARM WS  WSIAARM WS  AB 1.00 1.00 1.00 1.00 0.37 DE 1.00 0.20 1.00 0.20 0.074 ABC 0.33 1.00 0.33 0.33 0.093 DEF 0.33 0.20 0.33 0.07 0.019   The pruning effects were compared using Pruning  indices from the three approaches. The pruning index here refers to the ratio of support (traditional or weighted) to the highest support (traditional or weighted) as given in  Table 3 shows the weighted support after applying Apriori, WIAARM and WSIAARM on the above dataset.

Table 3. The pruning index gives a measure of the possibility of pruning. Lower pruning index means high possibility for the item set to get pruned.

As shown in Table 4, none of the approaches have any effect on item sets with high support and high  weights (AB). Apriori and WIAARM have similar effect on item sets with low support and high weights (ABC). High support & low weighted item sets (DE) have been influenced similarly by WIAARM and WSIAARM. Due to the low support, WSIAARM has marginally reduced ABC?s effect. Low support and low weighted item sets (DEF) has been influenced greatly by WIAARM and WSIAARM. DEF has been greatly influenced by WIAARM and WSIAARM due to its low support and low weight.

Table 4: Pruning Indices for Pruning Effects Study  with Simple Transaction Pruning Index  Item set  Supp ort  Wei ght  Apriori (Max  Sup = 1)  WIAARM (Max WS  = 1)  WSIAARM (Max WS =  0.37) AB 1.00 1.00 1.00 1.00 1.00 DE 1.00 0.20 1.00 0.20 0.20 ABC 0.33 1.00 0.33 0.33 0.25 DEF 0.33 0.20 0.33 0.07 0.05   This illustration indicates that WIAARM is  dependent on the combination of support and weights.

As WIAARM induces weight and WSIAARM induces significance of the item set in a transaction into the computation for weighted support, item sets with lower support and higher weights show higher weighted support values just like item sets with higher support or higher weights.

5. Anti-monotonicity of SIAARM   The SIAARM is same as WSIAARM without weights or with equal weights. SIAARM has interestingly been found to be downward-closed or anti-monotonic. Anti-monotonicity property states that if there is an infrequent item set, its superset will also be infrequent and therefore must not be considered.

The dataset shown in Table 5 was used to demonstrate the differences between results for Apriori and SIAARM.

Table 5: Simple Transaction Apriori & SIAARM  Transaction ID Item sets 1 A,B,C,D 2 B,C,D 3 A,B,D 4 A,E 5 D,E   Figure 1 is the lattice of significant item sets with  the minimum support for Apriori taken as 0.3 and the minimum weighted support for SIAARM taken as 0.09. The lattice demonstrates that SIAARM is anti-         monotone like Apriori and there is a possibility for less frequent item sets to show up as significant item sets such as AE and DE. Yun [10] demonstrated another example with lattice that showed mining interesting patterns with affinity.

Figure 1: Lattice of significant item sets for Apriori & SIAARM     6. Application of SIAARM on Biological data sets   The BioMap is biomedical literature mining  system [7] that extracts biological entity-entity associations among proteins, genes, disease, etc., from large databases such as the PubMed [8]. For this experimental study, we obtained 1948 instances (transactions) of entity associations comprised of proteins, genes, drug and diseases from BioMap as shown in the sample given in Table 6.

Table 6: Sample Raw BioMap Data  Transactions infection, lps, tgf-beta, ethanol infection, replication, gp120, phorbol myristate acetate infection, cxcr4, cd4, replication, ccr5,ligands infection, gene expression, cd44, cd69, mice, beta, cd62l, link sepsis, mip-2, ikappab, nf-kappab, icam-1, escherichia coli sepsis, lps, lipoproteins sepsis, tnf, lps, il-6, igf-i, tnf-alpha, growth hormone,  pentoxifylline arthritis, cii, il-6, saline   The conventional Apriori algorithm was first  applied to the dataset using different minimum support and confidence values. Table 7 shows top 6 association rules which was generated on applying 0.75% minimum support and 50% confidence. As weights were not provided, the weights were taken to be all equal to 1.

In the example shown in Table 7, Sepsis is a severe illness caused by overwhelming infection of the bloodstream by toxin-producing bacteria and LPS is an endotoxin, and induces a strong response from normal animal immune systems and this rule is well known in the biology community. The key objective here is to obtain meaningful patterns from less frequent item sets as well. The results from traditional Apriori algorithm do not show less frequent item sets as they are pruned due to the occurrence of items/item sets with larger support.

Table 7: Association Rules using Apriori with equal weights (Min Supp ? 0.75%, Min Conf ?  50%) No. Association Rule Support Confidence Lift  Lever age  Convic tion  1 sepsis ==> lps 0.0180 0.67 3.67 0.013 2.50  interleukin-6, lps ==> tumor necrosis factor-alpha  0.0180 0.54 3.17 0.012 1.80  3 cxcr4 ==> ligand 0.0180 0.50 4.73 0.014 1.79  togen ==> myocardial infarction  0.0159 1.00 29.07 0.015 ?  5 escherichia coli ==> lps 0.0154 0.51 2.77 0.010 1.66  6 il-13 ==> il-4 0.0133 0.87 22.21 0.013 7.21  SIAARM was then applied to the same BioMap  data using minimum weighted support of 0.12% and 50% minimum confidence. About half the association rules generated using SIAARM differed from the Apriori results and a partial set of rules generated is shown in Table 8. In Table 8, Zymosan and mice have a combined traditional support of 0.66% and therefore was not detected by the conventional algorithm. Thus we find the potential for lesser frequent item sets to show up as significant association rules in SIAARM.

WSIAARM may be applied with weights assigned to each term. Based on the weight and significance interesting patterns can thus be obtained from lesser frequent item sets.

Table 8: BioMap Association Rules differences  with SIAARM No. Association Rules  4 inducible nitric oxide synthase ==> lps 7 sdf-1 ==> cxcr4  20 zymosan ==> mice 23 lfa-1 ==> ligand 25 etanercept ==> rheumatoid arthritis 26 sdf-1 ==> ligand           7. Conclusions   The application of weights to sample market  basket transaction data yielded interesting patterns by generating association rules for less frequent items but with higher revenues. For example, Love Seat and Plasma TV gained prominence due to their price compared with Sofa and Love Seat. This kind of information can be used to boost revenue. It has been demonstrated that WIAARM effectively prunes item sets when weights are provided and generates interesting association rules. WIAARM can be applied effectively on market basket transactions to boost revenues. If the weights provided are profits, then the rules can instead be used to boost profit.

SIAARM when applied to BioMap dataset (about 2000 transactions) yielded strong associations rules even for item sets with low support. Whether or not a newly introduced protein will show up in strong association rules, will depend on how significant it is in its occurring transaction and the nature of all transactions. For dataset with about million transactions, it is believed that the items will have very low support. Thus the significance of the item set could contribute more towards the weighted support than just mere support. This however needs to be analyzed and the program has not been tested against such large datasets.

A study on the pruning effects on the different approaches proved that item sets with low support and low weights can be significant when using WSIAARM. As it is cumbersome to apply weights on biomedical extracts, SIAARM can be applied on such datasets. The absence of weights does not prevent item sets with lesser support to gain importance.

Importance of item sets is determined by their significance in corresponding transactions and not by merely their support. SIAARM was applied on BioMap data with equal weights considered. Even with the absence of weight definition for the items, SIAARM produced rules with less frequent item sets.

The problem with WIAARM and WSIAARM approaches is that they do not adhere to the property of anti-monotonicity. They use a conjunction of monotonic (average weight) and anti-monotonic constraints (Apriori support). However, it has been demonstrated that interesting patterns can be generated from this approach. It is this property that leads to interesting patterns from less frequent item sets as well. In his study, Jeudy [9] analyzed anti-monotonic  and monotonic properties and states that monotonic properties are more efficient than anti-monotonic properties. This provides justification to go with WIAARM or WSIAARM approaches even though it is not downward closed. Also the main problem with Apriori is its fundamental assumption that rules with high support are the more interesting ones causing the rare item problem. A valuable approach, SIAARM has been derived from WSIAARM, retains anti- monotonicity property and might not suffer from the rare item problem the traditional Apriori approach faces.

8. References  [1] Fayyad, U., Haussler, D., and Stolorz, P. 1996. ?KDD  for science data analysis: Issues and examples?. In Knowledge Discovery and Data Mining (KDD-96), 50- -56. Menlo Park, CA: AAAI Press.

[2] Agrawal, R., and Ramakrishnan, S. ?Fast algorithms for mining association rules in Large Databases?. In on Very Large Databases, pages487-499, Santiago, Chile September 1994.

[3] Cai, C.H., Fu, A.W., Cheng, C.H., and Kwong, W.W.

?Mining association rules with weighted items?. In Proceedings of 1998 Intl. Database Engineering and Applications Symposium (IDEAS'98), pages 68--77, Cardiff, Wales, UK, July 1998.

[4] Steinbach, M., Tan, P., Xiong, H., Kumar, V.

?Generalizing the Notion of Support?. In Proc. 10th Int.

Conf. on Knowledge Discovery and Data Mining (KDD ?04), pp. 689?694.

[5] Brin, S., Motwani, R., Jeffrey, D.U., and Shalom, T.

?Dynamic item set counting and implication rules for market basket data?. In SIGMOD 1997, Proceedings Management of Data, pages 255-264, Tucson, Arizona, USA, May 1997.

[6] Tao, F., Murtagh, F., and Farid, M. ?Weighted Association Rule Mining using Weighted Support and Significance Framework?. In Proceedings of The Ninth Knowledge Discovery and Data Mining (ACM SIGKDD 2003), pp. 661-666, Washington DC, USA.

[7] Kumar, K., Palakal, M.J., Mukhopadhyay S., Stephens, M.J. , Li, H., "BioMap: toward the development of a knowledge base of biomedical literature", Proceedings of the 2004 ACM symposium on Applied computing, March 14-17, 2004, Nicosia, Cyprus  [8] Palakal. M., Stephens. M., Mukhopadhyay. S., Raje, R.

"Identification of Biological Relationships from Text Documents Using Efficient Computational Methods", Journal of Bioinformatics and Computational Biology, Vol. 1, No. 2 (2003) 307-342.

