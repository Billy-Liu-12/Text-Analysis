Multi-feature Fusion for Image Segmentation ased  on Granular Theory

Abstract?Image segmentation in the big data context is a hot topic in the field of image understanding. Contrary to traditional computing paradigm with precise description of problems, Granular Computing (GrC) is studied by utilizing the toleration of imprecise, incomplete, uncertain and mass information to make systems manageable, robust, low-cost and harmonious. Thus it is an efficient measure to simplify calculation. In this paper, a multi-feature fusion approach based on quadtree and Grc was presented in accordance with the mechanism of human vision. In this technique, firstly original images are reduced into gray images, binary images and quadtree- segmented images, then features are extracted with different granularities from the reduced images respectively, and finally original images are partitioned precisely by the fusion of features according to quotient space theory (QST). Based on the technique of granularity hierarchical and synthesis, this paper gives the example and validation of color image segmentation. Experimental results demonstrate that the algorithm is valid for image segmentation with both speed and accuracy obviously approved compared with common segmentation methods.

Keywords?Quadtree, granular theory, quotient space, image segmentation, multi-feature fusion

I.   INTRODUCTION Image segmentation [1] is a process of which a digital  image is divided into several parts, namely sets of pixels, so as to locate objects and contours in the image and simplify the image representation. It is the premise of image analysis and processing. Whether the segmentation is successful and how accurate the segmentation is directly decide the effects of the latter parts. The world today has been transferring from the age of data to the age of big data with massively abundant information continuously generated from hundreds of millions of computers and mobile devices. The data of digital images has increased rapidly, which raises new requirement for the speed and accuracy of image processing. There have been many research papers and articles, suggesting various solutions for image segmentation in the last few decades, but there is no unified model to describe the problem.

Humans are able to observe and analyze problems from quite different granularities to solve problems at the basis of the information got from these granularities [2]. It is of great importance to model the ability of humans for the development of machine intelligence. Inspired by this observation, GrC draws an analogy with the manner of human?s thinking and an  emerging computing paradigm is presented for information processing. Its main idea is to find the approximate solution of the least computational complexity and enough satisfaction to replace the exact solution within the error-allowed range in order to depict the real world better and process information more efficiently. With this theory, it is possible to reduce computation burden and fuse multiple features to improve the efficiency and universality of the existing algorithms.

Based on the perception mechanism of human visual, quadtree partition and quotient space granular computing, the analysis and methodology for image segmentation are given in the paper. With small memory footprint and convenient operation, quadtree is a kind of index mechanism based on spatial partition and it is the only suitable algorithm for pixel location in two-dimensional images. Taking color image segmentation, for instance, the detailed algorithm and experimental results of segmentation based on the technique of granularity hierarchical and synthesis are given. The segmentation results are obviously good with comparison to other typical segmentation methods, which indicates that this approach can be integrated into a variety of applications in our life.



II. RELATED WORK  A. Research Status Image segmentation partitions an image into disjoint sets of  pixels, of which each segment is homogeneous and adjacent segments are discriminative. There are many traditional methods and specific theory-based methods for image segmentation [3]. The classical ones are divided into three categories, region-based, edge-based and thresholding. The specific theories include mathematical morphology, fuzzy theory, neural networks, support vector machine, graph theory and so on. But for complex systems with plenty of characteristics needed to be described, they are deficient because of high computational complexity and real-time delay.

Thus, the method combined with GrC takes precedence over others in the respect of simplifying calculation. According to GrC, image segmentation is the process of transformation from coarse-grained space to fine-grained space. Therefore, complex images are often segmented hierarchically, i.e., from coarse segmentation to higher level analysis, with granularity from coarse to fine. After coarse segmentation, some important regional characteristics are obtained and further detailed analysis in fine-grained space is possible.

(a) the segmented image   (b) the according quadtree  Fig.1   Diagram of a quadtree  GrC theory mainly includes fuzzy set-based Computing with Words [4], Rough Set [5] and Quotient Space Theory [2].

Computing with Words involves computing and reasoning with concepts of different granules expressed by adjectives and adverbs [2], which are characterized by illegibility. And the degree of illegibility forms the relationship of words, which corresponds to the relationship of different elements. Rough Set mainly employs different attribute values of elements to describe the relation between them and classifies them by different attributes to represent concepts of different granules.

QST introduces the structure of elements, taking both the topological structure of space and the problem of representing concepts into account. In this sense, Rough Set is a special case of QST. Based on the above consideration, it is concluded that QST is more suitable for image segmentation than the other two.

QST has been applied to image segmentation by building different equivalence relations among pixels. One of the early works on QST-based image segmentation was done by Liu et al. [6], [7] where QST was firstly applied to the analysis of texture image. Based on the quotient space granularity computing, they concluded the process to work out complicated questions [6] and proposed the method of complicated texture image segmentation based on granularity synthesis technique [7], describing the segmentation problem with triple elements function of the quotient space model ( , , ) ([ ],[ ],[ ])X f T X f T? . Later, Liu et al. [8] combined wavelet transform and granularity technique and presented a new texture image segmentation algorithm. After that, QST was gradually applied to other fields, especially SAR images.

For example, Zou et al. [10] proposed SAR image target detection based on granularity synthetic algorithm of quotient space theory to solve the problem at different granularity space due to different principles. Although a number of QST-based algorithms have been demonstrated useful and valid, this method is not necessarily universal to other complex images.

Thus, more work is needed to further study a new unified model to describe the problem of image segmentation.

B. Quotient Space Theory Some preliminary concepts of QST related to this paper  have been presented. Academician Bo Zhang and Professor Ling Zhang put forward QST [2] independently, using subsets to represent concepts. Concepts of different granularities mapped to different subsets and thus a cluster of concepts constituted a partition of space, i.e., the quotient space, while different clusters corresponding to different quotient spaces.

From this point of view, the main idea of image segmentation is the same as that of QST in terms of the formation of concept.

Quotient space description of GrC studies the relationship and conversion between all subsets of a given knowledge base, then takes different appropriate granules of the exact issue, and finally integrates the study of different granules to obtain the solution of the original problem. In quotient space model, a problem is described with a triple elements function of the quotient space model ( , , ) ([ ],[ ],[ ])X f T X f T? , where X denotes the problem domain, ()f  attributes of elements in domain X ,T  the structure of domain, and ( , , )X f T  is called  problem space. To granulate the problem domain, give an equivalence relation R (a division of the problem domain), and then obtain a quotient set denoted by [ ]X  corresponding to R . To solve the problem ( , , )X f T , analyze and study the problem domain X  and its attributes and structure so as to transform problem solving to the solution of different granularity space, i.e., quotient space denoted by([ ],[ ],[ ])X f T .

The most important quality of QST is homomorphic principles [2], including the principle of falsity preserving and the principle of truth preserving. The former refers to that if a proposition is false in coarse-grained space, then it must have no solution in a finer quotient space; the latter refers to that if a proposition is true in two coarse-grained spaces, then it is also true in the synthetic quotient space of the two under a certain condition.

Since transformation and dependence between different granularity spaces is the main content of QST, first segment images roughly to extract more obvious and directer features in coarse-grained spaces and then analyze and fuse these features at higher levels to implement segmentation. Take color image segmentation for example, the paper details the granularity hierarchical and synthesis method based on quadtree and QST.

A. Quadtree-based Coarse Segmentation Quadtree-based image segmentation [11] is to divide  images into a series of mutually disjoint parts, then merge or decompose these blocks according to a consistency condition.

1) Region decomposition  Make A for the whole image area, P for a kind of consistency condition. A way of quadtree decomposition is to divide the image into four equal-sized square blocks, and then test each block to see whether it meets certain criterion of homogeneity. If a block meets the criterion, it is not divided any further. If it does not meet the criterion, it is subdivided again into four blocks, and the test criterion is applied to those blocks. This process is repeated iteratively until each block meets the criterion. That is, iA A? ? , if ( )iP A True= , stop decompose; if ( )iP A False= , decompose iA . So continue, until  ( )iP A True=  or single pixels appear. The result turns out to be blocks of several different sizes and this process is shown by the quadtree in Fig.1.

2) Region merging There are always adjacent regions meeting the consistency  demand, which can be merged into bigger blocks. Both     merging with decomposition and after decomposition are feasible. A way of merging is to merge any two adjacent similar blocks, which are of different sizes and different gradations, i.e., if ( )j kP A A True=? , then merge jA and kA .

When it is unable to decompose and merge any more, both the two operations come to an end.

The MATLAB implementation of quadtree mainly uses the functions qtdecomp and qtdecomp.

The syntax of qtdecomp follows  ( , ,[min dim max dim])S qtdecomp I threshold=   (1)  Qtdecomp performs quadtree decomposition on the intensity image I  and returns the quadtree structure in the sparse matrix S , of which the upper left corner gives the dimension of each block and the rest of the elements are zeros.

threshold  is a given value by the difference of the maximum and minimum attribute value, it splits a block if the maximum value of the block elements minus the minimum value of the block elements is greater than threshold; but it will not produce blocks, whose dimensions are smaller than mindim or larger than maxdim.

The syntax of qtgetblk follows  [ , , ] ( , ,dim)vals r c qtgetblk I S=  (2)  Qtgetblk returns in vals  an array containing the dim-by-dim blocks in the quadtree decomposition of I . vals is a dim-by-dim-by-k array, where k is the number of dim-by-dim blocks in the quadtree decomposition; if there are no blocks of the specified size, all outputs are returned as empty matrices. r  and c  are vectors containing the row and column coordinates of the upper left corners of the blocks, thus each block can be spotted.

Choosing thresholds of different attributes as the consistency condition will lead to different segmented images.

Coarse segmentation is realized through quadtree with blocks of different sizes and similar attribute values. These blocks, as such, are granularities of different thicknesses. More obvious and directer features will be extracted in coarse-grained space.

B. Multi-feature Fusion Color Image Segmentation QST [12] is a theory about describing space structure,  which focuses on relationship, composition, synthesis, decomposition and transformation between different granular worlds. Both the two homomorphic principles of QST are useful in practice. When applied to image segmentation, divide an image in several coarser quotient spaces and then merge the results to obtain the final multi-feature fusion segmentation according to the principle of truth preserving. Because of smaller scale and less calculation, it is able to simplify calculation in coarse-grained space.

The main task of image segmentation is to build different equivalence relation among pixels so as to realize segmentation. Use projection method [2] of QST to construct the equivalence relation to transform between different granular spaces. Define the function of equivalence relation as  ( , )R f T , which is related to the attributes and structure of the problem domain. Then the projection method is described as  1 2( , ) ( ), ,..., nR f T R f f f= , where attribute functions ()nf are multidimensional. For features extracted from different reduced images of different granularities, choose the multi-feature fusion equivalence relation to divide the original domain; the obtained quotient space mapping is the segmented image.

Based on region segmentation and edge detection, color images are analyzed from two perspectives of different granularities. We first conduct quadtree-based region splitting and merging and obtain regions consisted of pixels with similar hue values. Then it comes to edge detection of grayscale images. Finally, integrate the features of both the edge and the region to precisely partition images. Combination of the two is one of the research directions of image segmentation.

1) Quadtree-based region segmentation Step1 Convert RGB image to HSV image, then the hue  component H can represent the color of each pixel separately instead of three color components, i.e., R, G and B in RGB space.

Step2 Choose the consistency condition as that the difference of the maximum and minimum H component is less than a given threshold. Then carry out quadtree algorithm to split the image and obtain a number of blocks meeting the consistency condition.

Step3 Compute the mean of grayscale in each block and create the gray-level histogram of blocks.

Step4: Carry out thresholding using the method of OTSU [11] to merge those adjacent blocks with similar grayscale. As a result, quadtree-based coarse segmentation is realized and a coarse-grained space 1S  is obtained, which is represented by  1 1 1([ ],[ ],[ ])X f T .

It?s worth noting that choosing different attributes in the process of splitting and merging can synthesize different features of objects and background to achieve better segmentation results. OTSU algorithm, i.e., maximum between-clusters variance, is a very effective method of threshholding, which selects threshold that can make the difference between the average gray level of foreground, background and the whole image to be the largest. Besides, it is an automatic threshold selecting method with good performance and it is suitable for both situations of single-threshold and multi-threshold.

2) Gray image edge detection Common methods of edge detection [13] involve Sobel  operator, Robert?s cross operator, Prewitt?s operator, Laplacian of Gaussian (LoG) and Canny edge detection algorithm, among which Sobel operator, Robert?s cross operator and Prewitt?s operator are based on first derivative and LoG is based on second derivative. These differentiation-based operators are often applied to images without noise or images of which noise is removed. However, noise suppression and precise edge positioning are contradictory in edge detection. In contrast, Canny edge detection algorithm achieves a balance     between the two. Reference [13] shows th detection algorithm performs better than other almost all scenarios.

Step1 Choose Canny operator as edge de to implement coarse segmentation based on g edges of the whole image are obtained in a bin  Step2 Carry out a morphologic closing c operator to the binary image so as to re non-edged areas and fuse disconnected poin Then obtain the coarse-grained space 2S ,  2 2 2([ ],[ ],[ ])X f T .

3) Multi-feature fusion resegmentation Step1 Traverse the coarse-segmented ima  their edges consisted of pixels with the value to equivalence relation 1 2( , ) ( , )R f T R f f= , fuse results in 1S and 2S .

Step2 For pixels belonging to edges both them as the contour of objects in the fused distinction between edges in 1S and 2S  for di of segmentation, which turns to be disconnec fused image.

Step3 For disconnected points in the con computation operator to connect them and f complete segmentation contour.



IV. EXPERIMENT AND RESU The color image segmentation procedure  has been developed in MATLAB 2012b multi-feature fusion method based on th granularity hierarchical and synthesis, w representative color images for experiment. Al are from the USC-SIPI Image Database and tw as follows in Fig. 2. Furthermore, the results ar edge-based method like edge detection a method, taking fuzzy C-means (FCM) cluster an example.

Fig.2 indicates the final segmentation resul In Fig.2, 2(a) is the original image; 2(b segmentation results based on edge detection a the segmentation result of our approach. Com 2 (b), 2 (c) and 2 (d), it is obvious that the co by our approach is clearer and more inta feature-fused approach is superior to edge det in background processing. The Gray image a image are both a simplified form of the orig coarse-grained mapping in quotient space, w the amount of data and filter out useless infor extent, while preserving the important structu images. On the basis of the gray image or H co the quadtree-based segmentation result is furt an image constructed by blocks of similar attri granularity being further coarsened. Theref these reduced images is of less calculation compared with directly analyzing the  (a) original im  (b) segmentation based o  (c) segmentation bas  (d) segmentation of o  hat Canny edge r operators under  etection algorithm gray image. Then nary image.

computation [11] emove the small nts in the edges.

represented by  ages and compare e of 1. According the segmentation  in 1S and 2S , set image. There is  ifferent principles cted points in the  ntour, use closing finally obtain the  described above b. To test this he technique of we select some ll of these images wo of them show re compared with  and region-based ring algorithm as  lts of this method.

b) and 2(c) are and FCM; 2(d) is  mparing images in ontour segmented ct. Besides, this tection and FCM  and H component inal image and a  which can reduce rmation to a large ural properties in omponent image, ther simplified to ibute values, with fore, analysis of  and complexity original image.

Meanwhile, multi-feature fusion m loss in coarse-grained space. Theref precision, this approach has better se  We adopt function of Local Con to quantitatively evaluate these algo the smaller error between segmenta of human eyes. Program executing algorithms are listed in Table I. It time of our approach is less than th approach is also comparatively sma is closer to the segmentation of hu draw the conclusion that our approa accuracy of color image segmentatio  Edge-based segmentation doe boundaries of objects while regio  mage  on edge detection  sed on FCM  our approach  Fig.2.   Segmentatiion results  makes up for the accuracy fore, considering speed and egmentation performance.

nsistency Error (LCE) [14] orithms. The smaller LCE is, ation result and the division  time and LCE of the three t shows that the executing  hat of FCM and LCE of our aller, which indicates that it uman vision. Thus we can ach improves the speed and on.

es well in characterizing on-based segmentation has     good effect on inside information of objects. But edge detection identifies all the edges in an image which are abrupt changes in pixel intensity, not only the expecting contours of objects. Clustering is a common approach for region segmentation and it is often integrated with specific algorithms or theories, which is thought to be more effective than classical region-based methods. However, both the number of clusters and the initial cluster centers are of great importance so that the algorithm performance depends heavily on them. Therefore, combination of edge-based segmentation and region-based segmentation can be used to image processing and it is also one of the research directions of image segmentation. Moreover, on the basis of the quotient space granularity computing, our approach is more efficient and more robust than the other two methods because of simplified calculation, which shows that the multi-feature fusion method based on granularity hierarchical and synthesis is effective to complex image segmentation.

TABLE I. EXPERIMENT RESULTS  Image Edge detection FCM Our approach  Time/s LCE/% Time/s LCE/% Time/s LCE/%  1 1.17 18.38 8.19 11.85 5.73 7.42  2 2.75 20.94 11.74 23.53 7.86 9.37

V.   CONCLUSION In this paper, a multi-feature fusion method based on  quadtree and GrC for image segmentation is proposed and validated by a color image segmentation experiment. The results are satisfactory and the approach is proved to be efficient. However, it must be pointed out that GrC for image segmentation is just a kind of way of thinking to examine and describe the segmentation problem rather than a specific segmentation algorithm. In specific scenarios, the thoughts of GrC should be used case by case. For instance, this method can be applied to the segmentation of complex texture image.

Edge-based segmentation is possible due to abrupt changes in pixel grayscale of different texture edges while region-based segmentation is conducted according to different internal characteristics such as directionality and coarseness of texture.

These multiple divided images are finally combined with edges improved to implement the segmentation of complex texture image. Further application can be used to target detection and recognition of SAR image interpretation, for texture is an innate property of all surfaces. The multi-feature fusion method overcomes the shortcomings and combines the merits of each single method  at the same time thus more satisfied results can be achieved. But the problem remains that it is necessary to analyze the inherent features of images and choose corresponding and suitable method in order to generate segmented images. Thus our future work is to further study specific algorithms based on GrC and improve the speed and accuracy of segmentation in popular fields of image analysis and processing in order to popularize this approach to every aspect of our life.

