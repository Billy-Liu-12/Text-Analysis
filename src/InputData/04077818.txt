

Abstract?In this paper, a rough sets based fuzzy logic control method was proposed for greenhouse temperature control. The process of system attribute reduct and a normalized processing for the sample data were carried out. Then the discernibility function was applied in the mining of certain and association rules from an incomplete decision table. Two overall thumb rules were generated for the definition of the fuzzy logic rule set.

The corresponding fuzzy logic control system for greenhouse temperature was established by using the Simulink tools of MATLAB, including the choosing of variables, grade partition of the universes, choosing of membership functions. The simulation achieved good performance, which verified the validity of employing rough sets based fuzzy logic control for greenhouse temperature control.



I. INTRODUCTION ODERN greenhouses can optimize the growth environment for both the above-ground part and  rootage of plants, offering the plants with desirable growth conditions in the hope of obtaining the best produce. More and more theories from researches and results from practical experiments show that desirable entironment, especially proper distribution of the temperature contour, can greatly help increase the crop yield.

But due to the inherent complexity of the greenhouse environment system in addition to its multi-variable and their nonlinear nature, it?s difficult to achieve optimum control of greenhouse temperature using traditional on-off control or proportional control based methods[1]. Besides, adopting on-off or proportional based control methods to run the heating equipment may result in a loss of energy which has increasingly become an issue as the fuel prices have been soaring in recent years while the heating fare counts for a great portion of the winter greenhouse running cost. So an improved or more economical control method is essential for maximizing the greenhouse profit.

Fuzzy logic, as part of artificial intelligence (AI) techniques, provides a formal methodology to represent, manipulate and implement expert heuristic knowledge for controlling a system. And a fuzzy logic controller performs well in robustness and cost saving[2]. In this sense, fuzzy logic proposes an attractive and well-established alternate   Xu Fang is with the MOE Key Laboratory of Mechanical Manufacture  and Automation, Zhejiang University of Technology, Hangzhou, Zhejiang Province, 310032 P.R.China  (e-mail: fangx@zjut.edu.cn).

Sheng Junqiang is with the MOE Key Laboratory of Mechanical Manufacture and Automation, Zhejiang University of Technology, Hangzhou, Zhejiang Province, 310032 P.R.China (phone: 0571-8832-0590; fax: 0571-8832-0261; e-mail: shengjunqiang@yahoo.com)  Chen Jiaoliao is with the MOE Key Laboratory of Mechanical Manufacture and Automation, Zhejiang Univ. of Technology, Hangzhou, Zhejiang, 310032 P.R.China (e-mail: chenjiaoliao@yahoo.com.cn).

approach to solve control problems like greenhouse temperature with multi-variables and big inertia. A great number of successful applications have confirmed the capacity of fuzzy logic controller in greenhouse climate management[3]?[6]. However, most currently available fuzzy inference systems in this field rest their construction of fuzzy logic controller solely on personal experience without presenting why certain factors among the climate factors were chosen over the others as the input variables for the fuzzy controllers. To some extent, this takes substantial subjectivity or randomicity which may directly weaken the performance of the controllers.

In this paper, the theory of rough sets was used to distinguish the essential factors from those negligible in terms of decision making for the greenhouse temperature. Also, overall control rules, on which based the construction of the fuzzy logic controller for greenhouse temperature, were extracted from the pool of data collected in the greenhouse field. After that, another set of data were imported into the greenhouse temperature model, controlled by the fuzzy logic controller to perform MATLAB simulations.



II. KNOWLEDGE ACQUISITION BY ROUGH SETS The notion of rough sets, first introduced by Pawlak [7] ?  [9], is an extension of set theory for the study of intelligent systems characterized by insufficient and incomplete information. Motivated by practical needs in classification, data mining and concept formation under insufficient or incomplete information conditions, the theory of rough sets is emerging as a powerful mathematical approach dealing with incomplete data[10]. The extensions of Pawlak?s rough set model may be used in reasoning and knowledge acquisition in incomplete information systems and incomplete decision tables[11], which makes it possible to deal with problems like extracting control rules from limited collected field data for greenhouse temperature.

The data, on which based this research, were collected in a Venlo-type intelligent glasshouse in Zhejiang Province high-tech agriculture demonstration garden, located at Xiaoshan district, Hangzhou city, Zhejiang province.

Following the procedure of knowledge acquisition based on rough sets, a group of sample data was first selected to determine the attributes related to the decision making. The notion of information systems(IS) provides a convenient basis for the representation of objects in terms of their attributes. And a non-supervised discretion process was carried out to determine the system attribute values. TABLE I represents the information system of greenhouse temperature control in the form of an IDT(incomplete decision table)  Rough Sets Based Fuzzy Logic Control for Greenhouse Temperature Xu Fang, Sheng Junqiang, Chen Jiaoliao  M       S=(U,AT ? {d})?where U={x1,x2,?,x8}, AT={a, b, c, d, e, f, g}is the conditional attribute set and g is a decision attribute, a, b, c, d, e, f, and g stand for greenhouse temperature, outdoor temperature, change rate, change direction, solar radiation, and heat supply power, respectively. Va=Vb={H, N, L}, Vc={NB, NM, NS}, Vd={B, M, S}, Ve={P, Ne}, Vg={H, M, L}, where H, N, L, NB, NM, NS, B, M, S, P, and NE stand for high, normal, low, negative big, negative middle, negative small, big, middle, small, positive and negative, respectively.

TABLE I ORIGINAL DECISION TABLE FOR GREENHOUSE TEMPERATURE  U a b c d e f g  x1 L L NB B P NO H  x2 L L NB M P NO H  x3 L L NM M P NO M  x4 L L NM S P NO H  x5 N N NS B P NO L  x6 H H NS M P YES L  x7 H H NS M NE YES H  x8 N N NM B NE YES H     Before the reduct operation, a normalization process is necessary for the following steps. TABLE II shows the system knowledge after the normalization process.

TABLE II DECISION TABLE   AFTER NORMALIZATION PROCESS  U a b c d e f g  x1 0 0 0 2 1 0 3  x2 0 0 0 1 1 0 3  x3 0 0 1 1 1 0 2  x4 0 0 1 0 1 0 3  x5 1 1 2 2 1 0 1  x6 2 2 2 1 1 0 1  x7 2 2 2 1 0 1 3  x8 1 0 1 2 0 1 3     The concept of Discernibility matrix, proposed by Skowron.A is a good way to represent system knowledge making it an easier task to figure out the reduct and core of the rough sets.

If S=(U, A, V, F) is a knowledge system, the discernibility matrix of |U|=n ? S should be an n? n matrix, and its members should be:  a(x, y)={a?A|f(x,a) ? f(y,a)} thus, a(x, y) is the union set disconcerning x from y.

Disconcernibility function is defined as:   ??  ?? =?  UUyx yxa  ),( ),(   In terms of TABLE II, there are:  a(2,1) = {d} a(3,1) = {c, d}   a(3,2) = {c}  a(4,1) = {c, d}   a(4,2) = {c, d}   a{4,3}={d} ?? ?   a(8,7) = {a, b, c, d}  The corresponding discernibility function is: ?  = (d) ? ( c ? d) ? (c) ? ( c ? d) ? ( c ? d) ? (d) ?  ?? ? (a ? b ? c ? d)  = d ? c ? e Thus, AT?={c, d, e} is one reduct for AT={a, b, c, d, e, f},  TABLE III is the decision table after attribute reduct.

TABLE III DECISION TABLE   AFTER ATTRIBUTE   REDUCT  U c d e g  x1 0 2 1 3  x2 0 1 1 3  x3 1 1 1 2  x4 1 0 1 3  x5 2 2 1 1  x6 2 1 1 1  x7 2 1 0 3  x8 1 2 0 3   If P={c, d, e} and Q={g}, according to the PQ arithmetic,  there are rules:   c0d2e1->g3, c0d1e1->g3, ?? c1d2e0->g3.

In the rule c0d2e1->g3, we have c0:d2e1->g3, d2:c0e1->g3, e1:c0d2->g3. It can be found that attribute c is essential for this rule because both d2:c0e1->g3 and e1:c0d2->g3 are tenable, but c0:d2e1->g3 is incompatible within the system. And d2:c0e1->g3 and e1:c0d2->g3 can be further combined into d2e1:c0->g3, the final reduct for this rule.

One by one, the decision TABLE III after attribute value reduct should finally result in:    TABLE IV FINAL REDUCT  AFTER ATTRIBUTE VALUE REDUCT  U c d e g  x1 0 * * 3  x2 0 * * 3  x3 1 1 * 2  x4 * 0 * 3  x5 2 * * 1  x6 2 * 1 1  x7 * * 0 3  x8 * * * 3  And restoring the above final reduct with system attributes  will give birth to the final decision table for greenhouse temperature(TABLE V):          TABLE  V FINAL DECISION TABLE  FOR GREENHOUSE TEMPERATURE  U Greenhouse Temperature Change  Rate Change  Direction Heat Supply  Power  x1 NB * * H  x2 NB * * H  x3 NM M * M  x4 * S * H  x5 NS * * L  x6 NS * P L  x7 * * NS H  x8 * * * H   After filtering out the apparently unreasonable rules in  TABLE  V, two important overall thumb rules, based on which the fuzzy logic control rules for greenhouse temperature would be built, can be concluded:  (1) IF (negative big greenhouse temperature difference) THEN (the pipeline at eh high heating phase);  (2) IF (negative small greenhouse temperature difference) AND (positive temperature difference change) THEN (the pipeline at low heating phase).



III. FUZZY LOGIC CONTROL SYSTEM  A. Fuzzy Logic Controller In the FIS editor, choose the temperature difference(that  between current indoor temperature and the set point) e and the change rate of temperature difference ec as the inputs and the steam pipeline heat supply u as the output for the fuzzy logic controller corresponding to universes E, EC and U respectively. Grade partitions of the universes for both temperature difference E and change rate EC are identical as shown in Fig.1., employing the triangle membership functions.

Fig. 1.   membership functions   Similarly, the triangle membership function was chosen to  partite the output universe U into four grades(Fig.1.), including ZO(zero), PS(positive small), PM(positive middle)  and PB(positive big), namely dividing the heat supply into four grades: 0W, 1.6?105W, 3.2?105W, and 4.8?105W respectively. The heat supply system alter the steam pipeline temperature by changing the steam valve openness, thus providing the greenhouse environment with different heat supply power to achieve the desirable greenhouse temperature for plant growth.

The greenhouse control system can be allowed to act in response to the combined situation of greenhouse temperature difference and the rate at which the greenhouse temperature difference changes to eliminate the temperature deviation.

Corresponding control rules can be described using fuzzy statement as follows:  IF E=NB AND EC=PB   THEN U=PB; IF E=NB AND EC=PM   THEN U=PB; IF E=NB AND EC=PS      THEN U=PB; IF E=NB AND EC=ZO   THEN U=PB; IF E=NB AND EC=NS   THEN U=PB; IF E=NB AND EC=NM       THEN U=PB; IF E=NB AND EC=NB   THEN U=PB; ?? In turns, all 49 control rules can consist of a fuzzy control  rule set(TABLE VI).

TABLE VI ORIGINAL DECISION TABLE FOR GREENHOUSE TEMPERATURE  EC U  NB NM NS ZO PS PM PB  NB PB PB PB PB PB PB PB  NM PB PB PB PB PB PM PM  NS PB PB PM PM PS PS PS  ZO PM PM PS ZO ZO ZO ZO  PS PS PS ZO ZO ZO ZO ZO  PM ZO ZO ZO ZO ZO ZO ZO  PB ZO ZO ZO ZO ZO ZO ZO   B. Greenhouse Temperature Control System Model According to Xu[12], vents in winter greenhouses are  usually closed in order to cut the operation costs. Thus without regard to the heat exchange by ventilation and the subtle impact of heat conduction between the indoor air and crop leaves , energy needed for crop transpiration, and energy for crop photosynthesis on the temperature, the dynamic mathematical model for greenhouse temperature can be further simplified into:  caccradheatrad QQQQQ +++=?                    (1) where, (a) manifested heat increase in greenhouse air Q? can be  described as the following:  dt dT  CvQ ip?=?  (b) energy from solar radiation: aasrad IAQ ?=  (c) heat exchange between the heat supply system and the       air in greenhouse[13]? )( ippheat TThQ ?=  (d) energy in long wave radiation can be calculated using the Stefan-Boltzmann Law[14]?  )( 4412 oiscrad TTAQ ?= ?? (e) heat exchange by conduction with the outside  environment [15]? )( oigscac TTKAQ ?=  Combining the above energy equations into (1) should result in:  )()(  )(95.1   3/4  oigsois  aasipp i  p  TTKATTA  IATTA dt  dT Cv  ?+?  ++?=  ??  ?? ?2?  where, v  is the volume inside the greenhouse, ?  air density under normal conditions, 12?  emissivity on the superficial face between glass and air determined by formula   112 )1(  ??? ?+= ??? , aI  out door solar radiant intensity,  a?  overall diaphanous rate of the cover materials, pT average steam pipeline temperature, iT  indoor temperature,  oT  outdoor temperature, and dtdTi  shows the rate at which the indoor temperature changes.

Balancing the temperature in a greenhouse against the set point, the system(Fig.2.), used a fuzzy logic controller within Simulink to control the greenhouse temperature.

Temperature difference range of variation namely basic universe is [-1, 1], quantification universe [-6, 6], therefore the quantification factor Ke should be 6; and the basic universe of the temperature difference change rate is [-0.6, 0.6], the quantification universe [-6, 6], therefore quantification factor Kec should be 10. By the token, the quantification factor Ku equals 1/4.8 as the output universe of heat supply is [0, 1] with [0, 4.8] as its quantification universe. In case of any situation that the variables exceed the universes during the computation process, saturation blocks were used to ensure the smooth running of the controller by treating ant overflow situation as boundary value processing.



IV.   SIMULATION RESULTS AND DISCUSSIONS In order to attain desirable heat output of the steam  pipelines, data of both solar radiation and outdoor temperature, in addition to the set point, are necessary for the fuzzy logic control system.

Data collected on the 15th Dec 2003(Fig.3.), different from those used for knowledge acquisition before, was imported into the greenhouse temperature control system model as the source data for the simulations, which would also give convenience to verifying the final control effect of the greenhouse temperature using rough sets based fuzzy logic control strategy.

Andreanum, planted in the glasshouse, is quite sensitive to the temperature changes. Its desirable growth environment temperature ranges from 20? to 30?. In winter when the temperature is lower than 15?, it will not be able to form spathes and freeze injury happens as the temperature falls below 13?. In order to create desirable growth environment for plants, variable temperature management method of setting the point at 21? during the daytime while 16? in the night was adopted to control the greenhouse temperature   Fig. 2.   Simulink model for greenhouse temperature control   Fig. 3.   solar radiation & outdoor temperature (the 15th Dec 2003)       paying particular attention to energy saving and running cost.

Fig.4. presents the simulation outcome of the experiment within MATLAB.

Fig. 4.  simulation result for rough based fuzzy logic control of greenhouse  temperature    In Fig.4., the output temperature curve basically meets the set temperature request, which shows the superiority and the reliability of applying fuzzy logic control method in multi- input systems, such as greenhouses. Around the noon, the greenhouse temperature exceeds the set value for a long time because the greenhouse had not adopted any other temperature reduction measure under winter climatic conditions except ventilation. And the simulation result shows that the temperature has never surpassed 30 ?, and still meets the temperature request for andreanum growth.

The simulation results indicate good feasibility and validity of the greenhouse temperature control effect using fuzzy logic control strategy based on rough sets for knowledge acquisition.



V.  CONCLUSION This work first aimed to establish the feasibility and  validity of rough sets based fuzzy logic strategy for greenhouse temperature control. Detailed process of knowledge acquisition using rough set was presented before the construction of the fuzzy logic control system for greenhouse temperature. It can be found that theory of rough sets can acquire the essential attributes from the candidates by discernibility function under incomplete decision system conditions effectively.

Computational simulations were carried out within MATLAB and the results were found to have a good agreement with the expected outcome. The rough sets based fuzzy logic controller can manage the greenhouse temperature effectively by controlling the output power of the steam pipelines to provide the plants with decent temperature environment in the greenhouse despite that the micro-climate in the greenhouse was constantly under the influences of time variable factors like solar radiation and outdoor temperature, etc.. The simulation results indicate that it?s advisable to apply rough sets based fuzzy logic control in greenhouse temperature management.

