GreenPlanner: Planning Personalized Fuel-efficient Driving Routes using Multi-sourced Urban Data

Abstract?Greenhouse gas emission by the increasing number of vehicles have become a significant problem in modern cities.

To save energy and protect environment, recommending fuel- efficient routes to drivers becomes a promising way to alleviate this issue. To this end, in this paper, we present a novel fuel- efficient path-planning framework called GreenPlanner, which contains two phases. In the first phase, we build a personalized fuel consumption model (PFCM) for each driver, based on the individual driving behaviors and the physical features (e.g., traffic lights, stop signs, road network topology) along the routes. In the second phase, with the real-time traffic information collected via the mobile crowdsensing manner, we are able to estimate and compare the cost fuel among different routes for a given driver, and recommend him/her with the most fuel-efficient one. We evaluate the two-phase framework using the real-world datasets, consisting of road network, POI, the GPS trajectory data and the OBD-II data generated by 559 taxis in one day in the city of Beijing, China. Experimental results demonstrate that, compared to the baseline models, the proposed model achieves the best accuracy, with a mean fuel consumption error of less 7% for paths longer than 10 km. Moreover, users could save about 20% fuel consumption on average if driving along our suggested routes in our case studies.

Index Terms?GPS trajectory; OBD-II; personalized fuel con- sumption model; path-planning

I. INTRODUCTION  While it is widely recognized that fuel consumption is highly correlated with greenhouse gases and pollutant emis- sions, finding fuel-efficient routes for vehicles is crucial to protect environment [16], [23], [30]. One of the essential steps is to model and estimate the potential fuel consumption on a given path for the driver. In general, the fuel economy of a vehicle is strongly correlated with two factors, one is the vehicle?s parameters (e.g., vehicle frontal area and weight), and the other is the driver?s behaviors. For example, a smooth acceleration or deceleration (i.e., small jerk) generally implies an economical fuel consumption, while a high jerk corresponds more fuel consumption [26].

Thanks to ubiquitous availability of GPS (Global Position- ing System) and OBD-II (On-Board-Diagnostics) sensors in vehicles, GPS trajectory data that records the driving behaviors and the resulted fuel consumption can be easily gathered at a large scale [9], [20], [29]. The data provides rich sources for investigating the inherent relationship between the personal- ized driving behaviors and the fuel economy (i.e., the cause and effect between the GPS trajectories and fuel consumption).

residence community  Fig. 1. Visualization of the average fuel consumption on the edge. Red color refer to a high value of average fuel consumption, blue color refers to a low value, and yellow color refers to a value in-between. (Best viewed in the enlarged digital version)  Depending on the cause of drivers? speed and acceleration choices en route, driving behaviors can be classified into two types, the reactive behaviors and the proactive behaviors.

The former indicates that drivers are forced to decelerate or stop when encountering traffic lights and stop signs. Pre- vious studies have observed some common reactive driving behaviors [8], [17], which probably lead to the extra fuel consumption [5], [10]. For example, drivers tend to decelerate when they are approaching to traffic lights/stop signs and accelerate after passing by them. This phenomenon has been captured by the state-of-art model (i.e., GreenGPS) [14], [22].

The proactive driving behaviors, as a comparison, cor- responds to actions taken defensively by the drivers, such as slowing down when passing by some specific points of interests (POI) (e.g., schools, residences, shopping malls, and restaurants), watching surrounding drivers when merging lanes, and leaving plenty of room when passing or driving behind other cars. Experienced drivers take the above actions to make safe and incident-free trips, at the expense of fuel economy. When driving courteously, the drivers may need to control speed more carefully, probably resulting in more speed variations and thereby an increase of fuel consumption.

Fig. 1 provides readers with an example of this concept1. As shown in this figure, the least fuel efficient edges correspond to a merge into a cloverleaf interchange (as marked by the circle on the left), or a POI (as marked by the circle on the right). On edges with some specific features, the drivers are taking proactive actions more frequently, incurring more fuel consumption as a result.

Drivers are continuously taking reactive and proactive be- haviors while driving, and different kind of behaviors may consume varied amount of fuel. Moreover, the fuel con- sumption also differs among drivers even when they are travelling the same edge at the same time (encounter same traffic conditions), because they have their personalized driving styles. Thus, in this study, we model the personalized fuel consumption caused by taking different behaviors separately, based on the driving GPS trajectory and OBD-II data in history. To be more specific, we make the following main contributions: ? We propose a two-phase framework called GreenPlan-  ner, for modelling personalized fuel consumption and recommending fuel-efficient routing for drivers. In the first phase, we develop a personalized fuel consumption model (PFCM), taking into account the drivers? reactive and proactive driving behaviors for the first time. In the second phase, we take advantage of the real-time traffic information via mobile crowdsensing (MCS), estimate the fuel consumption among different routes for each driver, and suggest fuel-efficient routes to him/her.

? We leverage multi-sourced urban data including the his- torical GPS trajectory, OBD II data, and the open data extracted from OpenStreetMap to evaluate the framework extensively. Experimental results demonstrate the effec- tiveness of the proposed two-phase framework in terms of modeling accuracy and providing high-quality driving routes.

The rest of the paper is organized as follows. In Sec- tion II, we introduce some basic concepts and the formal problem formulation. We present the details about the two- phase framework of our GreenPlanner system in Section III and IV, respectively. We evaluate the performance of the proposed framework in Section V. In Section VI, we review the related work and show how this paper differs from previous research. Finally, we conclude the paper and propose the future directions in Section VII.



II. BASIC CONCEPTS AND PROBLEM FORMULATION  Here, we first introduce several basic concepts. Then, we formally define the research problem of personalized fuel- efficient driving route planning.

A. Basic Concepts  Definition 1 (Road Network). A road network is a graph G(N,E), consisting of a node set N and an edge set E. Each  1The average value is obtained by averaging the fuel consumption values on that edge of all taxi drivers.

Fig. 2. Illustration of main concepts used in the paper. Note that the exact location of the vehicle at the OBD-II sampling time is not informed.

element n in N is an intersection of a pair of longitude and latitude coordinates (x, y), representing its spatial location.

Edge set E is a subset of the cross products N ? N . Each element in E is an edge ei, and has a basic property of the length.

Definition 2 (Raw GPS Trajectory). A raw GPS trajectory is a sequence of time-ordered spatial points (p1 ? p2 ? ? ? ? ? p9, the blue dashed line with circle marks shown in Fig. 2), where each point has a geospatial coordinate, a timestamp, and an instantaneous speed, denoted by pi = (ti, vi, latitudei, longitudei).

Definition 3 (Mapped GPS Trajectory). A mapped GPS trajec- tory is a sequence of sitting-on-edge GPS points (p?1 ? p?2 ? ? ? ? ? p?9, the green solid line with square marks shown in Fig. 2), where each sitting-on-edge GPS point (p?i) is obtained by projecting the corresponding raw GPS point (pi) on the closest edge of the road network.

Definition 4 (OBD-II Data Reading). A OBD-II Data Reading is a data log (the black-filled squares shown in Fig. 2) recording the information about the distance that has been covered (in km), the instantaneous speed (in km/h), and the fuel usage (in liter) of the vehicle at the sampling time, which can be denoted by obdi = (ti, vi, distCovi, fui).

Thus, the average fuel consumption (AFC, l/100km) between any two given OBD-II data readings (obdj , obdi, tj > ti) can be computed as:  AFC(obdi, obdj) = fuj ? fui  distCovj ? disCovi ? 100 (1)  Definition 5 (Average fuel consumption between two given GPS points). The average fuel consumption between two given GPS points is not straightforward as we are not aware of the exact amount of fuel usage of the vehicle of a given GPS data point, due to the fact that the sampling time and rate of OBD-II data and GPS trajectory data are not consistent2 (as illustrated in Fig. 2). To obtain the average fuel consumption (AFC) between any two given GPS data points, we first use  2The sampling time of the GPS trajectory data is 6 seconds; the sampling time of the OBD-II data is 10 seconds.

the fuel usage value of the time-nearest OBD-II data reading to approximate that of each GPS point, then compute it according to Eqn. 1.

Definition 6 (Physical Features). The physical features3 of a given path contain a number of attributes (the black dots shown in Fig. 2): 1) the number of traffic lights/stop signs along the path; 2) the number of all neighbouring edges that connect the edges within the path; 3) the number of some specific POIs within the range of the path. At the current stage, we only consider schools, residential zones, shopping malls and big companies. However, more POIs can be extracted and easily integrated.

B. Problem Statement  The problem of personalized fuel consumption modelling (PFCM) can be formulated as follows:  Given: 1) a driver?s GPS trajectory data recording the driving  behaviours on each path; 2) a driver?s OBD-II data recording the true amount of fuel  consumption on each path; 3) a road network G(N,E) and physical feature data of  the targeted city; Derive the parameters of PFCM for each driver, with the  objective of minimizing the modelling error. The problem will be addressed in Phase I: Personalized Fuel Consumption Model Building.

The problem of planning fuel-efficient driving route for a driver can be formulated as follows:  Given: 1) a user?s driving route query (t0, S,D), in which t0 refers  to the departure time, S and D refer to the source node and destination node respectively;  2) real-time traffic information collected from other drivers via Mobile Crowdsensing (MCS) on each edge;  3) the driver?s PFCM; Find the most fuel-efficient driving route (the sequence  of edges) for the given driver from S to D, and estimate the potential fuel consumption on it. The problem will be addressed in Phase II: Fuel-Efficient Driving Route Planning.



III. PHASE I: PERSONALIZED FUEL CONSUMPTION MODEL BUILDING  The objective of building personalized fuel consumption model (PFCM) is to estimate the potential amount of fuel cost when a driver has travelled a certain path while performing the driving behaviors recorded by the GPS trajectory data. Fuel is burned to generate the driving force to overcome the necessary force (FN ) and the extra force (FE). Specifically, the necessary force (FN ) is the driving force generated to overcome the total force including the friction force caused by the road, the gravitational force caused by the vehicle, and the air resistance, which is unavoidable. Ideally, vehicle only needs to overcome  3Both road network and physical features are extracted from Open- StreetMap, with more details can be found at www.openstreetmap.org.

(a) (b)  Fig. 3. The relation between ? and the vehicle speed v at a given engine speed.

the necessary force when the driver moves on a straight road at a constant speed. However, because the driver may encounter traffic congestions, traffic lights/stop signs while driving, the extra force (FE) is induced. In addition to, due to uncertainty, drivers would slow down in advance when traversing some specific POIs as discussed, leading to an increase of the extra force.

The fuel consumption rate of a vehicle at time t is propor- tional to the power generated by its engine at that time. Let fr and P denote the fuel consumption rate and the instantaneous power, respectively. Thus the fuel consumption rate at time t can be computed by Eqn. 2.

fr(t) = ?P (t) (2)  The instantaneous power (P ) can be calculated by Eqn. 3.

P (t) = (FN + FE)v(t) (3)  where v(t) is the instantaneous speed at time t.

By substituting Eqn. 3 to Eqn. 2, we can derive the fuel  consumption rate as follows.

fr(t) = ?(FN + FE)v(t) = ?FNv(t)? ?? ? Necessary  +?FEv(t)? ?? ? Extra  (4)  where the first part is defined as the necessary fuel consump- tion rate (frn(t)), the second part is defined as the extra fuel consumption rate (fre(t)); ? is the specific fuel consumption (SFC), which refers to the quantity of fuel consumed to produce one unit of power in one unit of time, and varies under different travel and engine speeds. Fig. 3(a) shows the details on how ? differs with the travel speed at a given engine speed.

? is much bigger when the vehicle travels at a low speed, indicating that fuel is consumed more quickly since the fuel cannot be fully burned at that speed. Previous work simply use a single average value ?? to approximate the SFC, which does not hold when the speed is slow. Going a step further, we use two coefficients to distinct the slow and normal case. In more detail, ??1 is used to approximate the SFC when the travel speed is less than vth and ??2 is used to approximate when the travel speed is above vth, as demonstrated in Fig. 3(b). Here, we set vth = 10km/h.

A. Necessary Fuel Consumption Rate  The essence of the necessary fuel consumption rate is to estimate the necessary driving force (FN ) that is used to      overcome the friction force caused by the road (FNf ), the gravitational force (FNg) and the air resistance (FNr). The relationship of the above forces can be represented as follows.

FN = FNf + FNg + FNr (5) The road frictional force FNf can be characterized by  the gravitational force acting on the vehicle and estimated according to Eqn. 6.

FNf = ?mgcos(?) (6) where ? is the coefficient of friction, m is the mass of the vehicle, g is the gravitational acceleration, and ? is the ground slope of the road.

The gravitational force FNg can be approximated using the following equation:  FNg = mgsin(?) (7) The force caused by the air resistance FNr can be estimated  by the following equation:  FNr =  ?CrAv  2(t) (8)  where ? is the coefficient of the air resistance, A is the frontal area of the car, Cr is the air density, and v is the speed of the vehicle at time t.

Finally, we can obtain the necessary fuel consumption model by simple derivations as follows:  frn(t) = ?FNv(t)  = ?[?mgcos(?) +mgsin(?) +  ?ACrv  2(t)]v(t)  (9)  We note that in most of cases, the slope (?) of the road is small, and frn can be simplified as follows:  frn(t) = ?[?mg +  ?ACrv  2(t)]v(t) (10)  B. Extra Fuel Consumption Rate In addition to the necessary fuel consumption rate, the  vehicle has to consume some extra fuel to generate extra force, the accurate value of which is difficult to get. Here, we simply estimate the extra fuel consumption using Eqn. 11.

fre(t) = ?FEv(t)  = ?ma(t)(? + |path.ts|? ?? ? Reactive  + |path.n|+ |path.poi|? ?? ? Proactive  )v(t)  (11)  where a(t) and v(t) are the acceleration and the speed of the vehicle at the time t. respectively; ? is a constant coefficient which is used to characterize the case of traffic congestions; |path.ts|, |path.n|, |path.poi| correspond to the number of traffic lights/stop signs, the number of neigbouring edges, and the number of specific POIs of the given path respectively. The first two parts are used to estimated the extra fuel consumption while drivers have to change driving behaviours reactively; while the last two parts are used to approximate the extra fuel consumption when drivers change driving behaviours proactively.

Fig. 4. Total fuel consumption rate at different sampling times (top); Speed information at different sampling times (bottom).

C. Personalized Fuel Consumption Model (PFCM)  The total fuel consumption rate is simply the sum of the necessary and extra fuel consumption rates, as shown in Eqn. 12.

fr(t) = frn(t) + fre(t) (12)  Therefore, the total fuel consumption fc of a given path for a driver under his/her driving behaviours recorded by the GPS trajectgory data (i.e., PFCM) can be modelled by integrating the total fuel rate fr(t) during the time period [t1, tn], as follows.

fc =  ? tn t1  fr(t)dt =  ? tn t1  ?v(t){[?mg + 1 ?ACrv  2(t)]  +ma(t)(? + |path.ts|+ |path.n|+ |path.poi|)}dt (13)  where t1 and tn refer to the time when the driver enters and leaves the given path, respectively.

In fact, since the speed and acceleration information cannot be continuously measured, we are not able to estimate the continuous fuel consumption rate. Only some discrete fuel consumption rates at the sampling times (same to the GPS trajectory data) can be estimated. Thus, the calculation of the total fuel consumption (i.e., the integration in Eqn. 13) directly impossible.

To approximate the total fuel consumption of a given path with only a limited and discrete points, we mainly take two steps, detailed as follows.

Step 1: Divide the area under the curve (fr(t)) into several partitions with equal time interval (i.e., ?t), based on the sampling time information, as shown in Fig. 4. We note that      although the essence of calculating the total fuel consumption is to get the area under the curve, how fr(t) changes during the time intervals is unknown.

Step 2: Approximate the area of each partition ( ?fci) based on the driving information provided by the GPS trajectory data (e.g., time, speed), as shown Eqn. 14.

?fci = ?(k1?di + k2v? i ?t+ k3v?i?vi + k4v?i?vi|path.ts|  + k5v?i?vi|path.n|+ k6v?i?vi|path.poi|) (14)  where ?t is the sampling time interval of GPS trajectory data; definitions on ?vi, ?di, v?i are shown in the bottom figure in Fig. 4; k1, k2, k3, k4, k5 and k6 are constant coefficients but vary among different drivers, which can be easily derived from the driver?s historical data (i.e., GPS trajectory data and OBD- II data). The information about the number of traffic lights/stop signs, the neighbouring edges, and the specific POIs of the path can be extracted from OpenStreetMap (OSM) platform.

It should be noted that we need to derive two ?s (i.e., ?1 and ?2) in our model based on v?i and vth. For instance, ?1 should be used to model the first partition since v?1 < vth, as shown in Fig. 4.

Thus, the total fuel consumption of the path (pathi) is just the sum of areas of all pieces of partitions, which can be computed based on Eqn. 15.

f? c(pathi) = n?  i=1  ?fci (15)  where n is the number of partitions determined by the number of GPS points recorded when travelling along the path. Com- pared to the ground truth (fci) that is obtained according to Definition 5, each piece of f? ci may either be overestimated or underestimated, thus the modelling error could be accumulated or reduced as the path becomes longer and contains more GPS points. We will investigate the modelling performance of PFCM on paths under different path lengths quantitively in Section V-B2.



IV. PHASE II: FUEL-EFFICIENT DRIVING ROUTE PLANNING  With the model constructed from Phase I, we are able to estimate the fuel consumption of a driver, given his/her GPS trajectory data. However, the model can only operate ex-postly (i.e., compute the fuel consumption after the trip is completed). In another word, because of the unavailability of the GPS trajectory data on each potential edge from the source to the destination, recommendation of fuel-efficient routes cannot be provided to drivers. To migrate the problem, we propose a three-step procedure, the technical details of which are discussed as follows.

A. Real-time Traffic Information Collection  The core of the real-time traffic information collection is to predict the information about GPS trajectory (e.g., the number of sampling points, the speed information of each point) on an edge if the driver would travel it, which is proved to be  quite challenging [6], [23]. Here, to simplify the issue, we assume that we just have abundant real-time GPS trajectory data generated by other drivers on each edge during a time period T 4. The data can be input into the PFCM and we will get the potential fuel consumption on that edge for the given driver. We believe that the assumption is reasonable, as in recent years there are an increasing number of mobile crowdsensing apps that share real-time GPS trajectory data and traffic information, such as Waze5.

More specifically, for an edge, after the driver submits his request at time t0, we first retrieve all the real-time GPS trajectory data contributed by all passing-by drivers on that edge during the time period [t0, t0 ? T ]. We then keep the GPS trajectory data with the most similar cumulative travel distance (  ?n i=1 ?di, where n is the number of GPS points on  the edge) to the actual edge length and use it to represent the case if the given driver travells on it. The travel time on the edge can also be easily obtained. The selected GPS trajectory data is denoted as a pair of driverId and edgeId, e.g., ?dri, ej?.

The effectiveness of collecting real-time information via the Mobile Crowdsensing (MCS) manner for route-planning will be evaluated in Section V-C1.

B. Fuel Consumption Estimation  With the real-time traffic information collected, based on the built PFCM for each driver, we are able to estimate the potential fuel consumption on a path (Pathi) to be travelled for the given driver (drg) by summing the fuel consumed on all edges (ek|Nk=1) belonging to by the path, as shown in Eqn. 16.

f? c(drg, Pathi) =  N? k=1  f? c(drg, ?dro, ek?) (16)  C. Fuel-efficient Path-Planning  From a source (S) to a destination (D), to obtain the most fuel-efficient path for a specific driver, an intuitive idea is to enumerate all possible paths, then estimate and compare the potential fuel consumption for each path based on the two steps discussed earlier (i.e., Real-time Traffic Information Collection and Fuel Consumption Estimation) for each path, and pick up the one with the least fuel as the recommendation to the driver. However, the intuitive solution is not practical because discovering all possible paths for a given source- destination (SD) pair is a well-know NP-hard problem [3].

To offer a high-quality path in terms of fuel consumption for the driver within an acceptable time, we develop a heuristic algorithm. The basic idea of the heuristic is illustrated in Fig. 5, which can be summarized as follows.

? For a given SD pair, find the shortest path via Dijkstra?s  algorithm [24].

? Divide the shortest path into a number of sub-routes (a  subsequence of edges) with a similar distance. Measure the sub-routes with two metrics, i.e, the potential fuel  4In this paper, T is set to 1 hour and 2 hours during the rush time hours and non-rush time hours, respectively  5https://www.waze.com/      Fig. 5. An illustrative example of the fuel-efficient route planning algortihm.

consumption, and the travel time. In the example pre- sented in Fig. 5, there are three sub-routes for the shortest path from S to D.

? For each sub-route, find the path with the shortest travel time (i.e., the fastest path) from the starting node to the ending node. If the potential fuel consumption of the new path less than the path with the shortest distance, then it will be recommended as the driving route for this partition; otherwise, the shortest sub-route will be recommended. We demonstrate the process in Fig. 5. By connecting the recommended sub-routes, we obtain the final suggested driving route.

Remark. The shortest path is initiated as the driving route for the given SD pair because intuitively more fuel is con- sumed if the driver travells for a longer distance. However, in some cases, driving along the fastest path could cost less fuel, that is the reason why we compare the potential fuel consumption between the shortest path and the fastest one [14].

The motivation of dividing the full path into several sub-routes is that PFCM achieves the best performance (i.e., minimize the fuel consumption estimation error) when each sub-route approximates a certain value. We will discuss on this issue in Section V-C2.



V. EVALUATION  A. Experimental Setup  1) Data Preparation: In our experiments, we use several urban datasets in the city of Beijing, China. The datasets are gathered from multi-sources, i.e., the road network, the physical feature data extracted from OpenStreetMap, the GPS trajectory and the OBD-II data generated by 595 taxis on September 15th, 2015. The mean travel distance and mean working time for each taxi were 177.8 km and 14.59 hours, respectively. We use 30% of the total data to train the PFCM and derive the parameters, and use the rest data to test the model. Note that some necessary data pre-processing tech- niques such as de-noising, data correction/interpolation, map matching on the GPS trajectory and OBD-II data are applied before the modelling.

2) Evaluation Metrics: Two major metrics, i.e., the error and the mean error, are defined to evaluate the modelling  accuracy.

errori = f? c(pathi)? fc(pathi)  fc(pathi) ? 100 (17)  m_error = ?m  i=1 errori m  (18)  where f? c(pathi) is the fuel consumption on the given path estimated via the built model; fc(pathi) is the true fuel consumed on that path, which is obtained by computing the fuel usage between the first GPS point entering and the last one leaving the given path; m is the total number of paths evaluated.

3) Baseline Models: To show the effectiveness of our proposed PFCM, we compare it with the following four baseline models.

? GreenGPS ? This model was first proposed in [14]  and further matured in [22]. It mainly differs from our PFCM in two aspects. One is that GreenGPS does not consider the extra fuel consumption when drivers change their driving behaviours (e.g., slow down in advance) proactively when traverse some specific POIs. The other is that GreenGPS does not account for the fact that the specific fuel consumption (i.e., ?) would vary when driving at different speeds.

? PFCMv ? This model is a variant of our proposed PFCM, in which only a single ? is derived.

? AFCM ? The average fuel consumption model (AFCM) simply multiplying the average fuel consumption (Ci) of the driver in history with the total distance of the path to approximate the total fuel consumed on the path.

? CFCM ? The constant fuel consumption model (CFCM) first derives a constant average fuel consumption (C) which minimizes the following Eqn. 19. Then, the es- timation of the fuel consumption on a path is computed by multiplying C with the path distance, regardless of the detailed path and the individual driving behaviours.

arg min[C ? n?  i=1  tdi ? n?  i=1  fc(i)] (19)  where tdi is the total travel distance of the ith driver; fc(i) is the true value of fuel consumption of the ith driver during the same whole day; n is the total number of taxis.

4) Evaluation Environment: All the evaluations in the paper are run in Matlab on an Intel Core i5-4460 PC with 8-GB RAM and Windows 10 operation system.

B. Evaluation on PFCM  1) Comparison Results to Baselines: We compare the model accuracy of our proposed PFCM to four baseline models, with results shown in Fig. 6. The x-axis refers to the absolute error value of the model accuracy and y-axis refers to the corresponding Cumulative Distribution Functions (CDFs) of the number of paths. As shown in the figure, PFCM achieves the best performance consistently. To be      absolute error (%)  Fig. 6. Comparison results among PFCM and four baseline models.

more specific, PFCM is able to get a remarkable accuracy on the estimation of fuel consumption. For instance, over 90% of paths are with an absolute error less than 15%, much better than that of PFCMv , which demonstrates the effectiveness of the differentiation of slow and normal driving cases. Moreover, its variant version, PFCMv also achieves a promising accuracy. The PFCMv performs slightly better than the state-of-art model (i.e., GreenGPS), showing the effectiveness of the introduction of extra fuel consumption caused by changing driving behaviours proactively.

The two simple models (i.e., AFCM and CFCM),however, fail to provide a meaningful accuracy. Because these two models only consider the length of the path, information such as real-time traffic conditions, road network topology, and driving behaviors, which is of crucial importance for the fuel consumption, is not included in the modeling process.

2) Model Performance on Paths under Varied Lengths: In order to better understand how models perform on paths with different lengths qualitatively, we bin the paths based on their length and compute the mean error. The corresponding results are shown in Fig. 7. For all models, the model accuracy gets higher as path length increases. As can be predicted, PFCM again performs consistently better that the others, and AFCM and CFCM suffer the worst performance under all path lengths. In more detail, PFCM achieves a mean fuel consumption error around 7% when the path length is 10 km, and a quite stable mean error which is close to 5% when the path length is longer than 15 km.

With the above results, drivers are not only able to control their expectation of the modelling accuracy, but also the quality of the fuel-efficient driving routes. The driving routes suggested by Phase II of the system are of higher quality and more advisable if destinations are distant, while the suggested driving routes are more error-prone when the destinations are close.

C. Evaluation on Path-Planning Algorithm  1) Effectiveness of Real-time Traffic Information Collection Method: For a given path with recorded GPS trajectory and OBD-II data, we know the actual fuel consumed on it, which can be used as the ground truth to compare with. Meanwhile,  Fig. 7. Model performance of PFCM and other four baselines by varying the length of the path.

Fig. 8. Results of the effectiveness of the real-time collection method under varied path lengths.

at the given starting time of the path, with the proposed collection method, we are also able to collect the real-time information (the potential GPS trajectory data) on each edge of the path. Then, based on PFCM, the amount of the potential fuel consumption can be computed according to Eqn. 16. If the result is close to the ground truth, then it is safe to claim that the real-time information collection is effective. Otherwise, it is ineffective.

We compute the m_error for all studied paths with length from 5 km to 20 km based on the real-time information collected via MCS. The results are presented in Fig. 8. As a reference, results based on PFCM with the actual GPS trajectory data as input are also provided. We can see that with the real-time information collected via MCS, PFCM achieves an acceptable accuracy, with a mean absolute error less than 16% when the path length is 5 km, and an increasingly better accuracy when the path length is larger than 10 km.

As expected, the estimation accuracy using the real-time information is worse than the corresponding one when the actual GPS trajectory data is used under all path lengths.

2) Determination of Length of Sub-route: We investigate the accuracy of PFCM by varying the length of the sub-route qualitatively. The result shown in Fig. 9, in which a valley      Sub-route Length (km)  Fig. 9. Model accuray of PFCM by varying the length of the sub-route.

TABLE I QUANTITATIVE INFORMATION ABOUT THE SUGGESTED DRIVING ROUTES  AND THE ACTUAL DRIVING ROUTES.

Case Actual Route Suggested Route Potential Dist. (km) Fuel (l) Dist. (km) Fuel (l) Savings (%)  I 10.0 1.258 11.7 0.992 21.1 II 10.1 1.37 8.8 1.08 21.17 III 7.9 1.6 9.4 1.29 19.38  point can be observed. More specifically, we first vary the length of sub-route from 0.5 km to 1.6 km, with an equal interval of 0.1 km, then calculate the metric of m_error under each length of all sub-routes. As shown in the result, the model accuracy gets better when the path length goes from 0.5 km to 1 km, and becomes worse as the path becomes longer. We can draw the conclusion that the best modelling performance is achieved when the length of sub-route is around 1 km.

Therefore, to estimate the potential fuel consumption on each sub-route more accurately, it is better to divide the path into sub-routes, each of which with a length in the range of [0.9, 1.1] km.

3) Potential Savings on Fuel Consumption: We are also interested in the potential savings on fuel if the taxi drivers who are more concerned on the fuel economy, travel on our suggested routes. In this study, three real cases are selected, with the comparison results shown in Fig. 10. In the first case, we can see that there are quite a lot common segments between the actual and suggested driving routes. The only difference between the two routes is that our suggested route consists of secondary-level roads with a higher speed limit and wider lane, while the actual route is composed by roads at urban-street level. In the second case, we also observe a lot of common roads between the suggested driving route and the actual one.

However, by implementing our path-planning algorithm, we are capable of recommending the paths with fewer traffic lights and specific POIs, resulting in less fuel consumption. In the third case, the planned driving route is quit different from the actual one. Though the suggested route includes a slightly larger number of traffic lights/stop signs, it is distributed much fewer specific POIs along.

We further provide the quantitative information about the  suggested driving routes and the actual driving routes for the three cases discussed above. The information includes the total travel distance (in km) and the total amount of fuel consumption (in liter), the results of which are shown in Table I. The savings on the fuel consumption is defined as the ratio of the difference of total fuel consumption from two routes to the actual amount of the fuel consumption. Though the suggested routes are longer than the actual routes, the fuel consumption on the suggested routes is much less, with a remarkable fuel saving around 20% on average for all three cases.



VI. RELATED WORK  Quite a few studies have examined methods for fuel con- sumption estimation and fuel saving. In this section, we explain the related work below and point out how our work differs from the previous research work.

A. Fuel Consumption Estimation  Creating a fuel consumption model is not unique because it can be constructed from different types and sources of data.

Data-driven fuel consumption model is the most popular [1], [7], [21], [30]. Some studies utilize vehicle speed to train a general fuel consumption computing model [1], [7]. Other studies used both the vehicle speed data and vehicle parame- ters, including vehicle type, engine size, car make, loading [1].

In addition to the vehicle itself, it is well known that the personal driving behaviours also play a crucial role in the fuel consumption. Thanks to the ubiquitous availability of sensors, such as GPS and OBD being standard in vehicles, GPS trajectory data recording the driving behaviours and the resulted fuel consumption can be easily collected, making the construction of more accurate and analytical fuel consumption models become a reality [15], [18], [23]. GreenGPS is a good example [14], [22]. Based on the GPS trajectory and OBD- II data, GreenGPS consists a physical model. The GreenGPS can predict the fuel consumption of a given car on an arbitrary path with input parameters including static street parameters (e.g., the number of traffic lights and the number of stop signs), dynamic street parameters (e.g., the average speed on the street or the average congestion level), and vehicle parameters (e.g., weight and frontal area) [14]. The model was evaluated in a real-world setting, and a considerable accuracy had been obtained [22]. On the top of this work, we go a step further. We build a more comprehensive personalized fuel consumption model, based on the observation that some physical features of the routes strongly correlate with a high fuel consumption.

B. Solutions to Saving Fuel Consumption  Broadly, there are two major categories of solutions to sav- ing fuel consumption. One is non-driver-oriented and the other is driver-oriented. The first category targets at providing solu- tions mainly for the automobile manufacturers and city traffic management departments. On one hand, several types of green vehicles such as electric vehicles are available on markets. On the other hand, more and more car manufacturing technologies      Fig. 10. Comparison results between the suggested driving routes and the actual driving routes for three cases, respectively. Case I (left); Case II (middle); Case III (right). The road network fragment gets denser from left to right, indicating the driver may encounter more complex traffic conditions.

are dedicated to making fuel-efficient vehicles [16], [27]. In order to save fuel, traffic management departments improve the deployment and management of physical infrastructure and better control the traffic flow to reduce the travel times and idle times of vehicles [2], [8], [27]. Driver-oriented solutions can be further classified into two sub-categories, i.e., eco-driving and eco-routing.

Eco-Driving focuses on improving fuel economy by sug- gesting better driving behaviors, such as tenderly starting, less change of speed, early accelerator off, and proper gear change moment. Drivers are trained to learn fuel-efficient driving styles offline or online [11], [25]. For example, [4] study the fuel economy of drivers before and after attending education courses. They concluded that some drivers tend to restore to their normal driving behaviours over time since driving habits are not easy to change [4], [27]. [15] introduce a crowdsourcing-based vehicular social networking system for green transportation, which provided a user-friendly mobile application to improve drivers? awareness of their driving behaviors regarding fuel economy of specific trips. Such approach can be safety threatening since drivers are informed to take proper driving behaviours promptly which may be too disruptive and distractive [13]. Different from the prior studies that provide driving instructions at a very micro level, we target at saving fuel consumption without changing drivers? behaviours.

Eco-Routing is about providing the most fuel economical routes. A general suggestion is based on the road types, for instance, driving on freeways is generally more fuel- economical than driving on urban-level streets or country roads [19]. To the best of our knowledge, few work has focused on this research direction [12], [14], [21], [22], [28], [26]. The most similar work is GreenGPS [14], [22].

GreenGPS delivers the most fuel efficient route to drivers, neither the shortest nor the fastest route. The fuel consumption data collection method of GreenGPS is similar to ours, both of which use OBD. Either directed by vehicle manufacturers or via OBD devices, GreenGPS is typically vehicle-specific and requires extra devices/efforts. Our work differs from the existing approaches mainly in the following three aspects: 1) we explicitly and comprehensively model the reactive and proactive driving behaviors in the PFCM; 2) we collect the real-time traffic information in urban area via MCS, with which estimating the potential fuel consumption on each edge;  3) we propose a personalized fuel-efficient routing solution.



VII. CONCLUSION AND FUTURE WORK In this paper, we present a novel framework called Green-  Planner to address the issues of the personalized fuel con- sumption modelling and the fuel-efficient path-planning. In the modelling phase, we build a personalized fuel consumption model (PFCM) for each driver, based on the individual driving behaviors along the path recorded by GPS trajectory data, true fuel consumption on the corresponding path, and the physical features along the path extracted from OSM platform. In the second phase, with the real-time traffic information collected via the mobile crowdsensing manner, based on his PFCM, we proposed a heuristic algorithm to find the most fuel-efficient for the given driver based on his/her PFCM. The proposed two-phase framework had been extensively evaluated using real-world datasets, which consists of road network, POI, the GPS trajectory data and OBD-II data generated by 559 taxis in a day in the city of Beijing, China. Experimental results demonstrate that, compared to the baseline models, our model achieves the best accuracy and users could save a considerable amount of fuel if driving along our suggested routes.

In the future, we plan to broaden and deepen this work in several directions. First, to better understand our proposed modelling approach, we plan to compare and analyze PFCM parameters and modelling accuracy among different drivers.

Second, we intend to develop more advanced fuel-efficient path-planning algorithm which can still work for drivers with- out building their own PFCM. Third, we would like to deploy our system on mobile devices, enabling a series of pervasive services for both taxi and ordinary drivers. Finally, we plan to test our system in actual settings, and collect feedback on how to further improve the service.

ACKNOWLEDGEMENTS Chao Chen and Yan Ding contributed equally on this work.

The work was partially supported by the National Science Foundation of China (Nos. 61602067 and 71601024), Open Research Fund Program of Shenzhen Key Laboratory of Spatial Smart Sensing and Services (Shenzhen University), Fundamental Research Funds for the Central Universities (No. 106112015cdjxy180001), Chongqing Basic and Frontier Research Program (No. cstc2015jcyjA00016) and Ministry of Education in China Humanities and Social Sciences Youth Foundation (No. 16yjc630169).

