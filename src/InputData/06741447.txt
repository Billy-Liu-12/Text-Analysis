A New Data Transmission Mechanism  in  Aeronautical Ad Hoc Network

Abstract?In this paper, a new network topology control mechanism is proposed to improve routing path duration in Aeronautical ad hoc network, which can effectively decrease the probability of routing path breaks in the process of nodes high- speed moving, and be integrated with existing routing protocols used in Ad hoc network smoothly. The main principle of topology control mechanism is according to the different node densities with different topology construction method. For network regions having a high density of aircraft, the packets are preferentially routed over the long available links created by the aircraft moving in same direction. For low density of aircraft, the routing preferentially uses the short available links created by the aircraft moving in both directions. This mechanism can increase the routing path duration effectively. We combine the topology control mechanism with OLSR, and give the Path Link Availability Routing Protocol (PLAR). We compare the performance of PLAR protocol with other routing protocols in different scenes. Experimental results show that, PLAR protocol exhibits a significant improvement over most routing protocols base on topology and position.

Keywords-topology control ? routing protocol ? Ad hoc ? mobile computing?wireless network

I.  INTRODUCTION AANET (Aeronautical Ad Hoc Network) is a kind of Ad  Hoc Network. AANET has its own features compared with the traditional MANET. In the AANET, the mobile speed of nodes is generally higher. The mobility of nodes is usually constrained by flight path of aircraft. And the nodes are not so constrained in terms of energy. The rapid change of network topology in course of moving leads to frequent links break between nodes, thereby cause frequent routing path interruption, which can bring great influence for the persistent session established by applications. These problems have brought new challenges to routing protocol in AANET, which require the routing protocol can detect the frequent network topology change and then take the effective methods for handling. Comparing AANET with MANET, the mobility of nodes in AANET has certain regularity and controllability.

And available time of links is considered a crucial metric for high mobility of AANET. The routing protocols adopt the links with long available time in the process of routing path build, which can increase the stability and reliability of the  routing path greatly. The current routing protocols used in MANET can be divided into two categories [1-2]: topology- based and position-based.

In topology-based routing mechanisms, the nodes need store routing tables or routes which depend on the topology.

This kind of protocols includes the AODV (Ad hoc On- Demand Distance Vector Routing), OLSR (Optimized Link State Routing) and others (DSDV, DSR, TORA and FSR).

Strictly speaking, these protocols were proposed for MANET, where the nodes are assumed to move with low velocity and frequency. On this condition, these protocols are allowed to establish available end-to-end paths within a reasonable time range. And only occasionally need repair the path according to the movement features. Consequently, these protocols are used for AANET with high mobility, which is not easy to meet various requirements of applications in AANET. Especially when various aircrafts move with high-speed, these protocols are difficult to meet the demand of real-time data transmission.

Therefore, the protocols based on topology for MANET are used for AANET, which faces some challenges. one of the key problems is nodes in AANET usually require updating the routing information in quasi real time, in order to perceive the change of network topology in time, which can cause high cyber resources consumption. And some optimization can alleviate the consumption, such as the design of a lightweight protocol based on link state aware in [3].

The position-based routing protocols mainly include GSR, GPSR, LORA_CBF, RBVT, GyTAR and COALS, etc [4-9].

This class of protocol often uses the location of the neighbor nodes and destination node to determine the next hop node forwarding the packets. In most cases, the nodes do not need record any address or routing table for forwarding packets, only record the corresponding position of nodes. But these protocols also have their negative side. For example, when a fault occurs in positioning system of nodes, in order to inform other nodes of its new location, the node must broadcast its location to other nodes, which will increase the consumption of cyber resource.

This paper focus on routing mechanism based on topology in AANET, and aim to provide an ideal environment for the applications in AANET, which is not relying on positioning system. The rest of the paper is organized as follows. Section     2 introduces the nodes mobility models in AANET. In Section 3 we describe a topology control mechanism based on nodes mobility models in AANET. Section 4 describes a routing mechanism based on high mobility of node in AANET.

Section 5 addresses the simulations. Finally, the summary and outlook are given in Section 6.



II. NODES MOBILITY MODEL IN AANET For further description of service matching mechanism, we  will introduce the automatic service provision architecture, which is shown in figure.1 firstly.

Mobile nodes in AANET are usually all kinds of air vehicles.

Each air vehicle always moves along different flight routes in accordance with all assigned missions. And the flight path is always a straight line. The same flight route usually has two different directions, one is the direction which air vehicles start off on their missions, another is direction homed at end of missions.

Our research focuses on the theoretical method of network construction, when air vehicles flight along bidirectional straight line route. The following is an instance of the theoretical model.

We adopt the following assumptions: set the distance between two air vehicles m1 and m2 to d; the radio communication range of each node is r; the velocity of two air vehicle nodes m1 and m2 are represented by the vectors 1v  and  2v respectively. A link between two nodes is created if d?r.

We consider two cases: when the nodes move with high speed, the link between the nodes will remain active in the case of  1 2v v= ; the link will be broken after some time if 1 2v v? .According to the flight characteristics of the air vehicles  on the same route, 1v  and 2v  can be represented in polar coordinates ? v1 ? ?1 ? and ? v2 ? ?2 ?with v1 ? v2 ? [Vmin,Vmax] and ?1??2?{0, ?}?the relative velocity of the nodes is represented by  1 2 1 1 2 2 1 1 2 2( cos( ) cos( ), s ( ) s ( ))r in inv v v v v v v? ? ? ?= ? = ? ?   (1)  And we define its absolute value as 2 2  1, 2, 1, 2 1 2 1 2 1 2( ) 2 cos( )rv v v v v v v? ? ? ? ?= = + ? ?        (2)  The relative velocity is a function depending on the random variables v1 ? v2 ? ?1 and ?2, which are mutually independents. We use a random variable Vr to express the relative velocity, and define the expected relative velocity value as  1, 2, 1, 2( ) ( ) ( )r r rE V f V dVv v? ? ? +?  ?? = ?          (3)  As the random variables in (3) are independent, the joint distribution function f (Vr) is equal to the product of the marginal distribution function  1 2 1 2( ) ( ) ( ) ( ) ( )rf V f f f fv v ? ?=   The mathematical expectation of relative velocity can be expressed as  max max  min min 1 2 1 2  2 2  1 2 1 2 1 2 1 2 1 2  ( ) ( ) ( ) ( ) ( )  2 cos( )  r V VE V f f f f V V  d d d d  v v  v v v v v v  ? ?  ? ? ? ?  +? +?  ?? ?? =  + ? ?  ? ? ? ?  (4)  We assume that two nodes m1 and m2 form link12 at instant t, and consider that node m1 moves with velocity rv  relative to node m2, the link12 will be considered broken after some time if  0rv > . If nodes do not change their velocity and the relative distance traveled never exceeds 2r during the interval?t? t+?t?, the nodes will maintain the link12 active. This scenario is depicted in figure.1.

Figure 1. Maximum relative displacement between two mobile nodes without broken their link  The probability of a link formed at a time t remaining active at a time t+?t is related with the spatial intersection of the covered areas at instants t and t+?t, which is represented by the white area in figure. 2.

The radio covering area of the node m1 at instant t can be depicted by following formula  2 22 r  t r r x dxC ?= ??                (5)  The radio covering overlap area in the instant t and t+?t can be represented by function Ot+?t(d) ,which is the node m1 move with velocity v1 in the interval?t,t+?t?(the distance d?0)   2 2 2 2  2 0 2  0, 2( ) { d  d r x dx d r  d rt t  r dO  ? ?? ? ? ? >+?  ? =           (6)    Figure 2. Radio covering circumference change of the node m1 moved d length units between instant t and the time instants t+?t  Now we take the hello message in routing mechanism based on topology (DSDV, AODV or OLSR protocol) as an example, and introduce the method for calculating link available probability in the process of node moving. We consider that the Hello messages are broadcasted every T seconds to discover and/or maintain an active link. The distance, which the node m1 move relative to the node m2 during the period T, can be calculated by E(Vr)T. Therefore, the probability of the link remaining active after nT periods is approximately depicted by Formula (7). (N denotes the set of natural numbers)  This research is sponsored by the Natural Science Foundation of China (NSFC) under Grant No. 61303225.

( ( )) ( ) rt t  connected  nTE V n n NOp  r? +?? ?        (7)  We consider the nodes moving with high speed only have two opposite directions. When the nodes move in the same direction, the mathematical expectation of relative velocity can be calculated by the formula (8), which is simplified by formula (4).

max max  min min 1 2  2 2  1 2 1 2 1 2  ( ) ( ) ( )   samedirection r V V f f V VV v vE  v v v v dv dv  =  + ?  ? ?          (8)  When the nodes move in the opposite direction, the mathematical expectation of relative velocity can be calculated by the formula (9) which is simplified by formula (4).

max max  min min 1 2  2 2  1 2 1 2 1 2  ( ) ( ) ( )   roppositedirection V VV f f V V v vE  v v v v dv dv  =  + +  ? ?       (9)  Proposition 1. The links established by the nodes flight in the same direction take on a higher probability of keeping long time available than in opposite direction on one air line.

Proof. The known periodic T is a constant. And the relative distance d=E(Vr)nT between two moving nodes is proportional to the expected relative velocity E(Vr). We can get E(Vr)opposite direction?E(Vr)same direction by formulas (8) and (9). And Ot+?t(d) is a decreasing function in 0?d?2r. By the known conditions and formula (7) can infer  2 2  ( ( )) ( ( ))oppositedirection r samedirection rt t t tnTE V nTE VO O r r? ?  +? +?<   Therefore, when the nodes move in the same direction, the probability which the links between two nodes keep long time available is higher.

When the routing protocols in AANET create multi hop routing path, using proposition 1 can effectively reduce the probability of link break, thereby reducing the probability of routing path interrupt. When the densities of air vehicles flight in the same direction is smaller, the links created by the air vehicles in the same direction may not ensure the interactive data between the two nodes moving can be delivered each other. So we need use the links created between the nodes flight in the opposite direction. Under the circumstances, the proposition 2 can be introduced to optimize the routing mechanism and increase the available time of routing path.

Proposition 2.The newest links established by the nodes flight in the opposite direction take on a higher probability of keeping long time available than old links on an air line.

Proof. Set a time period T and two links link1 and link2 created at different time. At the time instant t, the link1 has lasted for nT (n?N), and the link2 has lasted for (n-?)T (0???n,?? N). According to the formula (7), the probabilities that the link1 and link2 keep available at the time instant t are respectively represented by   ( ( )) ( ) oppositedirection rt t  connected  nTE V n Op  r? +??  and   (( ) ( )) ( ) oppositedirection rt t  connected  n TE V n Op  r ?  ? ?  +? ?  ? ?    Since Ot+?t(d) is a decreasing function in 0?d?2r, Thus, we can get pconnected(n)?pconnected(n-?). And the probability which the oldest link link1 keeps available is smaller.



III. TOPOLOGY CONTROL BASE ON MOBILITY MODEL  This section introduces a solution, which uses topology control mechanism to detect and recognize the available links established by two nodes flight on one air line in AANET. In routing mechanisms based on topology control, discovery and maintenance of links between the nodes mainly adopts regular exchange of Hello packets. Therefore, we represent the available time of a link by the number of Hello packets received, and introduce the concept of node logic neighbor set, which is the set of 1-hop nodes which can exchange Hello packets directly from one node.

Table 1 shows a parameters list of a logic neighbor set of mi (here i=1); Mi characterizes logic neighbor set of mi. ti(mx) is the time instant when the node mi firstly receives a Hello packet from its neighbor node mx and creates a unidirectional link between them. ?i(mx) is the stability between mi and mx used to measure the duration of link.

Formula (10) is the calculation method; t is current time instant; T characterizes the period received Hello message; [x] is the largest integer not greater than x.

( ) ( ) 1i xi x  t T  t mm? ?? ?  = +? ? ? ?  (10)  TABLE I. LOGICAL NEIGHBORS OF NODE MI (T=132.6S,T=1S,I=1)  { }2, 3, 5i m m mM =  ( ),i ix xm m M? ? ?  ( )i xt m  ( )i xN m m2 69 63.8 n2 m5 12 121.1 n5 m3 4 129.3 n3  Ni(mx) is overtime threshold. If no exchange time of Hello packets between two nodes is over the threshold Ni(mx), we consider the link is broken. And the function of Ni(mx) is to avoid that links are wrongly considered broken when occasional interference leads to Hello packet loss. Here, we just consider a fixed value: Ni(mx) = 4T, which means that the link detection mechanism tolerates up to three consecutive missed Hello packets without deeming it broken. The probability of more than three consecutive missed Hello packets is small [10- 11]. And when there is not Hello packet exchanged via a link for 4 periods, the link is considered broken; the routing algorithm no longer chooses this link; its stability value is reset.

A. Recognition of long time available links This subsection gives a method using the stability value to  detect the long time available links between the air vehicles flight in the same direction. As shown in the formula (11), a link is considered to have high stability if its stability value ?i(mx) is greater than a given value nstab. And we define the     link with high stability as a long time available link (represent with linkix-l).

( )i x stabm n? ?              (11) Following is the calculation method of nstab. Based on the  formula (6) and (7), a link created by two nodes flight in the opposite direction presents an improbability of keeping the link available when d > 2r and E(Vr) ? 0. Due to d=E(Vr)nT ,we can infer pconnected(n)=0 when n>2r/E(Vr)T.

The literature[10] finds that keeping the link available in high speed Ad hoc network, relative velocity is approximated by a normal distribution, 99.7% of the velocity observations are within E(Vr)?3?(??E(Vr)/3), where ? denotes the standard deviation of the distribution. And we use the lower limit E(Vr)-3? of relative velocity distribution to get a larger nstab value. The computational method is shown in formula (12).

( ( ) 3 )stab r  r E V Tn ?= ?             (12)  In other words, after the link is created between two nodes flight in one direction, more than nstab Hello packets are transmitted, which means the link is a long time available link.

B. Recognition of short time available links The links between nodes are not always long time available  links for the mobility of the nodes in AANET. Sometimes all existing long time available links can not establish a routing path. On this condition, we need some short time available links to patch the routing path for reliable data transmission.

When the condition ?i(mx)?nstab holds, a link is considered to be unstable. The unstable link with longer duration is defined as short time available link. And corresponding recognition algorithm uses the proposition 2 to select the node, which creates link with minimum stability value, from logic neighbor set, as shown in the formula (13).

min( ( )),i iix s x xlink m m M?? = ? ?           (13)  For the unstable links, we do not distinguish the links created by the nodes flight in the same direction or the opposite direction, and just choose the link with minimum value of ?i(mx) as the short time available link.

C. Topology control based on link stability When majority of logical neighbor nodes have created long  time available links between themselves and a node, we consider the node as a stable node, which can be used for broadcasting the messages about network topology change. To avoid a large amount of messages broadcast causing flooding phenomenon, we propose a broadcast agent vote algorithm, which can select an agent node to broadcast the messages about network topology change. In addition, the topology consists of long time available links can be effectively used for information dissemination and transfer in the whole of network.

We assume A(mi) is the broadcast agent selected by node mi, and only one broadcast agent can be selected by node mi. The mi also can learn other broadcast agents selected by the nodes  in its logical neighbor set via the Hello message. The detail is shown in algorithm 1.

Algorithm 1. The node mi selects its broadcast agent.

Input?Mi,{ ?i(mx), Ai(mx), ti(mx)}?mx?Mi Output?A(mi) 1 ?max ?return_?max_from_table(); 2 address?MAX_INT; 3 Amid? -1; 4 thershold? -1; 5 IF if_stable_node (mi) THEN 6   FOR each neighbor  mx?Mi  DO 7      insert_list(Ai(mx),list_BA); 8   END 9   IF (mi is BA) THEN 10     insert_list(mi , list_BA); 11  END 12  FOR  each Ax?list_BA  DO 13     FOR each neighbor  mx?Mi  DO 14       IF (mx=Ax) AND if_stable_node(mx) THEN 15          Amid?mx; 16       END 17     END 18     IF?Amid ? -1?THEN; 19        BREAK? 20     END 21     IF (mi=Ax) THEN 22        Amid?mi; 23        BREAK? 24     END 25  END 26  IF?Amid = -1?THEN 27    FOR each neighbor  mx?Mi  DO 28       IF(?max -?i?mx?-thershold?0)  AND (address_ mx?address) THEN 29          address?address_ mx; 30          Amid?mx; 31       END 32    END 33  END 34 END 35 A(mi)= Amid;

IV. ROUTING MECHENISM BASE ON MOBILE FEATURE OF NODES IN AANET  This section introduces a new protocol Path Link Availability Routing Protocol (PLAR) based on OLSR. And one feature of PLAR is using the stability of link to control the network topology. A core technology used in OLSR is Multipoint relaying (MPR), which can reduce the number of redundant retransmissions message when the messages are broadcasted in the network. The Multipoint Relay Set (MPRs) is a set of Multipoint Relay nodes. In OLSR, MPRs are chosen as the minimum set of mi?s 1-hop neighbor nodes which     cover all its 2-hops neighbor nodes. Therefore MPR nodes can guarantee 2-hops full coverage. Algorithm 1 can generate a broadcast agent set which send the massage about topology change, and construct a stable topology which diffuse the message in the whole of the network. Then we introduce the algorithms 2 and 3, which select and generate the MPRs based on the algorithms 1.

A. Generation of MPRs for high density of nodes This subsection introduces a new method (algorithm 2)  generating MPRs for the OLSR protocol based on algorithm 1.

The basic principle of the method is the choice of nodes with long time available links to generate MPRs. Following is an example about algorithm 2. If a given node mi runs the algorithm 2, only need to know its logic neighbor set Mi, stability value ?i(mx) and 2-hop neighbor set M2i. In the OLSR, 2-hop neighbor set includes all 2-hop neighbor nodes of mi. In our algorithm?only the 2-hop neighbor nodes which the mi? 1-hop stable neighbor nodes mx can connect with, can be included in the 2-hop neighbor set. And the nodes set generated by our method can meet the requirement of broadcast for topology update when the density of nodes is high, because the nodes with long time available links are enough. The core principle of the algorithm 2 is MPRs in OLSR consists of broadcast agents.

Algorithm 2. Generation of MPRs for high density of nodes Input?Mi, M2i,{ ?i(mx), Ai(mx), ti(mx)}?mx?Mi Output?MPRs(mi) 1 MPRs(mi)?? 2 M2i?2_hop_neighbor( ) 3 FOR each neighbor mx?Mi  DO 4   IF ?i(mx) >nstab AND mx is BA THEN 5     MPRs(mi)? MPRs(mi)?mx 6     remove_2_hops_from(M2i) 7     remove_1_hops_from_set(mx,Mi) 8   END 9 END 10 Morder=sort_stability_by_descendent(Mi) 11 WHILE  M2i ? ?  DO 12    mx=get_first_element(Morder) 13    MPRs(mi)? MPRs(mi)?mx 14    remove_2_hops_from(M2i) 15    remove_1_hops_from_set(mx,Mi) 16    rm_redundance_coverN2a_from_set(MPRs(mi), Morder) 17 END?  Algorithm 2 shows better results than the MPRs generation algorithm of original OLSR when the number of stable links associated with mi is above a given threshold (4 stable links).

If the number of stable links is not above this threshold, the number of nodes contained in MPRs (Algorithm 2 in line 5) is small. But the number may become bigger in line 12.

However, when the number of long time available links between mi and its neighbors is small, the nodes initially inserted in M2i is also small, which leads to the number of nodes in MPRs is small. Under this condition, the result of utilization proposition 2 is better than proposition 1 for the  algorithm design. In the next subsection, we will introduce an additional algorithm, which is better suited for the case that the number of long time available links of mi is below the threshold.

B. Generation of MPRs for low density of nodes When the density of air vehicles is low, the number of long  time available links created between the air vehicle and its neighbors is small. The result of algorithms 2 is not ideal.

Under this condition, we can utilize more short time available links to increase the amount of routing path, thereby improving the routing efficiency. Therefore, this subsection gives the algorithm 3 based on proposition 2 to generate MPRs for the lower density of nodes.

Algorithm 3. Generation of MPRs for low density of nodes Input?Mi, M2i,{ ?i(mx), Ai(mx), ti(mx)}?mx?Mi Output?MPRs(mi) 1 MPRs(mi)?? 2 M2i?2_hop_neighbor( ) 3 FOR each neighbor  mx?Mi  DO 4   IF ?i(mx) >nstab AND mx is BA THEN 5     MPRs(mi)? MPRs(mi)?mx 6     remove_2_hops_from(M2i) 7     remove_1_hops_from_set(mx,Mi) 8   END 9 END 10 Morder=sort_stability_by_ascendent(Mi) 11 WHILE  M2i ? ?  DO 12    mx=get_first_element(Morder) 13    MPRs(mi)? MPRs(mi)?mx 14    remove_2_hops_from(M2i) 15    remove_1_hops_from_set(mx,Mi) 16    rm_redundance_coverN2a_from_set(MPRs(mi), Morder) 17 END?  Algorithm 3 has the same rationale with algorithm 2. The 1- hop neighbor nodes of mi which have been selected as broadcast agents and have long time available links with mi, are inserted in MPRs (lines 3?8), since these links are stable.

Proposition 1 indicate that they have higher probability of keeping available for a long time. If the nodes contained in MPRs generated based on proposition 1 can not access all 2- hops neighbor nodes, the algorithm inserts more unstable nodes into MPRs (lines 10 to 15). For this case, the density of nodes is low, and algorithm 3 uses proposition 2 to select the 1-hop neighbor nodes, which have lowest stability value links to mi, as the nodes of MPRs. And the link between mi and its neighbor nodes with lowest stability value has higher probability of keeping long time available.

C. Selection policy of algorithm in PLAR The difference between the algorithm 2 and algorithm 3 is  the way of generating the MPRs. When the density of air vehicles is high, the probability of creating more long time available links between mi and its neighbor nodes (stable neighbor nodes) is high. So the algorithm 2 is applied. For low density of air vehicles (scenario proposed for Algorithm 3), the probability, which the 1-hop stable neighbor nodes of mi     can access all 2-hop neighbor nodes of mi, is low. At this moment, algorithm 3 is more suitable.

A given node mi running our method uses Algorithm 2 or Algorithm 3 depending on the number of its long time available links. We set a threshold. If the number of long time available links associate with mi is not greater than the threshold. The node mi adopts the Algorithm 3. Otherwise, Algorithm 2 is used to generate the MPRs.



V. SIMULATIONS In the simulation, we develop a traffic simulator to simulate  air traffic scenarios, and the simulator is integrated into the NS2 (network simulation platform) to simulate the AANET.

We have simulated a 100 kilometer air line with three lanes in each direction and the bidirectional air traffic with different air vehicles density. And the radio range of air vehicle is 10 kilometer. We define three different classes of air vehicles according to the flying speed for a classic scenario. We define four different scenes regarding the density of air vehicles. The number of packets generated on each density scene was maintained constant at approximately 3500 packets.

In order to compute the threshold nstab, we assume that the flying velocities of the three classes of air vehicles are normally distributed approximately. For this case, applying (8) and (9), the average relative velocity between two air vehicles flight in the opposite directions (E(Vr)opposite direction) is 589 m/s, and the average relative velocity between two air vehicles flight in the same direction (E(Vr)same direction) is approximately 15 m/s. We adopt that the transmission frequency of Hello packets (1/TB) is 1 Hz; the maximum communication distance between nodes is 10 kilometers; the standard deviation of mobile velocities is 5 m/s. According to (12), we can yield nstab = 68.

We compared the simulation scenarios to the real scene, the approximation degree of all parameters and data is close to 95%. All simulation results show that the method proposed in this paper is applied to the PLAR, which can increase the path available time significantly. When the routing paths are created by air vehicles flight in one direction, the available rate of routing paths established by OLSR can reach 72.18%.

When we choose the nodes bidirectional flight to create the routing paths, the available rate of routing paths established by OLSR is only 45.27%. The available rate of routing paths established by PLAR using the nodes bidirectional flight can reach 66.93%, which is closer to the performance of OLSR used in a single direction. In addition, the PLAR is also shown good performance in the end to end delay, only the OLSR is superior to it. But the path available rate of PLAR is better than OLSR, which can be comparable with the AODV.

Therefore, the PLAR improves on the available time for routing paths, which shows PLAR is more suitable for the AANET with higher demand on the network stability.



VI. CONCLUTION In this paper, we propose a new routing mechanism for  AANET network. This mechanism can reduce the probability  of routing path broken by increasing the available time of links in the AANET, so as to improve the performance of routing protocols. The experimental results show that the method proposed in this paper can effectively improve the performance of routing protocols based on topology and location, mainly reflected in the path available time. The end- to-end delay and path available rate is also enhanced to an ideal level. The innovation of this paper lies in that the node mobility model of AANET is applied to the design and implementation of routing mechanism. In the future, we can further research on probability model representing the real- time parameters of node mobility model, which can provide a theoretical basis for the adaptive routing behavior in AANET.

