Mining Generalized Association Rules with Fuzzy Taxonomic Structures

Abstract  Data mining is a key step of knowledge discovery in databases. Usually, Srikant and Agrawal 's algorithm is used for mining generalized association rules upon all levels of presumed exact taxonomic structures. However, in many real-world applications, the taxonomic structures may not be crisp but fuzzy. This paper focuses on the issue of mining generalized association rules with fuzzy taxonomic structures. Particular attention is paid to extending the notions of the degree of support, the degree of conjidence, and the R-interest measure. The computation of these degrees takes into account the fact that there exists a partial belonging of any two itemsets in the taxonomy concerned. Finally, a simpli@ed example is given to help illustrate the ideas.

1. Introduction  Data mining is a key step of knowledge discovery in large databases. One of the important issues in the fields is to efficiently discover the relationship among data items in forms of association rules that are of interest to decision-makers. In 1993, Agrawal [l] proposed an algorithm for mining association rules that represent the relationships between basic data items (e.g., items fiom  original sales records). An example of such rules is Apple Pork (e.g., customers who bought apples turned to buy  pork). Further, various efforts have been made to improve or extend the algorithm, e.g., [2,4-91. In Srikant and Agrawal [8], the algorithm is extended to allow the discovery of the so-called generalized association rules that represent the relationships between basic data items, as well as between data items at all levels of related taxonomic structures. An example of such rules is Fruit  Meat (e.g., customers who bought fruit products turned to buy meat products). Notably, the computation of the degree of support, denoted hereafter as Dsupport, and the degree of confidence, denoted hereafter as Dconfidence, plays an important role in the algorithm [8]. Specifically, Dsupport and Dconfidence of the generalized associated rule X-.Y are defined as follows:  ' Corresponding author  0-7803-521 1 -4/99/$10.00 0 1999 IEEE 477  Where X and Y are itemsets with XnY=0, T is the set of transactions contained in the database concerned, I I x I I is the number of transactions in T that contain X, I I xuyf I is the number of transactions in T that contain X and Y, and I T I is the number of transactions contained in T. Mining    generalized associated rules X-Y, if any, in a database is to find whether the transactions in the database satisfy the pre-specified thresholds, min-support and minanfidence, for Dsupport and Dconfidence respectively. Usually, the rules discovered in this way may need to be further filtered, for instance, to eliminate redundant and inconsistent rules using the R-interest measure, which will be discussed in Section 2.

However, in many real world applications, the related taxonomic structures may not be necessarily crisp, rather, certain fuzzy taxonomic sbuctures reflecting paxtial belonging of one item to another may pertain. For example, Tomato may be regarded as being both Fruit and Vegetable, but to Merent degrees. An example of a fuzzy taxonomic structure is shown in Figure 1.

Apparently, in such a fuzzy context, the computation of Dsupport and Dconfidence shown above can hardly be applied, but needs to be extended accordingly.

Vegetable dishes Meat  Vegeble Mutton Pork  Apple Tomato Cabbage  Figure 1 Example of fuzzy taxonomic structures  2. Fuzzy extensions  A crisp taxonomic structure assumes that the child item belongs to its ancestor with degree 1. But in a fuzzy taxonomy, this assumption is no longer true. Different degrees may pertain across all nodes (itemsets) of the structure.

Let I = {i,, i,, .... i,,,} be a set of literals, called items.

Let FG be a directed acyclic graph (DAG) on the literals [lo]. An edge in FG represents a fuzzy is-a relationship, which means along with each edge, there exists a partial  degree p with which the child-node on this edge belongs to its parent-node on this edge, where 0 5 p S 1. If there is an edge in FG k m p  to c, we callp a parent of c and c a child of p (p represents a generalization of c.). We model the fuzzy taxonomic structure as a DAG rather than a forest to allow for multiple taxonomies.

We call xA an ancestor of x (and x a descendant of xA) if there is a directed path (a series of edges) from xA to x in the transitiveclosure of FG. Note that a node is not an ancestor of itself, since the graph is acyclic.

Let T be a set of all transactionS, I be a set of all items, and t be a transaction in T such that t I. Then, we say that a transaction t supports an item XCI with degree 1 if x is in t, or with degree p, ifx is anancestor of some item y in t such that y belongs to x in adegree p. We say that a transaction t supports X E I with degree p:  where p is the degree of x in X that is supported by t, 0 5 p s  1.

Generally, given a transaction set T, there may exist a fuzzy taxonomic structm FG as shown in Figure 2.

1 3 1 1  I 32 I ......

b m  H24m 1411 I 42 I ...... [ 4m I  . . . . . . . . . . . . . . . . . .  ......

Figure 2 A fuzzy taxonomic structure  Every child-node x belongs to its parent-node y with degree b, 0 s s 1. The leaf-nodes of the structure are attribute values of the transaction records. Every non-leaf- node is referred to as an attribute-node, which is regarded    as a set whose elements are the leaf-nodes with respective membership degrees. Sometimes for the purposes of convenience, each leaf-node is regarded as a set that contains merely the attribute value itself. In this case, the attribute value belongs to the leaf-node with a degree of 1.

As the fuzzy taxonomic structure only represents the partial degrees of the edges, the degrees between leaf- nodes and attribute-nodes in FG need to be derived. This could be done based upon the notions of subclass, superclass and inheritance, which have been discussed in [3]. Specifically,  where I: x+ is one of the accesses (paths) of attributes x and y ,  e on 1 is one of the edges on access I ,  ,ule is the degree on the edge e on 1. If there is no access between x and y, pv = 0. Notably, what specific forms of the operators to use for 03 and @ depends on the context of the problems at hand. Merely for illustrative purposes, in this paper, mux is used for @ and min for @.

Now consider the computation of the degree of support in such a fuzzy taxonomic structure case. If a is an attribute value in a certain transaction t eT ,  T is the transaction set, and x is an attribute in certain itemset X, then the degree ,U*,, with which a belongs to x can be obtained according to formula (1). Thus, &.a may be viewed as the degree that the transaction {a> supports x.

Further, the degree that t supports X can be obtained as follows:  ptv = SupportK = min(max(p,)> .EX aet  In this way, the degree that a transaction t in T supports a certain itemset X is computed. Moreover, in terms of how many transactions in T support X, the Ccount operator [3] is used to sum up all the degrees that are associated with the transactions in T:  Hence, for a generalized association rule XaY,  let XuY = Z E I, then Dsupprt (XaY) can be obtained as follows:  (4)  In an analogous manner, Dconfidence(.X 3 Y) can be computed as follows:  VtcT VreT  Furthermore, the concept of R-interest [SI can be extended based on the notion of Dsupport. Like in the classical case, the extended R-interest measure is a way used to prune out those "redundant" rules. Briefly speaking, the rules of interest, according to R-interest, are those rules whose degrees of support are more than R times the expected degrees of support or whose degrees of conftdence are more than R times the expected degrees of confidence.

Consider a rule X=Y, where X={x,, x,, ..., x,,,} and Y=(y,, yz, ..., y,}. XA and YA are called the ancestors of X and Y respectively, ifXA=(xA1, xA2, ..., xAm] where xAi is an ancestor of xi, 1 < j < m, and Y={yAl, yA2, ..., yAJ, where yAj is an ancestor of yj, 1 S j 5 n. Then the rules X A = ,  XA*YA and X s Y A  are called the ancestors of the rule XsY. Given a set of rules, we call XA=YA a close ancestor of X=Y if there is no rule X'*Y' such that X'*Y' is an ancestor of X a Y  and XAaYA is an ancestor of X'*Y'. Let D~~pportm+,yA$XaY) denote the "expected" value of the degree of support of rule X=Y and DconfidenceE,yA$?bY) denote the "expected" value of the degree of confidence, then with fuzzy taxonomic structures, we have  and     Dconfdenoe(X" 3 Y")  {Tomato, Meat}  { Wgetable dishes, Meat ) { Wgetable, Meat}  3. Anexample  2.6 3.4  Suppose that a supermarket maintains a database for the goods that customers have purchased as shown in Table 1.

#3o0 #4o0 #500 #600  I Wansaction # 1 Something Bought 1 Cabbage, Mutton Tomato, Pork Pork Cabbage. Pork  #lo0 I Apple #200 I Tomato,Mutton  nodes Apple Tomato  Cabbage  Pork Mutton  anditsown This is done according to the R-interest measure: l/Apple, l/Fruit, 1Negetable dishes lflomato, 0. fnkgetable, 0.7/Fmit,  l/Cabbage, Ilkgetable, = c c ~ u n Y k ( c a ~ ) )  1 CCoUn~k("~bk))X Inkgetable dishes 1mo* 1Meat lMutton, 1Meat  0.7Negetable dishes Dsupport~-b~,,(Cabbage~Meat)  %ount(k(Mcat)) 1 %ount(k(Meat))x Dsupport(Vegetab1eaMeat)  Table 1 Transactions in a supermarket database  The min-support is 30% (2 transactions), the min- confidence is W%, the R-interest is 1.2. It is assumed that the underlying taxonomic structures are f k z y  and as shown in Figure 1. Then, according to formula (1) we have Table 2 for those leaf-nodes and their ancestor's degrees. For instance, in Table 2, flomatoevegetable dishes) = max(min( 1,0.7), min( 1,0.3)) = 0.7.

I Leaf- I The degrees of the ancestors i  Furthermore, according to the formula (3) for the aount values, all the hquent itemsets are listed in Table 3 along with their comsponding Zcount values. Here, by a fkquent itemset we mean the itemset whose degree of support is more than the min-support.

b u n t  values  Tomato  Mutton 2 {Fruit) 2.4  Table 3 Zcount values for frequent itemsets  In Table 3, the Ccount value for the itemset {Vegetable, Meat) is calculated as:  min(0.3, l)+min(l, l)+min(0.3, l)+min(l, l)=2.6 Based on these Ccount values for all the frequent itemsets, the degrees of support for all p i b l e  rules can be computed. Table 4 lists those rules discovered, which satisfy the given thresholds 30"' 60%, 1.2 for the degree of support, the degree of confidence, and the R-interest, respectively. For instance, Dsupport(Vegetab1e dishes Meat) = 3.416 = 57Y' and Dconfdence(Vegetab1e dishes = Meat) = 3.414.4 = 77%. It is worth mentioning that the rule CabbageaMeat is filtered out, though with Dsupport(Cabbage 3 Meat) = U6 = 33% > 30% and Dconfdence(Cabbage 3 Meat) = U2 = 100% > 60%.

Table 2 Leaf-nodes and their ancestor's degrees = 33%     and Dsuppfi(Cabbage-Meat) f Dsup~&(Vegetable Meat) (CabbageaMeat) = 33% f 33% = 1.0 < 1.2, and Dconfidence(Cabbage*Meat) f DCo~ldenCe~~v~~~tabl~ Mat) (CabbageaMeat) = 100% f 100% = 1.0 < 1.2, which means that this rule is regarded redundant with respect to the existing rule "VegetableaMeat" in Table 4.

Table 4 The discovered rules of interest  4. Conclusions  Aimed at dealing with the taxonomic inexactness when mining association rules, this paper has introduced the fkziness in the underlying taxonomic structures and extended the classical algorithm in a way that a transaction may partially support a particular item. This has then led to re-examining the computation for the degree of supmrt and the degree of confidence, as well as for the R-interest measure. An example has been given to illustrate the proposed fuzzy extensions. Further studies are being conducted to consider more general forms of association n&ix, e.g., fuq association rules, and to develop corresponding computational algorithms.

