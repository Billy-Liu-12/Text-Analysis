Association rule for classification of type -2 diabetic patients

Abstract The discovery of knowledge from medical databases  is important in order to make effective medical diagnosis. The  aim of data mining is extract the information from database  and generate clear and understandable description of patterns.

In this study we have introduced a new approach to generate  association rules on numeric data. We propose a modified  equal width binning interval approach to discretizing  continuous valued attributes. The approximate width of the  desired intervals is chosen based on the opinion of medical  expert and is provided as an input parameter to the model.

First we have converted numeric attributes into categorical  form based on above techniques. Apriori algorithm is usually  used for the market basket analysis was used to generate rules  on Pima Indian diabetes data. The data set was taken from  UCI machine learning repository containing total instances 768  and 8 numeric attributes.We discover that the often neglected  pre-processing steps in knowledge discovery are the most  critical elements in determining the success of a data mining  application. Lastly we have generated the association rules  which are useful to identify general associations in the data, to  understand the relationship between the measured fields  whether the patient goes on to develop diabetes or not. We are  presented step-by-step approach to help the health doctors to  explore their data and to understand the discovered rules  better.

Keywords- association rule data mining, classification,  medical diagnosis

I.  INTRODUCTION  In recent times, the number of people suffering from  diabetes is increasing day by day. It is a disease in which  body does not produce insulin or use it properly. This  increase the risks of developing, kidney disease, blindness,  nerve damage, blood vessel damage and contribute to heart    disease [1]. There are two types of diabetes one Type-1 is  also called insulin dependent and type-2 diabetes is with  relative insulin deficiency. Patients with type 2 diabetes do  not require insulin cure to remain alive, although up to 20%  are treated with insulin to control blood glucose levels [2].

To diagnose diabetes disease at an early stage is quite a  challenging task due to complex inter dependence on various  factors. There is a critical need to develop medical diagnostic  decision support systems which can aid medical practitioners  in the diagnostic process.

In medical domain, a number of methods are used to  generate the rule from databases. In [3] authors did the  experiment on three medical data bases and generated the  rules and then compared these rules with predefined rules. In  [4] authors proposed that rule of diagnosing diabetes in such  that away if one person has three of the four symptoms of  type-2 diabetes, namely Blood Pressure 140/90mmHg, HDL  cholesterol<35mg/dl, Central obesity, Triglycerides  150mg/dl, the patients will be  decided as having Metabolic  Syndrome patient. In [5] authors have used association rule  and decision trees to extract knowledge from medical  databases. They proved that results obtained are very  promising. In [6] authors proposed a technique for  generating contrast sets describing the differences between  two groups, where the antecedents contain one categorical  attribute describing group membership and the consequents  contain up to two continuous-valued attributes.  In our  proposed method, we first applied the data pre-processing to  improve the quality of data. Next step is discretize the  continuous values and then converted it categorical values  based on approximate equal interval binning technique and  advice from medical experts. It is essential to obtain the  consistent rules in medical databases to make decision for  medical support system.

The rest of the paper is organized as follows: In Section  II, we briefly discuss the proposed method. We present the  results in Section II. Conclusion and future work is  highlighted in section IV.



II. PROPOSED METHOD  In the first stage of our proposed study, we used  preprocessing in order to handle the missing values. Later we    applied equal interval binning with approximate values based  on medical expert advice to Pima Indian diabetes data. Lastly  we applied apriori association rule algorithm to generate the  rules. We also consider two important measures coverage  and confidence. The framework is shown in Fig.1.

A. Dataset:  The, Pima Indian Diabetes dataset used was obtained  from UCI machine learning repository [7].A study was  conducted on 768 randomly selected Pima Indian female  patients whose age was at least 21. Characteristics of the  patients like number of times of pregnancy and age in years  were recorded. Some other important parameters like plasma  glucose concentration every 2 hours in an oral glucose  tolerance test, diastolic blood pressure (mm Hg), triceps   978-0-7695-3977-5/10 $26.00  2010 IEEE  DOI 10.1109/ICMLC.2010.67   Pima Indian  diabetes data  Data  preprocessing  Approximate  equal binning  based on  Expert advice  Apriori  association  algorithm  Association Rules                                                                        skin fold thickness (mm), 2-Hour serum insulin (mu U/ml),  body mass index (weight in kg/(height in (mm)2), and  diabetes pedigree function which are closely related to  diabetes are also considered given in Table I.

B. Data preprocessing  In real world, data is not always complete and in the case  of the medical data, it is always true. To remove the number  of inconsistencies which are associated with data we use  Data preprocessing. Many data preprocessing techniques are  given in [8] [9]. During this study we removed instances  which had zero values for the attributes  Pregnant, Plasma  Glucose, DiastolicBP and BMI. We also not included two  attributes triceps skin fold thickness & 2-hour serum insulin.

As they represent have 227 zero values and 374 zero values.

In [10] the authors has proved that list wise deletion is an  efficient technique instead of replacing the values with  techniques like mean, mode, random imputation, two  regression imputations, and a Bayesian model-based  procedure. After the pre-processing only 625 instances are  remain out of 768.

TABLE I  FEATUREs IN PIMA INDIAN DIABETES DATA SET    C. Approximate equal binning techniques based on expert  advice.

After the preprocessing only the 625 instances  remain  with  6 attribute age, pregnant, plasma glucose, diastolic BP,  BMI, DPF and age. Classification of general associations  requires categorical data. The data variables are binned in to  small number of categories. We have used approximate  equal interval binning and also taken advice from medical  experts. The following summarizes the cut-off values along  with the names of the bins for the variables:    Pregnant: low (1,2), medium (3,4,5), high (> 6)  PlasmaGlucose: low (< 90), medium (90150),  high (> 150)  Diastolic-BP: normal (< 80), normal-to-high (8090),  high (> 90)  BMI: low (< 25), normal (2530), obese (3035), severely  obese (> 35)  DPF: low (< 0.4), medium (0.40.8), high (> 0.8)  Age: 2039(young), 4059(medium), 60 plus (high)  Class: yes (1), no (0)    By using above said cutoff values all the 625 instances  are converted into the categorical data which is shown in  Table II.

Feature  in data          Description Type  Pregnant A record of the number of times the patient pregnant Numeric  Plasma-  Glucose  Plasma glucose concentration    measured using a two-hour  oral glucose tolerance test  (mm Hg)  Numeric  Diastolic BP Diastolic blood pressure Numeric  Triceps SFT Triceps skin fold thickness (mm) Numeric  SerumInsulin Two-hour serum insulin (mu U/ ml) Numeric  BMI Body mass index(weight Kg/height in (mm)2     Numeric  DPF Diabetes pedigree function Numeric  Age Age of the patient (years) Numeric  Class Diabetes on set within five years Nominal   TABLE II  APPROXIMATE EQUAL BINNING BASED ON  EXPERT ADVISED    S.

No  Preg  nant  Pregnan  (grouped)  Plasma-  Glucose  Plasma-  Glucose  (grouped)  - - -  1 6 high 148 medium - - -  2 1 low 85 low - - -  3 8 high 183 high - - -  4 1 low 89 low - - -  5 5 medium 116 medium - - -  6 3 medium 78 low - - -  7 2 low 197 high - - -  8 10 high 110 medium - - -  9 10 high 168 high - - -  10 1 low 139 medium - - -  11 1 low 189 high - - -  12 5 medium 166 high - - -  - - - - - - - -  - - - - - - - -    - - - - - - - -    D. A ssociation rule mining algorithm  Agarawal et al. proposed the first association mining  algorithm which pointed out that there are hidden  relationships among the purchased items in transactional  databases [11] [12]. For example, there are associations  between items such as bread and milk, which are often  purchased together in a single basket transaction. An  association rule is defined as association between X and Y  is in the form X?Y, where X and Y are both frequent item  sets in the given database. The intersection for X and Y is  empty set. They have used two important measures to find  the association among the transaction items one is support  other is confidence. The support of the rule X? Y is the  percentage of transactions in the given database that contain  both X and Y, P(X U Y).Confidence is defined for  the rule X  ?Y as the percentage of transactions in the given database  containing X that also contains Y.

1. Apriori- algorithm    A first well-designed association rule mining method,  Apriori [11] [12] that describe item sets that satisfy a  minimum support criterion.  These item sets to generate are  used rules that satisfy a minimum confidence criterion. In  this algorithm transactions were executed iteratively in a  level-wise approach. i.e item sets containing one items were  processed first, then item sets with two items were  processed, and the process was repeated, continuously  adding one  item each time, until prescribed  criteria were  met  as explained below.

A number of researchers developed advanced  algorithms [14], [15] [16] [17] [18] but, the original Apriori  is still the most popular one and becomes a standard  function. Apriori is an important association rule mining  algorithm that is incorporated in many data mining software.

Basically association rule works in two steps: (1) generating  item sets that pass a minimum support threshold; and (2)  generating rules that pass a minimum confidence threshold.

It is very difficult to find the right threshold. If low support    may increase rules High support may missing of some  important rule. If support is high then the   confidence will  low vice versa.  WEKA   incorporated in implementation  [13]. The Apriori algorithm is given in [19] as follows in  Table III  TABLE-III  ALGORITHM APRIORI    Algorithm Apriori  //Parameters given by users are UpperMinSupport, Lower  //MinSupport, Delta, Criterion, MinScore, and NumRules  1. Set of association rules = ?

2. N=0  3. Do {  4.          First step  // generate frequent itemsets that  5.           satisfy    minimum support criterion  6.          for k = 1 to NumItems { Find frequent k-itemset,  7.           Sk, that satisfies the condition:  LowerMinSupport ? support(Sk) ? UpperMinSupport  8.         }  9. // second steps: generate rules that satisfy minimum  confidence.

10. for each frequent itemset S {  11. for each subset SS of S {  12. Rule R = SS ? (S  SS)  13. Compute confidence(R) and lift(R)  14. if (Criterion == lift) then score = lift(R)  15. else score = confidence(R)  16. if (score ? MinScore) then {  17. Add R to set of association rules  18. N = N+1  19.         }  20.     }  21. }  22. UpperMinSupport = UpperMinSupport  Delta  23. } until (UpperMinSupport ? LowerMinSupport) or  24. (N == NumRules)  25. Sort set of association rules by Criterion

III. RESULTS  After the converting continuous variable into the  categorical variables we have applied the apriori algorithm  to find the hidden relationship between the variables. All the    rules described here include all the combination and all risk  factors that develop the diabetes within five year or not.

Association rules are nothing different from classification  rules except that does not predict only class labels but also   predict any other attribute. It has freedom to produce a  combination of attributes. Different association rules convey  different regularities that trigger in the data set and generally  predict the different things and so many association rule  generated from even the data set is small. We keep such  rules which are applicable reasonably large number of  instances based on coverage and accuracy criteria. The  coverage of an association rule is the number of instances for  which it predicts correctlythis is often called its support.

Its accuracy often called confidence is the number of  instances that it predicts correctly, expressed as proportion  of all instances to which it applies. The user has to specify  the minimum coverage and accuracy values and look for  only those rules whose values are at least of the specified  minimum value.

The Pima Indian diabetes data set would result in an  enormous number of association rules, which would then  have to be pruned down on the basis of their coverage and  accuracy. Assuming that the minimum specified accuracy is  100%, only the first of these rules will make it into the final  rule set. The algorithm, which is given in Table III is  implemented in WEKA, and will generate those top ten  strongest rules for diabetes= yes which are shown in Table

IV. Where as diabetes is equal = no, given in Table V. For  example rule 1 the coverage is   74 and confidence is 100%.

TABLE-IV  RULE GENERATED BY THE ASSOCIATION  ALGORITHM PATIENTS BELONGS TO CLASS  =YES          TABLE-IV  RULE GENERATED BY THE ASSOCIATION    ALGORITHM PATIENTS BELONGS TO CLASS =NO

IV. CONCLUSIONS AND FUTURE WORK  In this proposed study, we used preprocessing to improve  the quality of data. Next we applied equal interval binning  with approximate values based on medical expert advice to  Pima Indian diabetes data. Than we applied apriori  association rule algorithm to generate the rules. The  generalization of rule may be further improved by considering  the factors which influence the diabetes. But which are not  included in the present study. In this paper we have included  only type-2 diabetic patients those who are pregnant woman  below 21 years.

