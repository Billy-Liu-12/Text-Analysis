The Algorithm of Rough Set-Based Grid Fuzzy Clustering & its Application and

Abstract  The tongue intelligent diagnosis and inference  system of Traditional Chinese Medicine(TCM) was a  complex large-scale system, which data quantity was  extremely huge, specially along with long-distance  networking diagnosis movement, the data quantity  increased dramaticaly. The system requested fast data  search, the fuzzy clustering analysis could solve these  difficult problems. This paper on the research cluster  analysis basic principle and above the algorithm  foundation, utilized one kind of improvement rough  set-based grid fuzzy clustering algorithm in data  mining for tongue diagnosis system of TCM, and made  the grid division first in front of the definition degree of  membership function, and formed a data bunch of  basic shape, and provided the real parameter  information, and participated hereafter degree of  membership function definition. The degree of  membership function surmounted evaluation influence  bunch of shape factor. Algorithm through grid division  acceleration cluster process, has overcome  shortcoming of big time consumption quantity in the  traditional fuzzy clustering algorithm. The application  experimental result indicated, the algorithm that the  paper have studied enhanced the speed, the reliability  and the rate of accuracy in tongue diagnosis system of  TCM, and realized the higher intellectualization, the  digitized request.

1.  Introduction  Tongue Diagnosis(TD) is the serious part of  diagnostics of TCM, it is considered as a  comprehensive conclusion of pathogen, nature,  position and tendency of disease. It is enhanced study's  position of TD, so we should say that enhancing TD is  significant on enhancing the diagnositic level and  enlightening the special feature of TCM. TD of TCM  system is a complex and large-scale system, in which  the data types are various, and the original data can be  structured, such as text, graphics, image data, and even  in the distribution network of heterogeneous data. The  volume of data is extremely large, especially with the  long-distance interconnection diagnosis running, it is  multiplied growth, only the relevant patient  information and data on the symptoms is a very  alarming. The system is required to search data quickly,  using existing database technology is difficult to meet  the requirement, in this case, only relying on the  traditional method of treatment has too many problems  to deal with. Faced with a deluge of data, how quickly  and  accurately search object, which is one of the  research hotspots in information processing technology.

How to analyze and extract information that lies the  deep of data, which is also one of the focus studies in  information processing technology today. This system  is to deal with the deluge of data collected by TD of  TCM survey , it requires to study an intelligent data  search and analysis methods, in order to  search and  extract quickly the rules and information in TD of  TCM reasoning process. This paper studied a method  of grid-based clustering analysis, by the requirements  of the users or the actual operating system, realizing in  mass data extracting useful information high-speedily  and accurately, used computer simulation the search  process in the human brain, realized intelligence for  TD 0f TCM, and explored and engaged in the forefront  issues of the information processing technology.

To aim at TD of TCM data that have the  characteristics of self-described and dynamic  variability, and the large volume of data, we adopt the  grid-based cluster analysis algorithm, dividing the data  space of TD of TCM to limited grid structure. During  the constructing of data model and the diagnosis  inference processing, their object is grid, and provides  a solutions to found the profoundly information of data  distribution at a heterogeneous database environment.

2.  Cluster analysis  2.1. The definition of cluster analysis   DOI 10.1109/FSKD.2008.541     Definition 1: clustering: clustering makes a group  of relevant sets in accordance with some similarity  function or similarity criterion divide into some  categories, in order to make the individual differences  in the same type of category achieve minimum, and  that in the different category achieve maximum. A set  U, U contains n data objects {x1,  x2,??xn}, each data object xi has m attributes ,namely data object can be  expressed as xi= (xi1, xi2,??xim). Clustering is that making a data set U according to certain rules,  according to the similarity between data objects divide  into several (for example: K)clustering:  C1,??CK?and satisfy as following conditions?  1. Ci?0?i=1,?k?  2. Ci?Cj=0, i=1,?k, j=1,?k?i?j?  3. U k  i  kC 1=  =S  Definition 2:A cluster is a set of data objects which  are ?similar? between them and are ?dissimilar? to the  objects belonging to other clusters.

Definition 3: Clustering analysis: It is that divided a  given set of data objects into different clusters, namely  in the space X  given a limited sampling point set or  from the database acquired a limited sample set:  {xi} n  i 1= .The goal of clustering is that gathering data  into categories, in order to make the similarity between  individual in the same type of category achieve  minimum, and that in the different category achieve  maximize.

2.2. Algorithm of grid-based fuzzy clustering  The method of grid-based measured the target  space a limited number of units, and formed a girded  structure, in which all clustering operations are  processed. The main advantage of this method is its  speed quickly, the processing time is independent of  the number of data objects, and only relate to the  number of units in each dimension of measure space.

The method of grid-based clustering separates the  data space into basic girded units which formed the  basis of a data cluster, and through the judgment of  threshold value decide whether to merge the  neighboring grid and further polymerize data cluster.

By analyzing , integrate the thinking of rough set  and fuzzy clustering on the operation of dividing grid,  and first divide the data sets into grids, form the basic  cluster formation; Integrating the parameter  information provided by the process of division  give  the simplified expression of the membership function  to accurately reflect the distribution characteristics.

The algorithm has a ability to learn again, when  receiving new data at the end of training, at first cluster  according as the  membership function, and then  update the characteristics parameters of the relevant  clusters  in order to describe the environment on the  distribution of new data , and not like other clustering  methods as re-implement the original algorithm once  again . The major steps on the processes of algorithm  are shown in Figure 1:           Figure 1.  The flowchart on the algorithm of grid-based  fuzzy clustering  3. Data mining system in TD of TCM  3.1. The principle of tongue diagnosis system   The main symptoms of every illness are various.

There are many factors led to these include the mental  emotional, environments, social factors, such as  differences in physical condition, and generally they  are latent. Therefore, in order to accurately diagnosis  illness state, a variety of possible symptoms must be  considered comprehensively and dialectically.

Each clinical symptom(including physical  characteristics)has a dialectical sense. Each of the  symptoms for the diagnosis sense of the syndrome is  not a simple one-to-one relationship, but a symptom  has different diagnostic value to a variety of syndromes,  the diagnosis of each syndrome often requires a variety  of clinical manifestations (symptoms) can make a  diagnosis. Therefore, we should understand the  dialectical meaning of various common symptoms.

Solve two problems: ?What are the symptoms for  some syndromes? performance?  ?Each symptom of the syndrome, how much is the contribution (or  confidence) number? And give a quantitative  description.

Differentiation is mainly to identify the location of  disease and pathogenesis at this stage, and its specific  content is called as dialectic elements. The location of  disease mainly includes heart, brain, lung, spleen, liver,  kidney, stomach, gall, small intestine, large intestine,  bladder, uterus, sperm room and so on. The  pathogenesis mainly includes wind, cold, wet, dry, fire  [thermal], sputum, breath stagnation, blood stasis,  deficiency of vital energy, blood deficiency, Yin  deficiency, Yang deficiency and body fluid deficiency  and so on. The more common and more normative  clinical disease name generally is composed of the  Finishing mesh parameters  Given all the data cluster membership function  relearning after clustering  Data preparation  Four sub-grid  Merger adjacent dense grid  Improve shape of clusters     different elements of disease? location and  pathogenesis , add certain pathology and conjunctions.

What all elements of the diagnosis in system was  confirmed, is 100 as a universal value, that means it  can be diagnosed as the dialectical elements, when the  sum contribution that symptoms for elements of  dialectical  reaches or exceeds 100. However, the  state of symptoms may be a little or more, a light or  heavy, so it should be followed by diagnostic threshold  for lifting conditioning. The threshold can be lower for  light conditions and as state-symptom illness, when  heavy or complex increased diagnostic threshold.

What each symptoms of condition is light or heavy,  the results of diagnosis are differences. In generally,  the moderate is view as standard. If the symptom is  serious, its quantitative value can be multiplied by 1.5,  while the symptoms is light, and it can only multiply  0.7.

In clinical application, at first, the symptoms of  patients are accumulative sum respectively (including  minus the negative value)according to the tip of  dialectical factors, then take the item that their  threshold value are more than 100,(or higher project)  as dialectical diagnosis. Finally, linking and combining  them what reach the diagnosis threshold of projects,  and completing the diagnosis of the disease. In our  system, we are programming, debugging, and  implementing in the environment of VC++ 6.0.

3.2. The implementation process of diagnosis  module   (1) Start;  (2) Extract the weighted sum of the problem, obtain  primary and secondary symptoms  (3) characterized the vector of symptoms ;  (4) neural network learning reasoning;  (5) gain the most likely syndrome;  (6) whether credible? If credible, show the  diagnostic results, and the algorithm end;  (7) If it's not, call the algorithm of grid-based fuzzy  clustering or inquire doctor;  (8) get the hidden symptoms or similar symptoms;  (9) go to (4).

3.3. The algorithm describe   Questionnaire of tongue diagnosis clinical cases  roots in the hospital outpatient data in the case,  including the Age, Nationality, Gerder, Marriage,  Occupation, Weight, Height, Fei, Pi, Gan, Shen, Tou,  Dan, chang, Wei, ferver, cough, and many other fields,  but some of the fields do not have great impact on the  diagnosis, such as Name, Occupation, Weight, Height,  and so on, therefore, in clustering analysis get rid of  them, and see other fields as the dimension of  clustering analysis.

When data processing, the parameters of the  disease are: if it gets this disease, the item is one, no  such disease, it is zero. If the patient gets headache  (faint), no stomach pain, the data of headache is one,  and that of stomach is 0.

For the dimension of age use the original data in  the standardization of minimum to maximum to do  linear transformation. Referring to the existing data:  the min value is 0, the max value is 120, standardize all  ages in the span [0.0,1.0]. For example: the age of min  is 0, the max value is 120, will be standardized 60 to  [0.0,1.0]: 0)0.00.1(  ' +?  ?  ? =v =0.5. Actually  using this formula can be directly used the age to  divide 120, that is the data after conversion. After  finishing the patient record form as Table 1:  Table 1  results characterized the vector of symptoms  Divide the data grid into four part by the following  algorithm: //Parameters  //the value of the grid center?s  X  Coordinate  //the value of the grid center?s  Y  Coordinate  //the depth of grid  // the size of grid( it can be calculated by Depth)  // Divide the data grid into four part recursive  {  quartering(nXCenter-nSize/2,nZCenter-nSize/2,nSize/2,d  epth+1);  quartering(nXCenter+nSize/2,nZCenter-nSize/2,nSize/2,  depth+1); quartering  (nXCenter+nSize/2,nZCenter+nSize/2,nSize/2, depth +1);  quartering (nXCenter-nSize/2,nZCenter+nSize/2,nSize/2,  depth +1);  } This process divide the data space into four part  grid, and the process end when the grid is blank, and  the counting in the grid is change to 0. (do the count by  the count() function). If the  division  go to the end,  computing the value of the grid centre:  Ak= )( k  GX i  Gd  X ki  ? ?                   (Formula 3-1?  Xi means data vector, Ak means the  abstract center  of the grid, what the expressions computing is the  average of the attribute of the dimension.

?The data center? that have bean receive may be is  virtual data element group.

Then computing the radius of the data distribution  in the grid.

name gend age ferver cough tou wei ?  N1 0 0.32 0 1 1 0  N2 1 0.25 1 1 1 0  N3 0 0.1 0 0 0 1  ? ? ? ? ? ? ?     Rk=max{ Xi-Ak 2}  (Xi G? k)   ?Formula 3-2?  And then  establish adjacent table for each  thickness grid, records  all its adjacent grid, and used  markers  to  mark the  dense grid  for use  after.

Computing  the distance of the two grid center:  dij(2)= ? =  ?  p  k  jkik xx  2||        ?Formula 3-3?  Judge  whether  the two grid  are the  dense  grids is base in take  Ai-Aj 2??cen   and  [d(Gi)-d(Gj)] ??den?in here ?cen=Ri-Rj??0.75?  ?den =min{ d(Gi)?d(Gj)}?0.2: If the conditions are met dense grid, then merge  the  two densely  populated block,  After the merger, computing the center Ak  and the  radius Rk of the new densely populated block.

Ak=  )()(  )()(  ji  jjii  GdGd  GdAGdA  +  +     ?Formula 3-4?  Rk=max{Ri?Rj}+  |||| 2ji AA ?      ?Formula 3-5?  Record the new value of the Ak and Rk. Its  algorithm processes are as follows:  ? Start;  ? Read the value of Ak,Rk,D(Gk);  ?If Ai-Aj 2??cen and [d(Gi)-d(Gj)] ??den   ,then  Merger them, and then computing the value of the new  Ak, Rk. D (Gk);  ? Record the value of new Ak,Rk ,D(Gk)?  ? End .

Determine whether it is necessary to improve the  form clusters by use of computing the distance  between some  data point  Xi and the center Ak of  densely populated blocks.

Xi-Ak 2??dis ??dis= )(  8.0  k  k  Gd  R ?If the requirements  are met, absorbing this point, and every point Xi  absorption by adding a dense grid currently, adjust  the statistical information of the grid in time. The  formula for computing the new centre and the radius  are as follows  Ak= 1)(  )(  +  +  k  ikk  Gd  XAGd           ?Formula 3-6?  Rk=max{Rk? Xi-Ak 2}     ?Formula 3-7?  Its algorithm processes are as follows:  ? Start;  ? Read in xi,Ak,Rk,D(Gk)?  ? If Xi-Ak 2? ?dis,  then  Merger them,  and  then computing the value of the new Ak, Rk, D (Gk);  ? Record the value of new Ak,Rk ,D(Gk)?  ? End .

Considering the close distance and the location of  point,also the shape and size of cluster data and other  factors,  Calculations, if Dj<=Rj? set the value by  ?1=0.5?1?1?RjDj??1?1?RjDj? ?1  if Rj<Dj<=2R?set the value by  ?2=0.5?[1?(Dj?Rj)?2Rj]?  if Dj>2Rj?set the value by  ?3=0.5?[1?exp(Dj?Rj)]? Each receives a new data, it is necessary to  calculate it in the membership function mapping the  value of membership, and in accordance with its ?  attribution determine the cluster?s ownership. If  membership values exceeds a given threshold ?, is that  the data belongs to the corresponding cluster, at the  same time to amend the statistical information of the  cluster.

When the point of all membership values have not  achieved ?, record it into the grid information table, as  isolated existence. Timing scanning the grid  information table, found a spot on the grid cluster  concentration more than the minimum concentration  requirements, we generate a new cluster, the cluster  record in the table, registration relevant statistical  information. Its algorithm processes are as follows:  ? Read in xj,Ak,Rk,D(Gk); ? Computing the distance Dj between  xj  and  Clustering centre;  ? If  Dj<=Rj?then computing the value of ? 1?  goto  ?; ? If Dj>Rj  and Dj<=2Rj?then computing the  value of ? 2  goto  ?;  ? Computing the value of ? 3;  ? If ?>? ? then computing the value of Ak,Rk,D(Gk);  ? Record them into  grid information table, in isolation, or as a new cluster;  ?The end.

4.  Test results and analysis  According to the Guangzhou University of  Traditional Chinese Medicine Research Group to  provide the clinical cases, the paper "of the lung card  category" of simulation experiments using Visual C +  +  6.0 as a development platform, and to establish the  network diagnosis model.

Choose six of a total of 180 cases of card sample  data for clinical samples. Each sample consisted of  chest pain, chest tightness, cough, Tan Zhi, sputum less  Jiubuyushi, long have asthma or shortness of breath  and other symptoms of information 33. Sample data     permit classification as follows: 26 cases of lung cold  beam, the cold drink in 30 cases, table 34 cases of cold,  heat, heat Obstructing evil pulmonary 30 cases, 28  cases of lung phlegm Yun, 32 cases of lung Tanreqing  Yu.

For six cards each for 10 cases of data as a training  sample of 120 patients with final data for testing.

First data on 180 cases of normalized data  processing, the value of all the data transformation  between [0,1].

60 cases of training samples were divided into 28  groups, produce  28 cluster centers, including the  threshold ? = 0.3. It means that the hidden nodes  desirable 28.

Requirements for the experimental results were  divided into six categories, set six output nodes. Output  (1,0,0,0,0,0), (0,1,0,0,0,0), (0,0,1,0,0,0), (0,0,0, 1,0,0),  (0,0,0,0,1,0), (0,0,0,0,0,1) were identified that section  1,2,3,4,5, Category 6, so  the construction of network  structure is 33-28-6.

Procedures use the follow rule for the output of the  network: the output node with 6 dimension choose its  maximum value, and then set 1 to it, the other five  output set value to 0. Error use 2   ,   N  k  k  E e =  = ? N is the  number of samples. the program settings  when error  or the number of training are  more than 10,000 ,end  the training, that is the end of the proceedings.

Experimental operating results  as shown in table  2. When the training times reach to 3935, errors E = 0,  procedural convergence. verified  120 samples , and  the recognition rate was 92% and operating time for  two seconds.

From the results  ,after the clustering algorithm  embed into the model, it can effectively search for the  importation sample data.  The clustering algorithm  can quickly cluster data for the high-dimension and big  date. Therefore, the clustering algorithm  has a fast  convergence, and a stronger ability to identify, also a  stronger generalization ability, and other characteristics.

It has  achieved the desired objectives.

Table 2   "Asthma" dialectical test results  Annotations: TN is the number of training  samples ?  TT is training times?HNN is the number of hidden nodes ?  Cer is convergence error ?TSN is the number of testing  samples?RR is recognition rate ; RT is running time(second).

5.  Conclusion  This paper mainly aimed at the characteristics that  the data type of tongue diagnosis system of TCM is  diverse and the data volume is extremely huge, and  applied the algorithm integration with  the process of  grid clustering and the thought of rough set. An  improvement of grid-based on fuzzy clustering  algorithm was used in the data mining of the tongue  diagnosis of TCM. This fuzzy clustering algorithm  through acceleration the process of clustering tolerated  the noise data, so it  overcame shortcomings of  expensive time-consuming in the traditional fuzzy  clustering algorithm.The clustering mechanisms of  combination of software and hardware were to  overcome their own insufficient, making the process of  enhancing the clustering accuracy and flexibility. The  algorithm was used in the tongue diagnosis system of  TCM so that the reasoning of the learning process  could quickly and accurately obtain useful information,  timely search the database of experience diagnosis.

The algorithm was easy to adapt to different issues and  environmental requirements, and improved the  diagnostic accuracy rate and speed.

