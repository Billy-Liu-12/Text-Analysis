Research on the Improved Frequent Predicate  Algorithm in the Data Mining of Criminal Cases

Abstract - In order to find out the common features and general patterns in criminal cases, a new improved frequent predicate algorithm was proposed, with which multi-dimension association rules were drawn according to the minimum support and minimum confidence. This new algorithm was applied in the data mining model of criminal cases of Dalian Municipal Public Security Bureau.

Index Terms - data mining, multi-dimensional association rules, improved Aprior algorithm, criminal cases

I. INTRODUCTION  As everybody knows, preventing and investigating crimes constitute an important part of the municipal public security system. How to make full use of the information relating cases in the past is a key issue. Therefore data mining of criminal cases is very important in order to find out the common features and the general patterns of these cases so as to provide information support for the decision makers and investigators of the present cases.

Association analysis is a very important model in data mining, from which association rules can be figured out. These association rules show common attributes----conditions for the repeated occurrence of items within given data. If we can make use of the association analysis to find the association rules in criminal cases, for example under what conditions certain kinds of crimes tend to occur, we can provide effective information for the investigators. With this information support, the police can prevent the crimes from happening and after the crimes take place they will be able to solve the cases sooner and more easily. Some work has been done with the association analysis regarding the same person?s committing different crimes [1], but this belongs to the single-dimensional analysis. In reality, the criminal cases database is more often than not an association database, which requires many predicates in order to get the association rules. This makes the criminal cases database multi-dimensional and multi-layered.

Thus we have to establish multi-dimensional association rules in order to track down the common features and general patterns of the criminal crimes.

This paper has proposed an improved Aprior algorithm aimed at multi-dimensional association. This algorithm can help locate the frequent predicate sets, draw up the strong association rules and finally help track down the features and patterns of criminal cases. The feasibility of this model has  been tested with the genuine data provided by Dalian Municipal Public Security Bureau. Detailed analysis has been carried out on the results derived.



II. ASSOCIATION RULES  Association rules are often used in the mining of the interesting association between the terms within the given data sets. The description of the basic questions in the association rules goes like this [2]: to set I={i1,i2,?,im} as the set of all items. T(transaction) is defined to be the set of items, and in T? I, D is defined as the set of T(transaction). X is set to be the set for many items within I, thus if X?T, we can assume that T(transaction) includes X. The number of the items in the sets becomes the length of the sets. Association rules are implications like X?Y, with X?I?Y?I, and ???= ?. The support of formula X?Y in D transaction database is the ratio between all the transaction numbers with X and Y to all the transaction numbers, which goes like support(X?Y), i.e.

support(X?Y) =|{T:X Y?T,T?D}|/|D|.  In formula X?Y , the confidence in the transaction set is the  ratio between transaction numbers with X and Y to the transaction numbers with  X, which goes like confidence(X?Y), i.e. confidence (X?Y)=|{ {T:X Y?T,T?D }|/|{T:X?T,T?D}|. With a given D transaction set, the mining of association rules means finding out the association rules within which both the support and confidence are greater than the customer provided min-support  and min-confidence.

There are two steps in the association rules mining [3]:  A. Finding all the Frequent Item sets: according to our definition, the frequency of these sets should be the same as the min-support numbers at least.

B. Forming the strong association rules from the Frequent Item sets: according to our definition, these rules must satisfy the min-support and min-confidence.



III. AN IMPROVED FREQUENT PREDICATES ALGORITHM  The traditional Apriori algorithm [6-7] makes use of  the iterative method called layer-by-layer search. This method is to look for the Frequent Item set (K+1) with the use of K Frequent Item set (within the set there are K items and the frequency of this K items is greater than the given ratio). First find the set of Frequent Item set 1, which is named L1. L1will be used for the location of L2, and L2 will be for L3. The process will go on until we reach the end where we cannot find   Proceedings of the 2008 IEEE  June 20 -23, 2008, Zhangjiajie, China    LK, i.e. K Frequent Item set. Every search for LK will need a scan of the transaction tables.

A. The improved Apriori  algorithm for use in the criminal cases  In accord with the characteristics of the data of criminal cases, the improved Apriori algorithm has the following basic ideas:  The traditional model like a shopping basket has only one predicate ?shopping?, and this can be called a single dimension model. If more predicates appear, such as the crime types, crime motifs, crime means etc, this will concern multiple dimensions. We can easily equal dimensions with predicates.

If we want to do a three-dimensional analysis, we should look for three predicates which have frequent co-existences in the same model, each of which should have its own value. All the sets of different predicates can be regarded as the original Boolean Set. In this way the original search for frequent item set will be changed to the search for frequent predicate sets.

The original scanning for the number of items will be changed to the scanning of data cube for number of predicates.

Based on the above idea, the improved algorithm can be illustrated as follows:  Algorithm: multi-dimensional frequent predicate set algorithm (Apriori in data cube)  Input: n-dimensional data Cube (d1,..., dn ?  count), min-support  Output: frequent predicate set Formula:  (1) L:??; L1:=?; (2) Each member of Dimension di(i=1,...,n) constituting  candidate 1-perdicate set called C1; (3) Forming frequent 1-predicate set L1=GenFrequent(C1) (4) L=L L1; (5) For?k=2;k++;k<=n?  { 1)Candidate k-predicate set Ck=GenCandidate(Lk-1) formed from frequent predicate set (k-1)- 2)Lk=GenFrequent(Ck) formed from candidate k-predicate set 3) L=L Lk }  (6) Output L Function GenFrequent(Ck) refers to the formation of  frequent predicate k-set from the candidate k-predicate set. The process is:  (1) Lk?? (2) For (Within the candidate k-predicate set, each one  l=(i1,...,ik)). Here ik refers to the member before k dimension.) {  1) supcount=n, in the dimensional cube (i1,...,ik, Sum,..., Sum) matches the count in the check. Those not included in the candidate k-predicate set are substituted with Sum)  2) support=supcount/totalcount 3) IF support?minsup THEN  Lk= Lk?l  } (3) Output LK  Function GenCandidate(Lk-1) refers to the formation of candidate k-predicate set Ck from frequent (k-1) predicate set.

The process goes:  (1) Ck?? (2) For ?any two frequent predicate sets l1and l2 within  Lk-1 ? {  1) IF (There are k-2 same items between l1 and l2) and (item k-1 is  the dimension member from different dimensions) THEN// terms for joining ?c= l1?l2// join ?IF all subsets in C belong to Lk-1 THEN  Ck= Ck ? c  2) ELSE Delete c //Pruning }  (3) Output Ck B. Producing strong association rules  It is easy to form strong association rules after we find frequent predicate sets from the data cube. The reason is that to form strong association rules we must satisfy the minimum support and minimum confidence. Since the frequent predicate set already satisfies the minimum support, so what is needed now is to see its confidence. Confidence can be explained with the following formula, in which the conditional probability is expressed with the holding count of the predicate set:  Confidence(A?B) =P(A|B) =Support_count(A?B)/Support_count(A) In this formula, Support_count (A?B) is the transact count  with item set A?B, while Support_count(A) is the transact count with item set A. According to this formula, the association rules can be produced like: for each frequent item set 1, all nonempty subsets will be produced. For every nonempty subset s in 1, if Support_count(l)/Support_count(s)?min_conf, then we get the output rule as ?s?(l-s)??Here minimum confidence is the mini-confidence.



IV. THE APPLICATION OF THE IMPROVED APRIORI ALGORITHM TO THE DATA MINING IN CRIMINAL CASES  A detailed description of the multi-dimensional rules model setting up process will be provided as TABLE I.

A. Data cleaning  10 items are selected from the sample data and it is set as complete without any need for further cleaning. In the above list we only need crime time, so we delete year, month and date.

B. Concept hierarchy [4]  Through sample data analysis, the types of crimes are set as classify attributes with murder, theft, robbery, rape; the crime areas are also set as classify attributes with area 1, 2, 3, 4, 5.

Crime time is set as schema hierarchy with year, month , date     and  hour is set as concept hierarchy. For the sake of convenience, only hour level is chosen for study.

C. Producing data cube [5]  From the sample data, crime type, crime time and crime area are chosen as the three dimensions for our data cube. Based on our concept hierarchy, a data cube can be produced as Fig.1:  D. Producing frequent predicate set  With the sample data, we will explain how we can find frequent predicate set with the multi-dimensional frequent predicate set algorithm.

Sample data set: (Suppose the min-support holding count is 2), show as Fig.2 T001{C1,T6,A1} T002{C2,T4,A3} T003{C3,T6,A3} T004{C1,T6,A1} T005{C3,T6,A5}  T006{C2,T4,A3} T007{C4,T4,A4} T008{C2,T5,A5} T009{C1,T6,A1} T010{C2,T6,A5}  ??????  Murder  00-20  00-4  00-8  00-12  00-16  00-24  Rape Sum  Sum  ????    One   two   three   four  five  sum  Figure.1 Data cube.

C1  L1    Predicate set Support count {C1} 3 {C2} 4 {C3} 2 {C4} 1 {T1} 0 {T2} 0 {T3} 0 {T4} 3 {T5} 1 {T6} 6 {A1} 3 {A2} 0 {A3} 3 {A4} 1 {A5} 3  Predicate set Support count {C1} 3  {C2} 4  {C3} 2 {T4} 3  {T6} 6 {A1} 3  {A3} 3 {A5} 3  scanning the  data cube and  finding every  candidate count  comparing  candidate support  count and minsup  count     TABLE I SAMPLE CRIMINAL CASE DATA  Case ID Types (C) Time (T) Area (A) Education (E) Status (S) Family (F) T001 Murder 1997-8-5 22 55 Area 1 Primary lower Poor  T002 Theft 2000-6-9 14 10 Area 3 Junior high Middle lower Average T003 Robbery 1998-5-6 19 55 Area 3 Senior high Middle lower Average T004 Murder 2002-2-2 23 55 Area 1 Junior high lower Poor T005 Robbery 1999-2-8 22 45 Area 5 Senior high Middle Average T006 Theft 2004-12-31 12 05 Area 3 Primary Middle lower Average T007 Rape 2001-7-9 15 36 Area 4 Senior high lower Poor T008 Theft 1999-3-4 17 33 Area 5 Senior high Middle Average T009 Murder 2003-3-29 22 19 Area 1 Junior high Lower Poor T010 Theft 2005-5-8 23 35 Area 5 Senior high Middle Average     C2 C2  L2  Predicate set  {C1,T4} {C1,T6} {C1,A1} {C1,A3} {C1,A5} {C2,T4} {C2,T6} {C2,A1} {C2,A3} {C2,A5} {C3,T4} {C3,T6} {C3,A1} {C3,A3} {C3,A5} {T4,A1} {T4,A3} {T4,A5} {T6,A1} {T6,A3} {T6,A5}  Predicate set Support count  {C1,T4} 0 {C1,T6} 3 {C1,A1} 3 {C1,A3} 0 {C1,A5} 0 {C2,T4} 2 {C2,T6} 1 {C2,A1} 0 {C2,A3} 2 {C2,A5} 2 {C3,T4} 0 {C3,T6} 2 {C3,A1} 0 {C3,A3} 1 {C3,A5} 1 {T4,A1} 0 {T4,A3} 2 {T4,A5} 0 {T6,A1} 3 {T6,A3} 1 {T6,A5} 2  Predicate  set  Support count  {C1,T6} 3 {C1,A1} 3 {C2,T4} 2 {C2,A3} 2 {C2,A5} 2 {C3,T6} 2 {T4,A3} 2 {T6,A1} 3 {T6,A5} 2  drawing candidate C2 from L1  scanning the data cube and finding every candidate count  comparing candidate support count and minsup count    Figure.2 Frequent predicate set   E. Producing criminal cases association rules from frequent predicate sets  Based on the method of producing strong association rules from the above model, we?ll examine how to draw strong association rules from the sample data. The process goes like:  From the above frequent predicate sets l1={C1,T6,A1}, l2={C2,T4,A3}. l1 has {C1,T6}{C1,A1}{T6,A1}{C1}{T6} {A1}as the nonempty subsets while l2 has {C2,T4}{C2,A3} {T4,A3}{C2}{T4}{A3} as the nonempty subsets. We only need to find the crime time, crime area to induce the association rules for crime types, so we can draw the following association rules with some subsets with support listed for each:  T6 A1? C1           confidence=3/3=100% T4 A3? C2           confidence=2/2=100%  If the threshold of min-support is 70%, these two rules can be the output and both are strong association rules.

F. Evaluation of the results  From the strong association rules drawn from the sample data, we can get:  {20:00?24:00?Area 1 ? murder ?Support=20%,confidence=70%?}  {12:00??16:00?Area 3 ? theft ?Support=20%,confidence=70%?}  Conclusion: There are more murders in Area 1 between 20:00-24:00, while Area 3 has more thefts during 12:00-16:00.

Closer attention should be put to these two areas.



V. THE APPLICATION AND CONCLUSION  Based on statistics provided by a branch from Dalian Municipal Public Security Bureau, we draw 18629 records from 1999 to 2006. With the association analysis model set up here, we choose types, means, area, and motif as four dimensions to do our association analysis setting min-support=1%, min-cofidence=70%. The result shows:  Frequent predicate sets: ? Burglary, coming through the window, into residential  houses, for money and  property ( support 232) ? Burglary, treading out the path, into residential houses,  for money and property (support 206) ? Burglary, choosing the target, into residential houses, for  money and property (support 205) Strong association rules:  ? Burglary cases, for money and property, treading out the path (283)?residential houses cof=71%  ? Burglary cases, for money and property, choosing the target (264)? residential houses cof=75%  ? Burglary cases, residential houses, choosing the target (225)? for money and property cof=89%     ? Burglary cases, residential houses, coming through the windows (235)? for money and property cof=85%  ? Burglary cases, residential houses, treading out the path (260)? for money and property cof=77%  From the above we can find out that  71% burglaries with the motif of getting some money and property by means of treading the path in advance will take place in residential houses, that 75% burglaries with the same motif by means of choosing the target will take place in residential houses, that for burglaries which take place in residential houses with the means of choosing the target first  89% of the criminals have the motif of getting some money and property, that for burglaries which take place in residential houses with the means of getting through the windows 85% of the criminals have the motif of getting some money and property and that for burglaries which take place in residential houses with the means of treading the path first, 77% of the criminals bear the motif of getting some money and property.

If we find out in what months certain kinds of crimes happen and what their motifs are and what areas the criminals usually choose, this can greatly help the policemen break the cases.

For this reason we choose the dimension of time. The results go like this:  Frequent predicate sets: burglaries, residential houses, choosing the target, the 2nd season  Strong association rules: burglaries, residential houses, the 2nd season? choosing the target cof=94%  Because there is the time element, we can find the patterns and common features of these crimes by use of frequent predicate sets including burglaries, residential houses, choosing the target, the 2nd season. These elements always appear at the same time. That is to say that in a certain area like Ganjingzi District of Dalian City, there are often burglaries in residential houses in the 2nd season every year by means of the criminals? choosing the target first. The confidence for this strong association rules stands as high as 94%, which proves the reliability of the algorithm.

CONCLUSION  Tested with genuine statistics from local branches of Dalian Municipal Public Security Bureau, the improved algorithm based on Aprior proves feasible and reliable. We believe this will help the improvement of the data mining and information processing in the public security work.

