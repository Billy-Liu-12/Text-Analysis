An Approach to the Risk Analysis of Diabetes Mellitus Type 2 in a Health Care Provider Entity of Colombia Using

ABSTRACT Business intelligence provides organizations with the abil-  ity to maintain a competitive advantage in the market. This property can be used in wide fields such as health care where lower costs and early prevention of patients are the main goals. This article develops an approach to the use of busi- ness intelligence to achieve a centralized clinical data and apply data mining, particularly the use of association rules.

All this in order to find risk factors associated with diabetes mellitus type 2 (DM2) and the way healthcare providers per- form the management of this disease. The experiment was conducted using a database of patients with DM2 treated by a health care provider entity in Colombia.

Keywords Business Intelligence, risk analysis, diabetes mellitus type  2, data mining, association rules  ABSTRACT La inteligencia de negocios brinda a las organizaciones la  posibilidad de mantener una ventaja competitiva en el mer- cado. Esta propiedad puede ser utilizada en amplia medida en campos como el cuidado de la salud, siendo la disminucio?n de costos y prevencio?n oportuna de pacientes las principales metas. En este art??culo se desarrolla una aproximacio?n al uso de la inteligencia de negocios para lograr una central- izacio?n de datos cl??nicos, acompan?ada del uso de te?cnicas de mineria de datos, particularmente las reglas de asociacio?n, con el objetivo de descubrir factores de riesgo relacionados con la Diabetes Mellitus Tipo 2 (DM2) y la forma en la que se realiza el manejo de esta enfermedad. La experimentacio?n se realizo? utilizando una base de datos de pacientes de DM2 tratados por una entidad prestadora de salud en Colombia.

Permission to make digital or hard copies of all or part of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or commercial advantage and that copies bear this notice and the full citation on the first page. To copy otherwise, to republish, to post on servers or to redistribute to lists, requires prior specific permission and/or a fee.

EATIS 2012, Valencia, Espa?a Copyright 2012 ACM 978-1-4503-1012-3 ...$10.00.

Keywords Inteligencia de Negocios, ana?lisis de riesgo, diabetes mel-  litus tipo 2, miner??a de datos, reglas de asociacio?n  1. INTRODUCCI?N Hoy en d??a, las organizaciones, incluyendo las del cuidado  de la salud, esta?n adoptando el uso de la inteligencia de negocios para proporcionarles una ventaja competitiva en el mercado y as?? tener un mejor control sobre sus recursos y decisiones[15]. Esto para sacarle un mejor provecho a sus datos operacionales e implementar mejoras en sus negocios.

Para 1998 la implementacio?n de un sistema de inteligen- cia de negocios mov??a 15 mil millones de dolares, creciendo de 10 % al 15 % anual, con un estimado de que el 95 % de las 1000 empresas americanas ma?s grandes y diferentes go- biernos la usan para dar sentido a los grandes volu?menes de datos[6]. Para las organizaciones dedicadas al cuidado de la salud es primordial el tema de prevencio?n e intervencio?n oportuna de enfermedades, es por esto que toma importan- cia la identificacio?n de factores de riesgo para poder hacer seguimiento sobre poblaciones expuestas. Gracias a que u?lti- mamente esta informacio?n se encuentra disponible en bases de datos me?dicas, es posible aplicar te?cnicas de ana?lisis sobre ellas de una manera mucho ma?s fa?cil haciendo uso de tec- nolog??as de bases de datos, estad??stica y miner??a de datos.

Este art??culo desarrolla una aproximacio?n al uso de la in- teligencia de negocios sobre datos cl??nicos. A partir de la cen- tralizacio?n de dicha informacio?n se pueden realizar ana?lisis de miner??a de datos para encontrar factores de riesgo para una enfermedad de alto costo en Colombia como la Diabetes Mellitus tipo 2. As?? mismo, mediante el ana?lisis de reglas de asociacio?n tambie?n es posible hacer seguimiento a pobla- ciones y a la forma como las entidades prestadoras de salud realizan el manejo de esta enfermedad.

En el presente art??culo, la seccio?n 2 describe porque? es importante el uso de la inteligencia de negocios y la miner??a de datos en el ana?lisis de riesgo de enfermedades como la Di- abetes Mellitus 2 (DM2). La seccio?n 3 recopila los trabajos ma?s representativos de estas dos a?reas enfocados a temas de salud. La seccio?n 4 describe la naturaleza de los datos cl??nicos de una Entidad Prestadora de Salud en Colombia sobre los cuales se aplicara? el proceso de inteligencia de ne- gocios. La seccio?n 5 presenta las generalidades del modelo    de bodega de datos cl??nicos propuesto que centralice toda la informacio?n de la que disponen dichas entidades. Final- mente, en la seccio?n 6 se muestra un primer avance de los resultados en el ana?lisis de los datos cl??nicos haciendo uso miner??a de datos, espec??ficamente reglas de asociacio?n.

2. MOTIVACI?N La diabetes mellitus tipo 2 (DM2) es una enfermedad  cro?nica caracterizada por una hiperglucemia y trastornos en el metabolismo de las grasas, hidratos de carbono y pro- te??nas de forma tal que genera defectos en la produccio?n y accio?n de la insulina en el cuerpo. Esta enfermedad pre- senta complicaciones cro?nicas que deterioran la calidad de vida de los pacientes y aumentan significativamente el riesgo de muerte[5]. Los pacientes de diabetes utilizan con mucha ma?s frecuencia servicios especializados como odontolog??a, optometr??a y nutricionistas. Adicionalmente el costo deriva- do del tratamiento de la diabetes supone casi el doble de un paciente no diabe?tico y adema?s consumen entre 2 y 6 veces ma?s recursos que los pacientes de edad y sexo similares con otras enfermedades cro?nicas[1].

En Colombia no existen muchos estudios que permitan conocer el comportamiento real de la enfermedad as?? como tampoco el del manejo de los factores de riesgo asociados a ella. Sin embargo, [18] provee datos de prevalencias de la enfermedad y sen?ala el aumento de los factores de riesgo asociados a ella. No obstante, se puede evidenciar una pre- ocupacio?n nacional la cual se ve reflejada en el Plan Nacional de Saludo 2007-2010 en el cual se propone la disminucio?n de enfermedades cro?nicas como la DM2 mediante el diagno?sti- co temprano, la prevencio?n y el control, as?? como la identi- ficacio?n de la poblacio?n en riesgo de desarrollar enfermedad renal cro?nica[4].

La correcta identificacio?n de factores de riesgo asociados a una enfermedad cro?nica en Colombia como lo es la Dia- betes Mellitus 2, puede ayudar a su oportuna prevencio?n.

Mediante la creacio?n de niveles de riesgo usando estos fac- tores, las Entidades de Salud pueden saber que? poblacio?n requiere planes espec??ficos de prevencio?n. Tambie?n al tener un control sobre la poblacio?n sana, es posible disminuir la incidencia de la enfermedad y por ende se reducir??an tam- bie?n los costos derivados del tratamiento de la enfermedad.

Actualmente, en Colombia se trabaja con la aplicacio?n de te?cnicas estad??sticas sobre datos de pacientes cl??nicos para encontrar los factores de riesgo enfermedades de intere?s[14].

Cabe resaltar que en estudios relacionados con el tema se tratan a?reas como la estad??stica descriptiva y me?todos de regresio?n lineal y log??stica, de modo que se puede descubrir conocimiento sobre una poblacio?n. Sin embargo, al no en- contrarse muchas de las relaciones entre los datos, se hace necesario el uso de te?cnicas inteligentes para descubrir pa- trones ocultos entre ellos. La miner??a de datos se ha uti- lizado sobre datos cl??nicos de otros pa??ses para encontrar factores de riesgo asociados a enfermedades de intere?s [17].

Particularmente se ha trabajado con a?rboles de decisio?n y redes bayesianas como clasificadores de pacientes con en- fermedades asociadas a distintos factores de riesgo [11][9], y reglas de asociacio?n para encontrar las posibles relaciones entre dichos factores[3]. Sin embargo, es necesario centralizar los datos me?dicos y realizar las transformaciones necesarias sobre e?stos para que no solo cumplan con una labor ad- ministrativa sino que la informacio?n que poseen pueda ser utilizada en ana?lisis de riesgo en salud. De esta forma, sera?  posible aplicar fa?cil y efectivamente los algoritmos de min- er??a de datos que permitan identificar factores de riesgo en poblaciones y niveles de severidad de las enfermedades en los pacientes.

3. TRABAJOS PREVIOS Son varios los trabajos relacionados con almacenamiento  y procesamiento de la gran cantidad de informacio?n con la que cuentan actualmente las organizaciones. Esta seccio?n de- scribira? los trabajos ma?s relevantes relacionados la forma en que las organizaciones dedicadas al a?rea de la salud pueden obtener ventaja competitiva mediante el uso apropiado de mecanismos innovadores de almacenamiento y procesamien- to adecuado de sus datos.

3.1 Bodegas de datos cl?nicas En cuanto a bodegas de datos para salud se han desarrol-  lado diferentes sistemas que soportan estas organizaciones.

[16] describe los desarrollos ma?s importantes que se han he- cho en esta a?rea. Entre los sistemas que proveen facilidades me?dicas (Clinical Computing, Oracle Clinical, SAS institute, MEDai, Informations Architects Inc, Shared Medical Sys- tems, Quest informatics, Turku University Central Hospi- tal, StanfordMedical Informatics). Cabe destacar a MEDai el cual usa inteligencia artificial y provee estudios predeter- minados para diferentes enfermedades comunes. Al igual la universidad de Turky en Finlandia da un ejemplo de apli- cacio?n con una herramienta de transporte, la bodega y una herramienta propietaria de front-end y resalta las ventajas de la bodega para responder preguntas. Los otros sistemas se centran ma?s en procesos de ayuda a la industria farmace?uti- ca[16]. Con bodegas de datos cl??nicas se pueden hacer difer- entes niveles de ana?lisis: a nivel de paciente, por grupos, por ejemplo de enfermedades. Tambie?n se pueden hacer investi- gaciones me?dicas o mejoramiento de la calidad del servicio.

As?? mismo se pueden hacer ana?lisis financieros y demogra?- ficos permitiendo analizar la rentabilidad y calidad general de los servicios prestados. Para que esto se pueda realizar la bodega deber??a aceptar todos los tipos de datos, desde fi- nancieros, como contratos y facturas; datos demogra?ficos co- mo edad y sexo; cl??nicos, como diagno?sticos y procedimien- tos; nume?ricos, como resultado de laboratorio e ima?genes como rayos x. La combinacio?n de todos estos datos es lo que hara? posible el ana?lisis cruzado y la obtencio?n de informa- cio?n [16]. En el proceso de crear la bodega se han encontrado varios problemas como que los datos cl??nicos originales son guardados en un tipo de formato que no es el mejor para el ana?lisis y la revisio?n de los datos. En 1999 PharmaHealth technologies introduce junto con un sistema de bodega de datos el concepto ambiente controlado encaminado a apo- yar el proceso de transformacio?n por medio de la captura de metadatos. Esto permite adicionar funcionalidad extra en el proceso de transformacio?n [20]. Entre otras cosas se creo? la definicio?n de las columnas en las tablas de ana?lisis de la bases de datos. As?? el usuario al realizar la transfor- macio?n puede asegurarse que las columnas concuerdan con los esta?ndares definidos [20].

3.2 Miner?a de datos: Asociaci?n Dentro de la miner??a de datos se enmarcan varias tareas  que bien son de tipo descriptivo o de tipo predictivo. Las descriptivas presentan el comportamiento y las relaciones existentes entre los datos, mientras que las de tipo predic-    tivo permiten suponer comportamientos a futuro basa?ndose en los datos almacenados en las variables existentes[7]. Es as?? como la asociacio?n se enmarca dentro de las tareas descripti- vas ya que permiten al usuario entender sus datos mediante relaciones existentes entre ellos y puntos de separacio?n de los datos.

3.2.1 Reglas de Asociaci?n Las relaciones ocultas entre los datos pueden ser represen-  tadas mediante las llamadas reglas de asociacio?n. E?stas son implicaciones del tipo X ? Y , donde X y Y son conjun- tos de ??tems disyuntos. Dentro de las reglas de asociacio?n se manejan dos medidas las cuales determinan que? tan fuerte es, estas son el soporte y la confianza.

El soporte de una regla se define como que? tan frecuente es dicha regla dado un conjunto de ??tems, mientras que la confianza mide la frecuencia con la que los ??tems del conjun- to Y aparecen en las transacciones que contienen X. Estas dos medidas se utilizan con el fin de minimizar el hecho de encontrar patrones por casualidad. Para que la regla sea con- siderada fuerte, debe sobrepasar los para?metros establecidos de soporte y confianza determinados por el experto para el conjunto de datos.

Adicionalmente, el ana?lisis de interpretacio?n de las reglas de asociacio?n debe hacerse cuidadosamente ya que algunas reglas que puedan carecer de sentido a simple vista, real- mente puede que para el experto del conjunto de datos rep- resenten valor como un patro?n desconocido e interesante[19].

3.2.2 Algoritmos El algoritmo Apriori presentado en [2] es el ma?s comu?n  para descubrir reglas de asociacio?n y funciona bajo la base del principio ?Apriori? el cual dice que si un conjunto de items es frecuente, entonces sus subconjuntos tambie?n lo son[19]. Este algoritmo calcula las frecuencias de cada item y toma los que superan el valor de soporte definido por el usuario. Luego genera nuevos conjuntos de ??tems por cada iteracio?n haciendo uso de los ya seleccionados, calcula sus frecuencias dentro del conjunto de items y selecciona nueva- mente las que superan el umbral de soporte. Una vez gen- erado el conjunto de items frecuentes, evalu?a las reglas que pueden surgir de este conjunto y toma las que superan el umbral de confianza definido.

Cabe destacar que existe otra aproximacio?n la cual es el algoritmo FP-Growth [19] el cual optimiza la obtencio?n de conjuntos de items frecuentes mediante la codificacio?n de las transacciones en una estructura llamada A?rbol-FP (FP- Tree) donde cada una de ellas esta? representada en una ra- ma del a?rbol y cada nodo contiene la frecuencia del item.

El acceso a esta estructura hace que encontrar los items fre- cuentes sea mucho ma?s ra?pido y as?? mismo la generacio?n de las reglas de asociacio?n.

3.2.3 Aplicaciones en el sector salud Las reglas de asociacio?n se encargan de encontrar conjun-  tos de patrones de riesgo para cierta condicio?n cl??nica. Medi- ante las combinaciones de estos factores es posible obtener un subconjunto de la poblacio?n que se encuentra en alto riesgo de contraer dicha condicio?n cl??nica. Todo esto se hace basa?ndose en que el grupo principal de estudio es el ma?s pe- quen?o, es decir el que se encuentra en estado anormal o enfer- mo. As?? mismo tambie?n es importante ajustar las medidas de soporte y confianza para que el conjunto de reglas obtenidas  tenga relevancia en el estudio[8]. Este me?todo computacional ha sido aplicado en estudios de lactancia y como pruebas para conjuntos de datos me?dicos[13, 10]. Se ha encontrado que esta herramienta presenta muchas ventajas puesto que ayuda en la elaboracio?n de planes de intervencio?n para el grupo poblacional de alto riesgo. Sin embargo, se propone el uso de herramientas estad??sticas para proveer mejores resul- tados en su implementacio?n. Como un primer acercamiento a la deteccio?n de factores de riesgo interesantes, [3] discute el uso de software que soporte algoritmos de generacio?n de reglas de asociacio?n. Los experimentos realizados en este es- tudio se hacen sobre un conjunto de datos me?dicos previa- mente limpiados para su utilizacio?n en el software de min- er??a de datos. Los resultados arrojaron un conjunto de reglas entre 2.000 y 20.000. Se discute tambie?n que se selecciono? un conjunto pequen?o para mostrarle al usuario. Igualmente se propone una divisio?n por ventanas de tiempo para en- contrar nuevas reglas en los conjuntos de datos. Tambie?n se menciona en varios trabajos que el uso de este me?todo debe ser controlado puesto que genera demasiadas reglas y es necesario tener un conjunto que sea realmente el o?ptimo de patrones de riesgo[13, 12]. En su trabajo, [13] advierte que las reglas de asociacio?n deben contener patrones que generen alto riesgo relativo en lugar de aquellas que so?lo cumplan con la condicio?n de tener una alta confianza. De igual forma propone una modificacio?n al algoritmo de Re- glas de Asociacio?n para que en lugar de tomar un valor de confianza tome un valor de riesgo relativo; tambie?n limita el nu?mero de reglas generadas y la forma de tratar el proble- ma dependiendo de la poblacio?n: enfermos o sanos. Al tomar como medida el riesgo relativo se asegura de mostrar a los usuarios el conjunto de reglas o?ptimo. Por u?ltimo se pro- pone una seleccio?n estratificada de las reglas de asociacio?n encontradas para que el personal me?dico pueda evaluar de forma fa?cil y significativa las relaciones encontradas. Como un caso de estudio, [13] aplica esta te?cnica para la evalu- acio?n del efecto adverso de las drogas sobre un conjunto de pacientes. La meta del experimento era encontrar el grupo de pacientes que estaba en riesgo de sufrir de angiodema despue?s de haber consumido cierto tipo de medicamento.

Los resultados de este experimento fueron bastante buenos puesto que al hacerles un estudio con expertos se llego? a la conclusio?n de que las reglas generadas eran de su intere?s.

As?? mismo, el algoritmo se ejecuto? de forma ra?pida y al ser evaluado se encontro? que generaba reglas estad??sticamente significantes para un conjunto de datos sesgado. Este tipo de trabajos proponen el uso de estos conjuntos de reglas y patrones para que las organizaciones me?dicas y los expertos puedan refinar hipo?tesis y hacer estudios de consumo.

4. NATURALEZA DE LOS DATOS CL?NI- COS  En las bases de datos de las Entidades Prestadoras de Salud (EPS) de Colombia es posible encontrar los siguientes tipos de informacio?n:  4.1 Informaci?n del Individuo en el Sistema General de Seguridad Social en Salud  Mediante la resolucio?n 812 de 2007, el Ministerio de Pro- teccio?n Social establecio? la informacio?n que deben remitir las instituciones prestadoras de salud en el pa??s al admin- istrador Fiduciario del Fosyga para la actualizacio?n de la    Base de Datos U?nica de Afiliados, BDUA. Todas las vari- ables exigidas por el Ministerio se encuentran debidamente documentadas con sus tipos y taman?os esta?ndar. La in- formacio?n exigida por este decreto contempla ba?sicamente datos de tipo personal respecto al sistema de salud en el que se encuentra afiliado. Se destacan campos como la perte- nencia e?tnica, tipo de cotizante, nivel de SISBEN, zona de afiliacio?n, co?digo del municipio de afiliacio?n e informacio?n sobre el aportante y el cotizante.

4.2 Informaci?n de Servicios de Salud Respecto a la parte de servicios de atencio?n, se establecen  las variables segu?n la Resolucion 3374 de 2000 mediante la cual se establecen ciertos tipos de archivos y sus correspon- dientes variables. Estos archivos contienen, a groso modo, informacio?n sobre transacciones, usuarios de los servicios de salud, descripcio?n agrupada de dichos servicios, consulta, procedimientos cl??nicos, hospitalizaciones, urgencias, recie?n nacidos, medicamentos y otros servicios.

Cabe aclarar que las bases de datos de las EPS con las que se tiene convenio para el uso de datos, manejan un archivo maestro en el cual se condensan los archivos de consulta, procedimientos, hospitalizacio?n, urgencias y medicamentos principalmente.

Respecto a los co?digos diagno?sticos, de medicamentos y procedimientos cl??nicos, las bases de datos de las EPS hacen uso de los siguientes esta?ndares:  Co?digos de Diagno?sticos: Se reportan usando el esta?n- dar internacional CIE10 (Clasificacio?n Internacional de Enfermedades, de?cima versio?n) publicado por la Orga- nizacio?n Mundial de la Salud.

Co?digos de Procedimientos Cl??nicos: son manejados usando el esta?ndar colombiano. Este co?digo se llama CUPS (Clasificacio?n U?nica de Procedimientos en Salud) y se encuentra disponible en la resolucio?n 1896 de 2001.

Co?digos de Medicamentos: Se manejan los co?digos del Sistema de clasificacion qu??mica, terape?utica y anato?mi- ca, ATC (siglas en ingle?s).

4.3 Variables Ecosocioculturales Estas variables son de tipo econo?mico, social y cultural de  la poblacio?n de cada EPS. Estas variables esta?n actualmente en proceso de recoleccio?n y depuracio?n por lo que so?lo algu- nas de ellas se encuentran lo suficientemente pobladas para realizar ana?lisis con ellas. La figura 1 muestra un ejemplo del nu?mero de variables con registro en una de las EPS.

Las variables marcadas en Azul son las ma?s pobladas para los pacientes de DM2. Sin embargo, existen variables como ?Gestante? que, a pesar de tener muchos registros, deben ser depuradas y por eso no se marcan para ser utilizadas en los ana?lisis de datos.

5. CENTRALIZACI?N DE LA INFORMA- CI?N  Con el fin de cumplir con el requerimiento de ana?lisis de datos cl??nicos para modelos de riesgo en enfermedades de al- to costo como la DM2, es necesario centralizar dichos datos.

Es por esto, que la construccio?n de una bodega de datos cl??nicos que albergue no solo informacio?n administrativa de  Figura 1: Variables Ecosocioculturales  una EPS, sino tambie?n informacio?n relativa a riesgo en en- fermedades, es imprescindible para lograr mejores resulta- dos en prevencio?n y atencio?n por parte de la Entidad. A continuacio?n se describe el modelo general propuesto para la bodega.

5.1 Hechos y Granularidad Los eventos que se han decidido modelar son los correspon-  dientes al manejo de diagno?sticos, manejo de procedimientos cl??nicos, entrega de medicamentos y estado ecosociocultural del paciente. La granularidad de los hechos ?diagno?sticos? y ?procedimientos cl??nicos? esta? dada en d??as, mientras que el hecho ?ecosociocultural? esta? dado en meses.

Diagno?sticos: Este hecho recopila todos los registros de CIE 10 de la poblacio?n de la entidad. Mediante esta tabla de hechos se pueden distinguir los registros de incidencia epidemiolo?gica en una enfermedad.

Procedimientos Cl??nicos: En esta tabla de hechos se recopila toda la informacio?n referente a los servicios recibidos por la poblacio?n de la entidad. Contiene vari- ables como el costo y la forma de contratacio?n del pro- cedimiento.

Ecosociocultural: Esta tabla de hechos maneja la in- formacio?n econo?mica, social y cultural para cada mes de la poblacio?n.

5.2 Dimensiones  Afiliado: Esta dimensio?n contiene los datos personales de cada uno de los afiliados en la EPS. La informacio?n es de tipo cambiante debido a que cada mes llegan nuevos pacientes a la Entidad.

Edad: En esta dimensio?n se especifican las edades de los pacientes. Aunque para varios ana?lisis de riesgo se suelen usar rangos de edad, se ha decidido que esta dimensio?n no tenga ese tipo de jerarqu??a para dar ma?s libertad de generacio?n de rangos de edad propios de cada una de las poblaciones presentes en las EPS. Esta dimensio?n esta degenerada en las tablas de hecho.

Sexo: Esta dimensio?n se encuentra degenerada en cada una de las tablas de hechos modeladas en la Bodega y corresponde al sexo del paciente.

Fecha: Esta dimensio?n contiene una jerarqu??a de an?o, mes y d??a. Dependiendo del hecho a tratar se utilizan los diferentes niveles de jerarqu??a explicados anterior- mente.

Diagno?stico: En esta dimensio?n se encuentran todos los co?digos CIE10 discriminados en 3 niveles de jer- arqu??a. Estos niveles fueron escogidos haciendo uso de la clasificacio?n por categor??as establecidas por la OMS.

Para efectos de representacio?n en la bodega, la primera jerarqu??a comprende los 2 primeros d??gitos del CIE10, la segunda jerarqu??a contiene los 3 primeros d??gitos y finalmente, la tercera jerarqu??a contiene el co?digo com- pleto de la enfermedad.

Mercado Geogra?fico: Esta dimensio?n contiene el lugar de residencia del paciente y maneja dos niveles de jerar- qu??a: Departamento y Municipio, siendo e?ste u?ltimo el ma?s bajo. Esta dimensio?n es esta?tica puesto que las lo- caciones fueron predefinidas usando los co?digos DANE (para municipios y departamentos en Colombia).

5.3 An?lisis de Datos Haciendo uso de la bodega de datos cl??nica es posible tener  de manera fa?cil y ra?pida reportes de indicadores importartes para el ana?lisis de riesgo de enfermedades de alto costo, que no son necesariamente la DM2. El cruce de informacio?n per- mite tener listados ra?pidos y agregados de pacientes y sus condiciones cl??nicas, bien sea diagno?sticos, procedimientos o sus condiciones ecosocioculturales.

Dentro de los reportes destacados y de intere?s para los analistas de riesgo en salud se encuentran los siguientes ejem- plos:  Listado de mujeres gestantes que presentan diagno?stico de VIH.

Pacientes con Enfermedad Pulmonar Obstructiva Cro?ni- ca (EPOC) que son fumadores posterior a su diagno?s- tico de EPOC.

Nu?mero de intervenciones preventivas realizadas para enfermedades de alto costo en el mes, trimestre o semestre.

Bien sean pruebas ELISA para VIH, espirometr??as para EPOC, glicemias para DM2 o mamograf??as en el caso de Ca?ncer de Mama.

Sumarizacio?n de los costos de cada paciente por ser- vicios consumidos (Hospitalizaciones o procedimientos cl??nicos).

Reporte histo?rico de los datos de presio?n arterial sisto?li- ca/diasto?lica, peso y estatura posteriores al diagno?sti- co de DM2 para los pacientes de esta enfermedad.

Total de los costos de intervenciones preventivas o di- agno?sticas para el mes, trimestre o semestre.

Listado de mujeres gestantes que tienen reporte de fu- mador.

Conteo de personas asociadas a un diagno?stico por pe- riodos.

Todos estos reportes obtenidos mediante la creacio?n de cu- bos dimensionales para la visualizacio?n y consulta de la bodega de datos cl??nica, pueden ser utilizados en el ana?li- sis de manejo de enfermedades cro?nicas dentro de las EPS.

Tambie?n se pueden realizar seguimientos al cumplimiento de metas de cobertura de intervenciones realizadas por las EPS, as?? como ayuda en la generacio?n de reportes para auditor??as.

6. REGLAS DE ASOCIACI?N A PARTIR DE LA BODEGA CL?NICA  Una vez centralizados y depurados los datos cl??nicos, se procedio? a realizar experimentos de reglas de asociacio?n so- bre el conjunto de pacientes de DM2 registrados hasta el momento en una EPS.

El criterio de seleccio?n de estos pacientes fue que contaran con un registro de CIE 10 comprendido entre los siguientes co?digos E110 y E129, y tambie?n el E149, los cuales fueron acordados con la Entidad como los co?digos de identificacio?n de sus pacientes de DM2. El total de pacientes seleccionado fue de 21936.

Para realizar las pruebas de los algoritmos de asociacio?n se escogieron 3 diferentes conjuntos de datos sobre una de las EPS, los cuales sera?n llamados A, B y C.

El primer conjunto de datos (A) reune distintas variables asociadas a los pacientes de DM2 como lo son: sexo, peso, diagno?sticos registrados despue?s de la incidencia en DM2, fecha del diagno?stico, edad al momento del diagno?stico, pro- cedimientos cl??nicos realizados posterior a la incidencia en DM2, resultado del procedimiento, costo del procedimiento, fecha de realizacio?n del procedimiento, forma de contrat- acio?n del procedimiento y departamento en el que vive el paciente.

El segundo conjunto de datos (B) contempla todos los di- agno?sticos de los pacientes de DM2 registrados posterior a la incidencia de la enfermedad, y finalmente, el tercer conjunto de datos (C) reune todos los procedimientos realizados a los pacientes de DM2 con fecha posterior a la incidencia de la enfermedad.

Para la generacio?n de las reglas de asociacio?n sobre los conjuntos de datos fueron utilizados los algoritmos Apriori (conjunto A) y FP-Growth (Conjuntos B y C). Debido a la cantidad de datos, se considero? un 0.2 como valor apropiado para el soporte y un 0.85 como el valor adecuado para la confianza. Estos valores fueron determinados debido a pre- vias experimentaciones y adema?s mostraron los resultados ma?s interesantes.

6.1 Preprocesamiento de los datos El preprocesamiento de los conjuntos de datos permitira?  el uso adecuado de los algoritmos de agrupacio?n. A contin- uacio?n se describira? la forma en la que cada conjunto de datos fue tratado de acuerdo a sus propias variables.

6.1.1 Conjunto de Datos A Los valores de campo nume?rico fueron discretizados por la  te?cnica de binning simple donde el rango de valores nume?ri- cos es dividido en segmentos del mismo taman?o donde ca- da uno de estos segmentos representa un ?bin?. Los valores nume?ricos son asignados al bin representante del segmento que contiene el valor. Esto se realizo? particularmente para las pruebas con el algoritmo Apriori donde se probaron difer- entes nu?meros de bins para lograr obtener mejores reglas de asociacio?n.

Dentro de estas variables discretizadas se encuentran:  Edad: Para esta variable se realizaron varias pruebas de binning que inclu??an 4 y 5 bins. Es importante destacar que las edades pueden ser discretizadas uti- lizando el criterio epidemiolo?gico de rangos de edades el cual es aplicado por las EPS en los ana?lisis de riesgo.

Estos rangos son: de 0 a 1 an?o, de 1 a 4 an?os, de 4 a 14 an?os, de 14 a 44 an?os, de 44 a 60 an?os y de 60 an?os en adelante.

Peso: Esta variable tambie?n tuvo la prueba de binning de 4 y 5 bins para obtener resultados en las pruebas del algoritmo de asociacio?n. Sin embargo, esta variable no presenta ningu?n tipo predefinido de discretizacio?n por lo cual es mucho ma?s libre de manejar que otras variables.

Costo Asociado del Procedimiento Cl??nico: La discretizacio?n de esta variable se realizo? usando la te?cnica de binning para generar 4 rangos de costos.

Respecto a los datos de tipo nominal en su definicio?n, pero recolectados de tipo nume?rico (zona de residencia, ocupacio?n laboral, co?digo DANE, co?digo del departamento, escolari- dad) fue necesario convertirlos a tipo nominal para poder aplicar algoritmos de asociacio?n.

Cabe destacar que para estos afiliados existen tambie?n variables de atenciones como lo son los diagno?sticos que han presentado despue?s de su incidencia en la enfermedad, as?? como los procedimientos, sus resultados y su costo asociado.

Tanto los co?digos diagno?sticos como los de procedimientos son de tipo nominal, mientras que los costos son de tipo nume?rico. El resultado del procedimiento puede ser de tipo nume?rico o catego?rico segu?n sea el procedimiento cl??nico, por esto se decidio? dejarlo como tipo nominal para las primeras pruebas del algoritmo de asociacio?n.

6.1.2 Conjuntos de Datos B y C Para estos dos conjuntos de datos se realizo? un proceso de  binarizacio?n tanto de los diagno?sticos (conjunto B) como de los procedimientos cl??nicos (conjunto C) y posteriormente a que se tuviera la matriz binaria se aplico? el algoritmo FP- Growth.

Cabe resaltar que se realizaron dos preprocesamientos para el conjunto B de diagno?sticos debido a que se decidio? probar a dos diferentes niveles de detalle esta variable. Esto se pudo hacer ya que la variable diagno?stico presenta una jerarqu??a establecida desde su definicio?n como co?digo CIE10.

6.2 Resultados y Validaci?n de Reglas de Aso- ciaci?n  Una vez generadas las reglas de asociacio?n se procedio? a analizar los resultados obtenidos y validarlos con la ayuda de un analista de riesgo en salud. Estos resultados se presentan a continuacio?n para cada uno de los conjuntos de datos.

6.2.1 Conjunto A Los resultados obtenidos en las reglas de asociacio?n para  este conjunto de datos permiten ver tendencias de las enti- dades aseguradoras en la atencio?n de los pacientes diabe?ti- cos. Es posible inferir mediante estas reglas los periodos del an?o en los cua?les los pacientes toman los exa?menes de con- trol como lo es el mes de Julio y tambie?n es posible ver que las mujeres son las que ma?s hacen uso de los servicios de  atencio?n de la EPS. Las reglas ma?s interesantes se pueden ver en la tabla 1.

Tabla 1: Reglas de asociacio?n Conjunto A  Antecedente Consecuente Confian-  za  Procedimiento = Hemoglobina  Glicosilada  Fecha CUP =  07/2010   Sexo=F y  Procedimiento =Hemoglobina  Glicosilada  Departamento = BOGOTA?  0.91  Fecha Dx=06/2010 y Procedimiento =Hemoglobina  Glicosilada y  Departamento = BOGOTA?  Forma Contratacio?n=  EVENTO  0.98  Edad Dx= [52 - 65] y  Sexo=F y  Departamento = BOGOTA?  Fecha CUP =  07/2010  0.98  Se puede ver en los resultados que las mujeres consultantes son de edad relativamente avanzada. Para los hombres no se encontro? una relacio?n entre la edad y el control de la enfermedad, lo que hace suponer que las mujeres entre los 52 y 65 an?os son quienes ma?s se preocupan por realizar los controles. Las relaciones encontradas en este conjunto de datos son ba?sicamente descriptivas del comportamiento de los pacientes y su demograf??a.

6.2.2 Conjunto B Debido a que este conjunto conten??a los diagno?sticos pos-  terior a la fecha de incidencia de la DM2, es posible encon- trar entre los resultados muchas de las enfermedades aso- ciadas a la DM2 las cuales se encuentran descritas en las gu??as cl??nicas existentes. Entre ellas esta?n las enfermedades card??acas y renales. Sin embargo, lo observado en los exper- imentos hechos a los dos niveles mostro? una relacio?n entre la DM2 y las enfermedades del sistema digestivo, particu- larmente con la gastritis. Esta relacio?n resulta interesante puesto que en las gu??as cl??nicas no se evidencia una estrecha relacio?n entre estas dos enfermedades. Adicionalmente, se puede inferir de esta relacio?n que los pacientes de DM2 de la EPS pueden estar presentando reacciones adversas a los medicamentos suministrados para el tratamiento de otras enfermedades asociadas a DM2.

Mediante la experimentacio?n a un nivel jera?rquico alto fue posible encontrar ma?s reglas que cuando se utilizo? un niv- el bajo de jerarqu??a. Las reglas ma?s interesantes generadas para el nivel jera?rquico alto se muestran en la tabla 2.

Tabla 2: Reglas de asociacio?n Conjunto B (Jerarqu??a a 2 d??gitos de CIE10)  Antecedente Consecuente Confian-  za  (K20-K31) Enfermedades del  eso?fago, esto?mago y del duodeno  (E10-E14) Diabetes mellitus.

y (I10-I15)  Enfermedades hipertensivas  0.8  (J40-J47) Enfermedades respiratorias  inferiores cro?nicas  (E10-E14) Diabetes mellitus.

(A00-A09) Enfermedades  intestinales infecciosas  (E10-E14) Diabetes mellitus.

(E00-E07) Deso?rdenes de la gla?ndula tiroides.

(E10-E14) Diabetes mellitus.

Sin embargo, los resultados obtenidos a nivel jera?rquico bajo soportan en su mayor??a lo obtenido en el nivel may- or haciendo posible detallar exactamente que? enfermedad es la que esta? generando la relacio?n espec??fica con la DM2.

Algunas de las reglas ma?s interesantes encontradas en esta jerarqu??a se presentan en la tabla 3.

Tabla 3: Reglas de asociacio?n Conjunto B (Jerarqu??a a 3 d??gitos de CIE10)  Antecedente Consecuente Confian-  za  (K29) Gastritis y duodenitis  (I10) Hipertensio?n arterial esencial  (primaria)  0.8  (K29) Gastritis y duodenitis  y (E03) Otros  hipotiroidismos  (E14) Otras diabetes mellitus sin especificar  y (I10) Hipertensio?n  arterial esencial (primaria)  0.82  (M54) Dorsalgia (E14) Otras diabetes mellitus sin especificar  0.91  (J44) Otras enfermedades pulmonares  obstructivas cro?nicas  (E14) Otras diabetes mellitus sin especificar  0.92  Se puede observar que la relacio?n entre la Enfermedad Pulmonar Obstructiva Cro?nica (EPOC) y la DM2 es nueva y fuerte. Las gu??as de manejo de enfermedad de DM2 para Colombia no se encuentra esta relacio?n, as?? como tampoco la relacio?n con las enfermedades de la gla?ndula tiroides.

6.2.3 Conjunto C Este conjunto permitio? ver las relaciones entre los pro-  cedimientos cl??nicos que se les suministran a los pacientes de DM2. Principalmente se pueden encontrar relaciones que ayudan a validar si la entidad aseguradora esta? ofreciendo los tratamientos adecuados a dichos pacientes. Adicionalmente se pudo distinguir una relacio?n no convencional entre los procedimientos cl??nicos ?Hemoglobina Glicosilada? la cual es de control para los pacientes diabe?ticos y ?Radiograf??a de To?rax? la cual no se encuentra entre los procedimientos de rutina que deben ser aplicados a los pacientes. Esta relacio?n podr??a ser analizada ma?s a fondo por la EPS para encon- trar la razo?n de por que? sus pacientes esta?n recibiendo este procedimiento. La tabla 4 presenta las reglas ma?s represen- tativas del experimento.

Tabla 4: Reglas de asociacio?n Conjunto C (CUPS)  Antecedente Consecuente Confian-  za  Radiograf??a de to?rax y  Potasio  Sodio 0.97  Electrocardio grama de ritmo o de  superficie sod y  Consulta externa de complejidad mediana  sod  Hemoglobina glicosilada por  anticuerpos monoclonales  0.85  Creatinina en suero, orina u otros  y Sodio  Potasio y  Nitro?geno ure?ico [bun]  0.83  Microalbumin uria por nefelometr??a  Hemoglobina glicosilada por  anticuerpos monoclonales  0.81  En los resultados tambie?n se puede ver que los pacientes efectivamente esta?n recibiendo los controles y tratamien- tos ma?s relevantes para los pacientes de DM2 que presen- tan comorbilidades. Estos son los Ecocardiogramas, los con- troles de alteracio?n renal (Microalbuminuria, creatinina y nitro?geno ure?ico), as?? como los tratamientos con sodio y potasio.

7. CONCLUSIONES La centralizacio?n y depuracio?n de los datos cl??nicos medi-  ante una bodega de datos facilita ampliamente su utilizacio?n en diversos ana?lisis de riesgo para enfermedades de alto cos- to. Particularmente las te?cnicas de miner??a de datos per- miten ayudar en la labor de identificacio?n de factores de riesgo sobre su poblacio?n para una determinada enfermedad, como lo es la DM2. La mayor??a de los estudios hechos sug- ieren que los factores de riesgo que se presentan son de fa?cil control por parte de las organizaciones prestadoras de salud.

De modo que las actividades de prevencio?n ser??an bastante efectivas y ayudar??an a disminuir los costos derivados de tratamientos por padecimiento de la enfermedad[14].

La construccio?n de la bodega de datos cl??nica permitio? extraer de forma ma?s sencilla conjuntos de datos para ser usados en ana?lisis de miner??a de datos. Debido a que ya se encontraban limpios y organizados, los preprocesamien- tos correspondientes a la generacio?n de reglas de asociacio?n fue fa?cil y ra?pido. Tambie?n se puede observar que la cen- tralizacio?n de datos favorece la generacio?n de indicadores de riesgo ba?sicos como lo son totales de poblaciones, propor- ciones, promedios y listados de los mismos.

Los experimentos con reglas de asociacio?n llevadas a cabo en el desarrollo de este art??culo, sugieren que es posible iden- tificar factores propios para la EPS como la edad, el sexo o condiciones de salud que afectan el desarrollo de la DM2 y hace a ciertas poblaciones ma?s vulnerables a tener ba- jos ??ndices de controles y tratamiento adecuado de la en- fermedad. Tambie?n es posible, a partir de estas te?cnicas, proveer a la EPS una herramienta de control de sus proce- sos de prevencio?n y atencio?n de la enfermedad mediante las relaciones establecidas por los consumos realizados por sus pacientes de DM2. El descubrimiento de nuevos factores de riesgo como EPOC, enfermedades respiratorias y de la gla?n- dula tiroides pueden ayudar en la identificacio?n de nueva poblacio?n de riesgo para realizar intervenciones preventivas de la enfermedad en la EPS.

Finalmente, se propone la continuidad de exploracio?n de las diversas te?cnicas de miner??a de datos sobre una bodega de datos cl??nica, particularmente la clasificacio?n y agrupacio?n con el fin de ayudar a identificar oportunamente pacientes con complicaciones derivadas de la DM2.

8. AGRADECIMIENTOS Este trabajo ha sido apoyado por Processum LTDA. y la  Universidad Nacional de Colombia.

9. BIBLIOGRAF?A [1] ADA. Economic costs of diabetes in the u.s. in 2002.

Diabetes Care, 26(3):917?932, 2003.

[2] Rakesh Agrawal, Tomasz Imielin?ski, and Arun Swami.

Mining association rules between sets of items in large databases. In SIGMOD ?93: Proceedings of the 1993 Management of data, pages 207?216, New York, NY, USA, 1993. ACM.

[3] Stephen E Brossette, Alan P Sprague, J Michael Hardin, Ken B Waites, Warren T Jones, and Stephen A Moser. Association rules and data mining in hospital infection control and public health surveillance. Journal of the American Medical Informatics Association, 5(4):373?381, 1998.

[4] Ministerio de la Proteccio?n Social. Plan nacional de salud pu?blica 2007 - 2010. decreto 3039 de 2007, 2007.

[5] Ministerio de Sanidad y consumo. Gu??a de pra?ctica cl??nica sobre diabetes tipo 2. Servicio central de publicaciones del gobierno vasco. Vitoria, 2008. Gu??a de Pra?ctica Cl??nica en el SNS.

[6] Environmental Systems Research Institute (ESRI).

Spatial data warehousing for hospital organizations, March 1998.

[7] Usama Fayyad, Gregory Piatetsky-shapiro, and Padhraic Smyth. From data mining to knowledge discovery in databases. AI Magazine, 17:37?54, 1996.

[8] Liqiang Geng and Howard J. Hamilton.

Interestingness measures for data mining: A survey.

ACM Comput. Surv., 38(3):9, 2006.

[9] O. Gevaert, F. De Smet, E. Kirk, B. Van Calster, T. Bourne, S. Van Huffel, Y. Moreau, D. Timmerman, B. De Moor, and G. Condous. Predicting the outcome of pregnancies of unknown location: Bayesian networks with expert prior information compared to logistic regression. Human Reproduction, 21(7):1824?1831, 2006.

[10] Hongxing He, Huidong Jin, Jie Chen, Damien McAullay, Jiuyong Li, and Tony Fallon. Analysis of breast feeding data using data mining methods. In AusDM ?06: Proceedings of the fifth Australasian conference on Data mining and analystics, pages 47?52, Darlinghurst, Australia, Australia, 2006.

Australian Computer Society, Inc.

[11] Panagiota Kitsantas, Myles Hollander, and Lei Li.

Using classification trees to assess low birth weight outcomes. Artif. Intell. Med., 38(3):275?289, 2006.

[12] Jiuyong Li, Ada Wai-chee Fu, and Paul Fahey.

Efficient discovery of risk patterns in medical data.

Artif. Intell. Med., 45(1):77?89, 2009.

[13] Jiuyong Li, Ada Wai-chee Fu, Hongxing He, Jie Chen, Huidong Jin, Damien McAullay, Graham Williams, Ross Sparks, and Chris Kelman. Mining risk patterns in medical data. In KDD ?05: Proceedings of the Knowledge discovery in data mining, pages 770?775, New York, NY, USA, 2005. ACM.

[14] Diana Paola Co?rdoba R. Martha D??az Perilla.

Identificacio?n de factores de riesgo de enfermedad cardiovascular presentes en los pacientes que ingresan al hospital san ignacio. LECTURAS SOBRE NUTRICIO?N, 10:51?58, 2003.

[15] Zeljko Panian. Return on investment for business intelligence. In MCBE?07: Proceedings of the 8th Conference on 8th WSEAS Int. Conference on Mathematics and Computers in Business and Economics, pages 205?210, Stevens Point, Wisconsin, USA, 2007. World Scientific and Engineering Academy and Society (WSEAS).

[16] Torben Bach Pedersen and Christian S. Jensen.

Clinical data warehousing- a survey, 1998.

[17] Jonathan C. Prather, David F. Lobach, Ph. D, Linda K. Goodwin, Ph. D, Joseph W. Hales, Ph. D, Marvin L. Hage, W. Edward Hammond, and Ph. D.

Medical data mining: Knowledge discovery in a clinical data warehouse. In In 1997 Annual Conference of the American Medical Informatics Association, pages 101?105, 1997.

[18] Pen?aloza E Eslava J Go?mez LC Sa?nchez H Amaya JL Arenas R Botiva Y Rodr??guez J, Ruiz F. Encuesta nacional de salud 2007. resultados nacionales.

[19] Pang-Ning Tan, Michael Steinbach, and Vipin Kumar.

Introduction to Data Mining, (First Edition).

Addison-Wesley Longman Publishing Co., Inc., Boston, MA, USA, 2005.

[20] Peter Villiers. Clinical data warehouse functionality.

In The Clinical Data Warehouse, 1998.

