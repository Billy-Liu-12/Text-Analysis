

Abstract?The rising popularity of cloud computing and big  data applications has led to massive volumes of rack-to-rack traffic featuring diverse communication patterns denoted as *- cast that combines unicast, multicast, incast and all-to-all cast.

Effective support of these traffic patterns in data center networks is still an open problem. We propose a hybrid (optical and electrical) approach that leverages physical layer optics to accelerate traffic delivery for each pattern. Our design consists of an application-driven control plane compatible with software defined networking (SDN) to dynamically configure the optics.

We present the network architecture and control plane design and results on the multicast case.

Index Terms?Optical Interconnections, Optical Switches,  Network Topology

I. INTRODUCTION S cloud computing and big data applications continue to grow in scope and scale, they introduce increasing inter-  rack traffic demands within the data center. Moreover, the heterogeneity of these applications results in highly diverse and transitory communication patterns. Not surprisingly, such applications [1-3] place considerable burden on the underlying interconnection network, which becomes a major bottleneck.

In [4, 5], it was proposed to alleviate this burden by offloading high-volume traffic to optical circuit-switched network composed of MEMS-based optical space switches for stand-alone point-to-point bulk transfers. These switches can support significantly higher bandwidth than networks composed purely of electronic packet switches. However, by virtue of the solely point-to-point nature and millisecond-scale switching time of optical space switches, these optical networks may become ineffective in the presence of other communication patterns that include transmitter and receiver groups or point-to-point or point-to-multipoint iterative data delivery in the millisecond range [2, 3]. Efficient support of such richer patterns necessitates a more innovative and disruptive approach.

Fortunately, MEMS-based optical space switches represent just one class of a wide range of photonic devices. Other devices such as optical splitters, wavelength selective switches   P. Samadi, D. Calhoun, H. Wang and K. Bergman are with the Department  of Electrical Engineering, Columbia University, New York, NY 10027 USA (e-mail: ps2805@columbia.edu, dmc2202@columbia.edu, howard@ee.columbia.edu, bergman@ee.columbia.edu).

(WSS), and arrayed waveguide gratings (AWG) provide capabilities ranging from passive wavelength routing to broadband nanosecond scale switching. These capabilities can potentially be utilized to intrinsically support a rich set of communication patterns at the physical layer and to construct highly efficient optical data center networks. These communication patterns can be classified to four categories based on the *-cast type [6]: unicast, data transmission from a single sender to a single receiver, multicast, from a single sender to multiple receivers, incast, from multiple senders to a single receiver, and all-to-all-cast data transmission among a set of nodes in high performance computing applications.

In this work, we present a hybrid optical network leveraging a library of function-specific photonic devices to individually accelerate and support *-cast-based traffic patterns. Each module will be integrated into a reconfigurable optical fabric such that they can be dynamically connected to racks across the data center. Using this fabric, individual or specialized combinations of these modules are allocated to satisfy communication demands as they arise in the network.

Practically speaking, such an optical fabric can be realized by a high-radix optical space switch. However, instead of serving as a traffic carrier, the space switch in our architecture forms a connectivity fabric that routes traffic to and from various modules, thus enabling the flexible and dynamic run-time configuration of photonic devices to support complex traffic patterns.

The allocation of the photonic devices is dictated by requirements defined by the higher layers. These requirements can either be imposed by the application/service through explicit requests to the control plane or implicitly informed through the measurement of various performance metrics (e.g., flow counters, queue occupancies, etc.) from the data link layer up through the transport layer. Given this information from the higher layers, a network control algorithm will dynamically configure the underlying optical network to provide capabilities where they are needed most.



II. NETWORK ARCHITECTURE In this section, we discuss the dynamic reconfigurable  network architecture and the proposed photonic devices to support different traffic patterns. A schematic representation of the proposed network architecture is depicted in Fig. 1(a).

Our design consists of a hybrid aggregation layer of an optical circuit switching network and an electrical packet switching network that connects the Top-of-Rack (ToR) switches. The  P. Samadi, D. Calhoun, H. Wang, and K. Bergman, Fellow, IEEE  Accelerating Cast Traffic Delivery in Data Centers Leveraging Physical Layer Optics and SDN  A  ONDM 2014, 19-22 May, Stockholm, Sweden  2014 copyright by IFIP 73    main contribution of this architecture compa proposed hybrid architectures [3, 4] is that t switches provide a dynamic substrate on routed to and from specialized photonic dev the traffic delivery based on the cast type rath a point-to-point traffic carrier.

Multicast: Although multicast traffic implemented in the network layer in current have found various application/services in require multicast traffic delivery. Data disse virtual machine provisioning [7] or in- updating [8] in data center is one cat applications. Data replication in distributed and parallel database relational join operat other category. Moreover, the broadcast p machine learning tasks requires multicast typ [11]. By leveraging the inherently low bandwidth-distance product of photonics, o basic technologies utilized in optical intercon can be used to achieve physical layer data-r duplication. Combination of directional cou sizes as modules connected to the OSS form way multicast through the passive splittin optical signals from a single physical port t outputs [6]. Fig. 1(b) demonstrates 1:2 multic optical splitter connecting three ToR switches  Unicast: Point-to-point unicast is supported in photonics using optical spa proposed in [4, 5] point-to-point connectivi configuration of the MEMS-based OSS in However these types of switches prov reconfiguration time of 10s of milliseconds. T range of optical space switch technologies, and tradeoffs typically centered on port-cou  (a)   (b)            (c) Fig. 1.  (a) Data center network architecture in hybrid a packet switching (Ethernet) and optical circuit switchin photonic devices (possible multi-colored units shown Wavelength Selective Switch (WSS), Arrayed Wavegu or an optical sub-system such as Optical Packet Switch The Optical Space Switch (OSS) serves as a connectivi support for patterns such as (b) multicast (S: Splitter AWG).

aring to the other the optical circuit which traffic is  ices to accelerate her than acting as  delivery is not t data centers, we data centers that  emination such as -cluster software tegory of these file systems [9]  tions [10] is the hase of iterative  pe traffic delivery loss and high  one of the most nnection networks rate-agnostic data uplers of various trees realizing n-  ng of broadband to a multitude of cast leveraging an s.

straightforwardly ce switches. As ity is realized by our architecture.

vide low speed There exist a wide  with advantages unt vs. switching  speed. For example in Mordia [12 counts but faster switching speed microsecond switching. That can be in our system to aggregate shorter m racks and forward them to singular allocated to any other rack within th  Incast: This traffic pattern occur between servers in a many-to-one m investigating this traffic pattern is reducer [13], which requires collect from all the mapper for the reduce- can be supported leveraging wav optical signals that provides an granularity and control. Optical mod wavelength multiplexers and demu route and aggregate wavelengths f single destination. Efficient utiliz offered by wavelength division achieve zero-energy, single-hop, incast traffic delivery is still require is leveraging high-speed optica sufficiently low switching tim multiplexing.

All-to-all-cast: All-to-all cast is t of nodes. This pattern is common i where mappers and reducers con Similarly to incast, all-to-all-cast co or a composite of both the unicast an such, our dynamic architecture combination of the aforementioned support all-to-all-cast-type pattern waveguide gratings (AWGs) imple wavelength router to support a mu Alternatively, combination of multi incast aggregators construct a unicast and multicast composite patt  Leveraging optical networks for has fundamental advantages in b compared to electronic networks. Fo by duplicating data in the links usin it avoids the high cost and compl need for intermediate packet base switches. The inherent packet and photonics also obviates the need between the electronic and optic decouples the power consumption o data rate, thus providing built-in sup Gb/s without any modification to the

III. CONTROL P In designing the control plan  explicitly requests for an optical network measurements, the controll use the optical network. In [5], the t by observing end-host buffer occup the application/service requests pho traffic pattern and demand. In this a  ) architecture (electrical ng) featuring dynamic n: an optical splitter, uide Gratings (AWG) hing (OPS) network).

ity substrate enabling r) and (c) incast (A:  2], WSS with lower port d is leveraged to provide e used as a photonic device messages from small set of  optical circuit that can be e network.

rs when data is aggregated manner. The motivation for s found in a MapReduce tion of intermediate results -phase computation. Incast velength manipulation of  additional dimension of dules consisting of passive ultiplexers can be used to from various sources to a zation of the bandwidth multiplexing (WDM) to and single-configuration  ed. An alternative approach al space switches with mes and time-division  traffic delivery among a set n MapReduce shuffle [13]  ncurrently exchange data.

onsist of multiple unicasts nd multicast primitives. As  can similarly utilize a technologies to efficiently  ns. For example, arrayed ement a multiport passive ultiple unicast-like pattern.

iple multicast modules and super-module supporting  terns.

*-cast based data delivery  both energy and capacity or example in multicasting, ng passive optical splitters, lexity associated with the ed multicast capable core  data rate transparency of d for costly conversions cal domains. This design of the photonic fabric from pport for speeds beyond 40 e fabric.

PLANE e, either the application device or based on the  ler is implicitly notified to traffic demand is estimated pancy at run- time. In [6],  otonic devices based on the approach, a control plane is  ONDM 2014, 19-22 May, Stockholm, Sweden  2014 copyright by IFIP 74    required to dynamically allocate the photo manage the traffic between the optical network and the electrical packet switched n shows the role of the control plane in our netw Management of optical devices by the contr investigating methods of abstracting the functionalities to the high layers for fl arbitration of physical layer services.

Fig. 2(b) shows the layer block diagram layers that consists of the Application/Serv Plane, and the Data Plane layers. Our appro the control plane is to provide application-def the application/service directly interacts w controller via requests/calls for network se services are arbitrated by concurrent contr resource controller and OpenFlow-enabled which provides both optical resources and simultaneously. This network controller inter knowledge of actual physical layer comp they are optical or electrical?allowing ap demands to be seamlessly allocated to s devices based on the traffic pattern (unicast,  (a)  (b) Fig. 2.  (a) Application/service requesting photonic controller based on the traffic -*cast pattern, (b) Layers of the Application/Service, Control Plane, and Data Plan  onic devices and circuit switched  network. Fig. 2(a) work architecture.

rol plane requires e optical device ow control and  m of our network vice, the Control oach in designing fined networking;  with the network ervices. Network rol of an optical electrical switch,  d network paths, face removes any  ponents?whether pplication/service specific photonic multicast, incast,  all-to-all-cast). The status of traf reported by the network controller u connection is ready and available informs the application/service to sta  Network Controller: A key part algorithm to maximize the networ compute the corresponding circuit a multicast-enabled network, findi configuration when the traffic dema multicast can be formulated as a problem [14]. While NP-hard, but approximation algorithms exist [1 explore one particular approximatio the performance of the greedy algor the feasibility of our architecture w plane.

Additionally, APIs are required table of the ToR switches and a resources in the physical layer. C OpenFlow switch by the OpenV command-line, however in the de plane, we are using the open sourc [18] and OpenDaylight [19] to c through the control plane. For the o we have developed a Java-base connectivity of the OSS fabric via th

IV. RESULTS AND D Fig. 3(a) shows our datacenter  evaluate an end-to-end feasibility of The test-bed consists of 4-nodes eac network interface card (NIC), OpenFlow-enabled Gigabit Ethern partitioned into four logical ToR uplink and downlink ports. The 4 commodity 8-port Gigabit Ethernet piezoelectric beam-steering optical a connectivity substrate of photonic  The photonic device used to multicasting was a 1:3 passive attached to the subset of the optical end performance of our architecture implementation of a reliable multic hosts using JGroups [20], a toolkit communication. In our experiment, as the sender and three nodes confi receiver. By appropriately configurin and setting the necessary OpenFlow all the multicast traffic generated by input port of the 1:3 optical splitter were connected to the receiver nod traffic originated from the receiver routed through the GbE network splitter. Through continuous runs measured JGroups? throughput perf over just an electronic packet switc system. We observed the effective      resources from the s diagram composed ne.

ffic-specific resources are upon request; if a particular e, the network controller art data transmission.

of the Control Plane is the  rk-wide throughput and to allocations. For the optical ng the optimal circuit  and is a mix of unicast and Weighted k-Set Packing many solutions based on  4-16]. Our initial studies on [16] in order to analyze rithm [6], shedding light on with respect to the control  to first manage the flow also the optical hardware Currently we manage the VSwitch [17] using the evelopment of the control ce APIs such as Floodlight control the ToR switches optical hardware resources, ed API to manage the he TL1 protocol.

DISCUSSION r test-bed architecture to f multicast traffic delivery.

ch with a Gigabit Ethernet connected to a Pronto  net switch. The switch is Rs, with Gigabit Ethernet  ToRs are aggregated by a t switch and also a Polatis space switch which acts as devices.

o enable physical layer optical splitter that was switch?s ports. The end-to- was evaluated through the cast application at the end enabling reliable multicast one node was configured igured to join the group as ng the optical space switch  w rules at the ToR switches, y the sender was sent to the  and the three output ports des. Any back-propagating  nodes to the sender were isolated from the optical  s of the application, we formance across two cases: ch and through our hybrid saturation of the sender?s  ONDM 2014, 19-22 May, Stockholm, Sweden  2014 copyright by IFIP 75    output interface in both cases, demonstrating functionality of our architecture.

In order to evaluate the performance of ou multicast traffic delivery, we looked for e group data delivery methods for large data data centers. We found out in current data cen multicast traffic is transmitted either in sequen more advanced peer-to-peer software so BitTorrent [21]. Sequence of unicast t definitely much less efficient than optical mu compared our system with BitTorrent as software solution. There are several imp BitTorrent with various performances; Twitt one of the most efficient implementations, us distribute files to a large amount of s production environment. The efficiency im Murder compared to regular BitTorrent Timeouts, 2) Encryption disabled, 3) Distrib (DHT) disabled, 4) Upload from memory, Plug and Play (UPnP) disabled. We compar transmission of different file sizes among fou optical multicasting using JGroups protocol to-peer using Murder?and measured the shown in Fig. 3(b), the transfer rate of the op  (a)  (b) Fig. 3.  (a) End-to-end experimental test-bed to evalu delivery, (b) comparison of transfer rate for different d approach and Murder   g the viability and  ur architecture in existing efficient a transmission in nter architectures, nce of unicasts or lutions such as transmissions is lticasting thus we s a peer-to-peer plementations of ter Murder [8] is sing BitTorrent to servers within a mprovements in are: 1) Shorter  buted Hash Table and 5) Universal  red multicast data ur nodes by?first and second peer- transfer rate. As  ptical multicasting  using JGroups protocol is above 8 This represents over 80% link cap the hosts and ToR switch ports).

more efficiently with larger file siz 50% of link capacity (500 Mbps) f experiments, we did not extend the we believe group data delivery of la reality in data centers applications [7  Our end-to-end experiment wa implementation of the control plane and the OpenFlow switch were co four-node multicast experiment.

development of the control plane b section II. We believe our design o viewed as the first step towards Defined Networks (SDNs) abstr networks in datacenters.

There are still many open questio research work: Interaction of th network: As the optical network rep it may not be able to serve all heavy the system. Although the electrical some schemes can be used to help w For example for multicast traffic Murder can act as a complement solution. Physical Layer Abstracti switches and routers, switching an traffic patterns are typically delivere by enabling physical layer data assumptions made by traditional la To address these conflicts, modifi these protocols are unavoidable behaved interactions between the e infrastructure and new advanced Control Algorithm: In order to m decisions, the controller has to obt correlated flows. [4] and [5] both re demand estimation and traffic in proposed the direct interaction of th individual application controllers, w application?s task placement and tr precludes any application modific suboptimal results [23]. The latter specification of communication application, but can yield more glob example, a series of light-weighted favorable than a bulk unicast transfe is collecting data for a subsequent co both methodologies in the context architecture to determine whethe combination of both techniques will

V. CONCLUS In this work we presented a hybr  accelerate cast-based traffic deliv design is based on the physical laye the SDN concept. This design ben OSS as a platform to connect p  uate multicast traffic data size between our  00 Mbps in all the cases.

acity usage (GbE NIC on Murder seems to perform zes with the maximum of for a 5GB file size. In our file size above 5GB since  arger data sizes is far from 7-11].

as evaluated without the e. The optical space switch onfigured manually for the  We have started the ased on the description on  of the control plane can be s designing the Software ractions for the optical  ons for investigation in this he optical and electrical presents a limited resource, y-loaded traffic demands in network is generally slow, with big data transmission.

delivery, BitTorrent as in t of the optical multicast on: In conventional packet nd routing of the various ed at L2 and L3. However, a routing, we break the ayered network protocols.

ications or abstractions to in order to define well-  existing electronic network d photonic technologies.

make intelligent scheduling tain information about the ely on application-agnostic ference. Meanwhile, [22] he network controller with which keep track of each raffic volume. The former cations, but can produce r will require the explicit  requirements from the bally optimal solutions. For  incast flows may be more er, because the incast node omputation. Exploration of of our optically enhanced  er one, the other, or a yield the optimal results.

SION rid network architecture to ery in data centers. Our  er photonic technology and nefits from leveraging the assive and active optical  ONDM 2014, 19-22 May, Stockholm, Sweden  2014 copyright by IFIP 76    devices. Modularity, data rate transparency and energy efficiency are the main advantages of our method. Moreover, management of the network layer based on the application/service layer requirements can be viewed as the first step towards designing Software Defined Networks (SDNs) for the optical (physical) layer. It has the potential to significantly enhance the performance of optical networks and to transform the way control and management is performed.

We are now finalizing our first implementation of the control plane; however there are many open questions yet to be answered.



VI. ACKNOWLEDGEMENTS: We would like to thank T. S. Eugene Ng. and Yiting Xia at  Rice University for their ideas on the design of the control plane. We would also like to thank Polatis for providing the optical space switch.

