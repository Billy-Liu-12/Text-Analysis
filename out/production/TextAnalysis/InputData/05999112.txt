Predictions in Antibiotics Resistance and nosocomial infections monitoring.

Abstract  Nosocomial infections and antibiotic resistance are re- garded as critical issues both in clinical medicine as well as in Public health, thus understanding their epidemiol- ogy is a priority in the health sector. Our research aims at demonstrating that data mining techniques, such as regres- sion, classification and association rules and assist in dis- covering interesting patterns in the epidemiological trends of antibiotic resistance in Greek Hospitals. In this work, we present a novel framework which integrates data from multiple hospitals and discovers association rules stored in a data warehouse. Furthermore, this data warehouse is used as a source for extracting interesting and valid predic- tions by applying techniques such as regression and clas- sification. Our system is fully operational and treats real- world data from the WHONET, a software installed on the majority of Greek member hospitals of the ?Greek System for Surveillance of Antimicrobial Resistance? network. The contributions of the proposed framework are i. a standard- ized workflow for the seamless integration of data produced in various hospitals into a consistent data warehouse and b. the use of a mechanisms to predict hidden future be- havior on large datasets, using regression and classifica-  ?Prof. M. Vazirgiannis is partially supported by the DIGITEO Chair grant LEVETONE in France and the Research Centre of the Athens Uni- versity of Economics and Business, Greece  tion algorithms, which can provide significant surveillance warnings.

1. Introduction  The increasing rate of isolation during the last years of bacteria which are resistant to antibiotics in hospitals and the society is considered a main Public Health threat in many parts of the world. The respective infections are diffi- cult to be treated since few antibiotics remain active against the respective infectious agent. Moreover, these antibiotics are expensive and in few accessions toxic and pharmacoki- netically/pharmacodynamically less appropriate.

Antibiotic resistance is the result of various genetic alter- ations in the bacterial cell such as mutations of the target site of the antibiotic the acquisition of efflux pumps, and more importantly the acquisition through horizontal gene transfer among bacteria of genes, encoding for enzymes that destroy the respective antibiotic, such as beta lactamase etc.In that respect the epidemiology of antibiotic resistance is the re- sult of the spread of pathogenic bacteria evolving through mutations and or acquisition of genes.

Surveillance of antibiotic resistance is based on moni- toring the aforementioned mobility of bacteria, as well as of genes, and is carried out either through the collection and study of representative bacterial isolates or through the    analysis of routinely collected data from the microbiology laboratories of the hospitals.

In Greece, a national network for continuous monitor- ing of bacterial antibiotic re-sistance in the Greek hospitals (Greek System for the Surveillance of Antimicrobial Resis- tance) is in place since 1995 [6]. Its function is based on the assumption that the routine results of the antibiotic sensitiv- ity tests performed daily in each hospital clinical laboratory should be considered as a major resource for antibiotic re- sistance surveillance.

Moreover, and since the quality and compatibility of these data are in principle uncertain, our approach is to work in parallel, on both accessing the data and assess- ing its quality. This is accomplished through the establish- ment of a quality control procedure and the adaptation of a source code and data format in all hospitals through the use of the Whonet software[7], originally developed by WHO Collaborating Centre for Surveillance of Antibiotic Resis- tance in Boston USA and further developed in the Division of Emerging and other Communicable Diseases Surveil- lance and Control, WHO (WHO/EMC), Geneva, Switzer- land [7][8].

The WHONET software is adopted as a common soft- ware platform, due to its friendly, flexible features to ex- panding the pyramidal reporting structure and capability to interface with other statistical packages and programs.Data is being collected from all sources every 6 months, ana- lyzed and relevant reports are published in the respective Web site: www.mednet.gr/whonet. However the complex- ity of the antibiotic resistance phenomenon, the fact that it involves many bacterial species, evolving bacterial clones and horizontally transferred genes, gave rise to the pursue of techniques for further analyzing these data, in order to reveal hidden associations, time trends and time/space clus- tering, important for an effective strategy to confront the an- tibiotic resistance epidemic. For the above reason numerous Data Mining Algorithms have been recently used to extract knowledge from large databases. [3][4][5].

Since traditional manual activities such as antibiogram summaries are proven to be time consuming, the produc- tion of measures and patterns is often not up-to-date and many useful patterns remain undiscovered.For these rea- sons, we designed and developed a web based framework that contributes to the antibiotics? resistance surveillance while identifying outbreaks in antibiotic resistance and ap- plying extensive analysis of hospital data. In addition to this, many other studies [2][3] data. Our system i. supports data collection from multiple hospitals via a user-friendly interface, with data noise cleaning capabilities. The data are stored in a central data warehouse. ii. Based on state of the art data mining algorithms (such as: association rules, Support Vector Machines and Linear Regression) extract useful previously unknown patterns to build antibiotic sen-  sitivity prediction models as well as nosocomial infections forecasting and iii. An advanced visualization and repost- ing mechanism via customizable graphs in order to instantly present critical information to experts and thus, make data management and decision making easier and more effec- tive.

The paper is organized as follows: in Section 2 we present the architecture of our model and data format, in Sections 3 we present the results of our a many-fold data analysis, while in Section 4 we conclude with a brief sum- mary and further research directions.

2 System Model  Our system is a web based framework which manages the collection and integration of incoming public health data from multiple hospitals. While in a previous work [2] we report on a system to extract association rules, here we ex- tend this idea by providing new features for prediction and visualization of data capitalizing on these association rules.

Specifically, we provide visualization of the temporal valid- ity of these rules. We also attempt predictions regarding a.

the future validity of the rules and b. the antibiotic resis- tance of bacteria based on the public health data stored in a data warehouse.

2.1 Data  The data set used in this work were collected via the WhoNet system during the period 2003-2009. The data are stored, preprocessed, cleaned and formatted with the usage of an interface which we developed for this purpose. Here we discuss the attributes we use in our analysis regarding the bacterial strain and a sensitivity test, isolated from a patient contatining the following features: organism group (bacterial species), specimen group, department the patient was hospitalized, the period of time the strain has been iso- lated (we use trimesters in our implementation) and the re- sistance at antibiotics which have been tested to the specific bacteria - see Table 1 for a summary of the data we capital- ize on. The data set consisted of 1768 training instances of the data (association rules retrieved), including 442 organ- ism groups, 53 specimen groups, 56 hospitals in Greece and 41 types of antibiotics.

2.2 Extraction of Association Rules  An initial data mining step involved the extraction of as- sociation rules (a very popular technique to discover corel- lations) representing non obvious relations and hidden pat- terns in public health data. The produced rules are aggre- gated and stored in an appropriate warehouse which pro- vides easy access to the them. The algorithm which has    Name Type Specimen Group wound,blood,urine Hospital GR0001,GR002,...

Period 1-3/2003,4-7/2003,?

Department icu,meth,out,...

Organism Group E. Coli,...

Antibiotic Resistance Resistant, Intermediate,Sensitive,...

Table 1. Data attributes and values  been used to produce the association rules is the Apriori [2] [3] and its pseudo code described in figure 1. The extracted rules have the specific format  Specimen, Hospital, Department, Period, Organism ? AntibioticResistance or  Specimen, Hospital, Department, Period,? Organism and are used for further statistical analysis in order to pre- dict the future behavior of these rules. A sample from the extracted rules are displayed on Tables 2 and 3.

Figure 1. Apriori Algorithm  LHS RHS Specimen Hospital Depart. Period Pathogen  Genital GR61 out 4-6/2003 Strept.

Table 2. Sample for first type of extracted as- sociation rules  2.3 Prediction methods design  The temporal dimension of the nosocomial infections and antibiotic resistance data is a critical one. We attempt,  LHS RHS Spc. Hosp. Dep. Per. Path. Antib. Res.

UR GR61 out 1-6/05 E.coli CLI R  Table 3. Sample for second type of extracted association rules  via state of the art data mining methods, to predict the va- lidity of the extracted association rules. The techniques we used include: time series analysis for statistical analysis and Support Vector Machines. Hereafter we elaborate on the us- age and results of those methods.

2.3.1 Linear Regression  In most hospitals, it is vital to forecast the trends in the iso- lation rate of a variety of pathogens and the antibiotic resis- tance. In that respect we used the association rules which were extracted before in order to check their temporal valid- ity and their future behavior. In this work we used two basic interestingness measures, confidence and leverage, which as mentioned before provide measures on the interesting- ness and validity of the specific rule.

Assume a set of n association rules for which we ob- serve the leverage and the confidence values of m time?s steps as the most interesting measures for association rules.

Let y1i = (x1i1, ...., x1im) be the leverage values of the ith rule at the time points t = (t1, ..., tm) and x2i = (x2i1, ..., x2im) be the confidence values of the ith rule at the time points t = (t1, ..., tm). Further, we assume that the n x m design matrix X1 stores all the observed lever- age values and n x m design matrix X2 stores all the ob- served confidence values such that each row corresponds to a rule and each column to a time point. Given these observa- tions we aim to predict the leverage X1i(?) and confidence value X2i(?) for each rule ith at some time t?. t? will typ- ically correspond to a future time point, i.e. t? > ti, with i = 1, ...,m. We now discuss discuss a simple prediction method, based on linear regression, where the input variable corresponds to time and the response variable is the lever- age or the confidence value. The general linear regression equation for a line that fits data is  x = a+ b ? t  where t the independent variable - time (represented by the id of the respective trimester), x the dependent variable (confidence or leverage) and a, b are the constant regres- sion parameters that must be computed to optimally fit a line to the available data points. The a, b parameters are determined based on the following equations :  a = ( ? x) (?  t2 ) ? ( ? t) ( ? tx)  (n) ( ? t2)? (  ? t)2    b = (n) (  ? tx)? (  ? t) ( ? x)  (n) ( ? t2)? (  ? t)2  2.3.2 Classification  The second method for prediction we employ in our frame- work is the SVM classification algorithm aiming to predict the antibiotic resistance of certain organisms in hospitals seasonally. A summary of the attributes used can be seen in Table. 1.

Our effort to deal with the classification problem utilizes three classifiers. However, after an extensive series of ex- periments the Support Vector Machine algorithm presented the best classification results.

Support Vector Machines (SVM) are learning predictors based on the Structural Risk Minimization (SRM) principle from statistical learning theory. The SRM principle seeks to minimize an upper bound of the generalization error rather than minimizing the training error (Empirical Risk Mini- mization). This approach results in better generalization than conventional techniques based on the ERM principle [4].

Consider an n-dimensional object x which has n coor- dinates x = (x1, x2, x3, ?, xn), where each xi is a real number xi?R for i = 1, 2, ..n. Each object xj belongs to a class yj?[?1,+1]. Furthermore, we have a train- ing set T of m objects together with their classes, T = (x1, y1), (x2, y2), ?, (xm, ym). A dot product space S in- cludes the objects x and are embedded x1, x2, ..xm?S. Any hyperplane in the space S can be written as (x?S|w?x+b = 0). The dot product w ? x is defined by:  w ? x = k?  i=1  wixi  A training set of objects is linearly separable if there exists at least one linear classifier defined by the pair (w, b) which correctly classifies all training objects. This linear classifier is represented by the hyperplane H (w ? x + b = 0) and defines a region for class +1 objects (w ? x + b > 0) and another region for class -1 object (w ? x+ b < 0).

After training, the classifier is ready to predict the class membership for new objects, different from those used in training. The class of an object xk is determined with the equation:  class(xk) =  { +1 if w ? xk + b > 0 ?1 if w ? xk + b < 0  Therefore, the classification of new objects depends only on the sign of the expression w ? x + b. In our implemen- tation objects x are association rules in a specific form and with them we can predict the future resistance of specific pathogen organisms.

3 Experimental Methodology  3.1 Experimental protocol  A very important concept in machine learning and data mining is the overfitting issue occurring when a model is too perfectly fit to a limited set of training data points. Then the resulting model cannot predict to satisfatory degree for unknown data and thus, the accuracy of the model is low.

For these reasons, there are many techniques to tackle this issue. One of them is the cross validation technique which we used in order to produce an accurate prediction model and not waste data for testing.

In cross validation we divide the data into k folds. For each fold, we use the whole data set excluding the current one as a learning set and the rest data is being used as a test set. The mean error on each fold gives a low biased estimator. In our implementation we used the 10-fold vali- dation once many references describe that accuracy differ- ences for additional folds are insignificant[10]. On the other hand, in the linear regression approach we chose the follow- ing method to avoid overfitting. The user defines the num- ber of T time points ranging inside the interval: [3, n ? 1), where n is the last (most recent) timestamp in our data. The choice to use the aforementioned range was taken due to the fact that, after extensive experimentation, a stable pre- diction model could only be extracted when having three or more observations for confidence/leverage-timeslot mea- surements per rule. In addition, the most accurate model extracted consisted of m observations, where m is equal to (timestamps? 1).

In addition to this, we measure the accuracy of our model through a variety of statistical measures such as TP Rate, FP Rate, Precision, Recall, F-measure. TP is the number of items correctly labeled the proper class, FP is the number of objects falsely classified to the proper class. Precision is a measure of exactness while recall is a measure of com- pleteness and finally, F-measure is the weighted harmonic mean of precision and recall.

3.2 Experiments and Results and Goals  3.2.1 Linear Regression Analysis  Regarding the association rules, we experimented with all the pathogen microorganisms as members of the RHS in rules and the results are comparable. Due to lack of space we report only the results on Esc. Coli that are representa- tive of the whole result set. As we can see in Figure 2 there are some repeated patterns for the specific association rules and outbreaks with regards to the confidence and leverage.

From this, we can infer that in certain repeated periods there is a high isolation of this pathogen organism (the pathogen    Esc.Coli in our case) so we should be prepared to avoid the spread of this organism. We claim hospitals could benefit from this framework and can exploit all these observations in order to prevent hospital-acquired infections. Figure 2 presents some of our predictions. It is clear from the results that predicted values for confidence and leverage are very close to the real values and assure thus a robust prediction framework in this context. The prediction error is calculated as follows: error = |expectedvalue? predictedvalue| .

Figure 2. confidence and leverage values which produced via the Apriori Algorithm. As we can see at the values there are some re- peated peaks of the leverage and confidence among the time which inform us about high Sensitivity(S) at the antibiotic AMC of the E.coli organism (eco).

Regarding the linear regression method, we used ten (10) time points in order to determine the curve (y = ax+ b see section 2.3) and we predicted six (6) time points based on curve which calculated before. In the graph of fig.3 is illus- trated the amount of prediction error and is indicated how low is for each rule. Through the Linear regression we can predict the future importance of the rule and as a result fore- cast outbreaks to the presence of a pathogen organism. For example, If a rule like: Urine, Gr0061, out, t1? E.coli oc- curred with a confidence near the value 1 we could inferred that in the urine at Gr0061 and in the outpatient department and at the time point t1 Escherichia coli is isolated in a rate higher than expected. Furthermore, due to the visualization  Figure 3. Regression Error rate for predicted confidence and leverage values  of the data we can observe some repeated trends and pat- terns during the months.

3.2.2 Classification  Valid and reliable automatic disease classifiers are consid- ered as vital components of a antibiotic resistance moni- toring system. In our work we measured the actual perfor- mance of three classifiers (Naive Bayes, SVM, C4.5, imple- mented in the open source library of Weka 3.7) designed to early detect special cases of antibiotic resistance that have regularly occurred often in hospitals. We formulated a clas- sification problem aiming to predict the antibiotic resistance of a pathogen based on data concerning the following at- tributes: hospital, specimen group, department of a hospital, the pathogen organism and the respected season. The accu- racy results of our implementation are shown in Table 4. As we can see all three algorithms have similar results accord- ing to the measures mentioned above. However, Support Vector Machines has achieved the best results in compar- ison to the rest of the algorithms according to F-measure which is essential for distinguishing accurate from inaccu- rate structures. Furthermore, TP- rate values are consider- ably high which means that all three algorithms can predict correctly pathogen organisms which may observed in a hos- pital. With, this type of predictions it is feasible to forecast possible diseases that could be acquired during the upcom- ing trimester and the resistance on antibiotics for these dis- eases.

These algorithms models are being trained on historical data stored in our data warehouse and a prediction on the an- tibiotic resistance of the pathogen organism is made for the next trimester. For a example for a given organism, spec-    imen group, antibiotic, hospital and season we can predict with 98 percent accuracy the antibiotic resistance for the specific organism. In Table.2 we illustrate a prediction ac- curacy of each aforementioned algorithm.

Measure Model Naive Bayes C4.5 SVM TP Rate 0.946 0.935 0.978 FP Rate 0.469 0.78 0.157 Precision 0.942 0.915 0.978 Recall 0.946 0.935 0.978 F-measure 0.943 0.919 0.978  Table 4. Prediction Quality for Escerichia coli  The results are apparently very attractive as all the used measures reveal a quite precise prediction rate for all mea- sures and algorithms. In most of the cases the Support Vec- tor Machines algorithm gives the best prediction results.

4 Conclusion and Discussion  Surveillance of nosocomial infections as well as antibi- otic resistance are two of the most important functions of a hospital infection control program. In public health and more specifically in surveillance of antibiotic resistance, it is important to discover new associations and patterns be- fore they become widely spread in a hospital or a region.

Furthermore, is real important to predict future behavior from epidemic data in order for hospitals to be prepared for outbreaks at the isolation of pathogen organisms. In this paper we have presented a fully functional and im- plemented framework for predictions and visualization for in this context. The systems capitalize on the real world data of the Greek national network for continuous monitor- ing of bacterial antibiotic resistance in the Greek hospitals (Greek System for the Surveillance of Antimicrobial Re- sistance) in place since 1995 [6]. We achieved robust and accurate predictions that are quite promising in terms of bet- ter understanding the problem and patterns of Nosocomial infections. Moreover the system offers a friendly interface which could be used by people who are not data mining ex- perts. The results were achieved using data with patients over the last seven years. Finally, future work will be de- voted in using larger data set collections, spanning proac- tive time periods. Likewise, infection control systems re- quire or will require data mining tools such as clustering for further research about future trends. The system im- plementation and full functionality is available on line at http://195.251.235.83/en/index.html .

