THE AUTOMATIC DIAGNOSIS SYSTEM OF BREAST CANCER BASED ON  THE IMPROVED APRIORI ALGORITHM

Abstract: This paper introduces computer-aided diagnosis,  association rules and its application in the medical field, and  proposes an improved Apriori algorithm combined with the  characteristics of breast cancer data. By the mining decision  rules, doctors can greatly improve their diagnostic efficiency  and accuracy for breast cancer. Using the mining decision  rules, we can also establish medical knowledge database, and  provide useful data resource for the future medical research.

Keywords: Breast cancer; Association  Computer-aided diagnosis;  1. Introduction  rules; Apriori;  Breast cancer is a common malignant tumor disease with high incidence and occult incidence. According to incomplete statistics, there are about 120 million new cases of breast cancer, and 500000 cases of resulting deaths around the world each year[l].

Mammography is the first choice to diagnose  mammary diseases, especially breast cancer. However, the  imaging quality is limited for the density of each part of the breast tissue is very approximate, causing doctors to ignore many subtle lesions. Computer-aided diagnosis technique can provide doctors with a "second opinion" that has better repeatability and consistency. This may greatly improve the true positive rate in diagnoses.

2. Computer-aided diagnosis  Computer-aided diagnosis means the computer assists radiologist to find the nidus based on medical image processing, imaging and other physiological & biochemical method. It can improve the accurate rate of diagnosis result.

The main task of computer is to get lots of quantified data related to the human body, and then process, display and   analyze them.

With the rapid development of computer and the  extensive application of the Internet, more and more hospitals have used the picture archiving and communication systems (PACS) to collect a large number of medical images and other related medical parameters of patients[2,3]. In this context, the goal of the computer-aid diagnosis system is to make the doctor diagnose the disease rapidly and accurately by using the decision information provided from the previously confirmed cases and the information of the current patient case, as well as the doctor's diagnosis experience [4].

Computer-aided diagnosis mainly includes collecting the patient examination data as well as living habits information, and transforming them into medical information, and then performing quantized and statistical analysis, until getting the final diagnosis[5]. Computer-aided diagnosis in medical imaging is usually divided into three steps: the first step is to find the pathological lesions from the normal structure; the second is to quantify the image feature; and the third is to analyze the quantized image feature data, process it and get the final diagnosis result.

Removing the human subjectivity, computer can make precise and quantitative calculation on medical image information. In this way, it avoids the different diagnostic results influenced by the knowledge and experience from different doctors. Thus, the diagnosis result will be more accurate and scientific. With the development of science and technology, the technology fusion of computer-aided diagnosis, image processing and PACS system make it easier and more accurate. Thus will extend the range of clinical application.

At present, computer-aided diagnosis is relatively mature in analyzing lungs and breast lesions, while research on brain tumor, cerebral perfusion, liver disease, virtual cavity mirror and Chinese medicine is in the early stage.

3. Association Rules  Data Mining is a kind of decision support process, which is mainly based on artificial intelligence, machine learning, statistics and other technology[6l. It can highly automate analysis of original data, make inductive reasoning, mine the potential model, and predict customer behavior. Then, it can help the business decision-makers to adjust market strategy, reduce risk, and make the right decision[7l.

Association rules are one of the main modes of data mining, focusing primarily on interesting association between large amounts of data. The earliest research in this concerns finding out the associations between different commodities in the customer transaction database, as well as the customer purchase models[8l. Based on this, researchers had begun to expand this data mining field. It is the important characteristic that the association is a stochastic combination, which helps to find models of all existing attribute subsets. The application of association rules in medicine can discover association of various attributes in medical data, and this helps medical diagnosis[9l.

Apriori algorithm is a classical algorithm of mining association rules. Its core consists in mining frequent item sets in a circular hierarchical sequence. Then it generates the association rules that conformed to the minimum confidence, according to the final mined maximum frequent item sets.

According to the characteristics of breast cancer medical data, this paper improved apriori in three aspects, and successfully mined the rules which can assist doctor diagnosis.

4. The mining of breast cancer diagnosis  The paper selects five simple data sets of breast  disease to mine rules (minimum support degree is 40%,  minimum confidence degree is 80%) . Table 4-1 is the  original medical data table.

TABLE 4-1 THE ORIGINAL MEDICAL DATA TABLE  age position calcify tissue class  23 L Y dense abnormity  32 L N dense normal  46 R Y dense abnormity  51 R Y fatty abnormity  16 R N glandular normal   4.1 Establishing mining item  We take five attributes "position, age, calcify, tissue, class" as mining items. Each attribute has several different values, and we use the form of "attribute. value" as the [mal mined item. The result is shown in table 4-2.

TABLE 4-2 ATTRIBUTE TABLE  1. age: 1. I,age<40, I.2,age)=40  2. position: 2. I,L, 2.2,R  3. calcify: 3. I,Y, 3.2,N  4. tissue: 4. 1, dense, 4.2, fatty, 4.3, glandular 5. class: 5. 1, abnormi ty, 5. 2, normal  The mining database is shown in table 4-3.

TABLE 4-3 MINING DATABASE  age position calcify  1.1 2.1 3.1  1.1 2.1 3.2  1.2 2.2 3.1  1.2 2.2 3.1  1.1 2.2 3.2  4.2 Generating frequent item sets  tissue  4.1  4.1  4.1  4.2  4.3  class  5.1  5.2  5.1  5.1  5.2  The cormection rule of apriori is to link the two frequent (k-1)-item sets if they have the same (k-2)-item sets. For example: we can get "1.1,2.1,3.1,3.2" by linking "1.1,2.1,3.1" and "1.1,2.1,3.2". However they are not linked in the breast cancer diagnosis. This is because "3.1" and "3.2" are two different values of one factor (They both describe the attribute "calcify"). They repel each other, and so it is impossible for them to exist together. Therefore, in this situation, we do not link them together. Thus, after the linking work, and through the screening of the 40% min_sup, we will get the frequent k-item sets which satisfy min_sup.

We get the frequent 4-item sets "1.2, 2.2, 3.1, 5.1" finally, with min_sup 40%.

4.3 Making rules  In the classic association algorithm, we gather all non-null subsets of frequent item sets L. Then, to each non-null subset S ofL, we produce an association rule: "S7 (l-s)" if its confidence degree is not less than min_con? Thus, there will have multiple attributes in the right end of  rules, such as "1.1 ;\2.1 ;\3.1->4.1 ;\5.1"  However, in the breast cancer diagnosis system, what     we want to get is a decision-making rule which can assist doctor, rather than the relationship among attributes. That is, firstly, the class attribute (5.1 or 5.2) can only appear in the right side of the rules. Secondly, there can no longer be other attributes in the rule right side, in addition to the class attributes. Therefore, in the final rule generation, we can only calculate the confidence degree of the subsets except the class attribute. For instance: for frequent item set "1.2, 2.2, 3.1, 5.1", we only calculate the confidence degree of  "1.2, 2.2, 3.1". That means S= "1.2, 2.2, 3.1". It  generates the rule "s 7(1-s)", i.e. "1.2, 2.2, 3.1->5.1" if  its confidence degree is larger than the min_sup. Lastly, connecting the attribute table (table 4-2), we convert it to easily understandable rule: "age>=40 and position=R and calcify= Y =>abnormity" (min _ sup:40%, min _ conf: 1 00%)  5. The auto diagnosis system  We developed the auto diagnosis system mainly with VB and SQL. The mining process is as follows.

5.1 Selecting database  This system can mine data which is saved as * .mdb or *.txt form. Select the breast database and mining type, and then click the "Import" button. The system will import the selected database into it.

? The Auto D1agnos1s Systea of Breast Cancer ?(gJL8J Select Dat abase: -- -  ? Ir:\breast cancer\database::::J ? Type: I decision_making ::::J  .Select Table: -  r.ttribute_nMl? frequent_Lar;;;eI tems Laq:eItem SmallItem Sublhm SubItem_All  Figure 5-1. Importing database  Please select the database with .. . txt Of *.mdb fonn.

We should also select the table concluding attribute code and attribute name, in order to transform the rules for easy understanding.

? The Aut 0 D1agno:ns Syst e. of Breast Cancer ??(g]  I Select database:  I ? " '\b"." oano"ld.taba"lat:.::J ?  Attribute Table:  frequent_Large! tem:;; Larg .. Item SmallItem SubItem SubItem_lll  Input:  Fields in table:---  attribute id r.ttribute=n'illl" RemItem Confid .. nce  Tabl, n?"  I " m but _n?  Attn.but e code: ?ttri bute_i d  Attribute name: lattribute_n'illle  Figure 5-2. Select attribute table  5.2 Setting min_sup and min _ conf  Please select the t able concluding attribute code and attribute name, in order to transform the rules easy underst anding.

The second step is to input min_sup and min conf, which control the mining result. After that, click "Data Mining" button, and the system will begin to mine the decision-making rules.

? The Auto Dl.agnosl.s Syste. of Breast Cancer ??l8J Inpm min _ 5up and min _ conf  You should input two limit value between 0 and 100%, in order to mining om rule5 . r PI .. " Input,  run_sup  mln_conf ] 1 ? Data Mining ,I E Front I Q Quit  Figure 5-3. Input min_sup & min_conf  5.3 Mining rules  The original rules mined out are the classic association rules, which may have not only one attribute in the right side of rules.

? The Auto D?agno:ns Systea of Bl:cast Cancel: ??(8] There are all the association rules conformed to the min_sup and min_coni. You can click "Screening" button to sift out the decision_making rules  Rules:  R"h Support Confi denc &/\ Y I\abnormj ty--hge>=40  a.ge)=40/\ Y/\ abnon.i ty-->R  8.ge)=40ARAahnonRi ty--)Y  8.ge>=40/\R/\ Y-->ahnomi ty  R/\ ahnormi t -)age>=40/\ Y  R/\ Y--)age>=40/\ ahnormi ty  ag.;,>=401\il.bnormi t;r->R/\ Y  ag:",}.:::40/\ Y-->R/\ abnormi ty  age>=40/\R--)Y/\abnormi ty  ag ... >=40--)R/\ r /\ abnormi ty  o 4 0.4  0.4  0.4  o. , O. ,  10 Rules  Screening I ? Sa\?e I E Front I Q Quit  Figure 5-4. Association Rules  Click the "Screening" button, and the system will sift out the decision-making rules.

? The Auto D?agnosJ.s Systea of Breast Cancel: ??:r.8]  Rules:  &.g ... >=40/\R/\ Y-->e.bnormi ty  Support Confi den  0.4 i 1  1 Rules  ? Save I E Front I Q. Quit  Figure 5-5. Decision-making Rules  This system can mine rules not only in breast cancer field, but also other decision-making fields, such as other medical fields, agriculture data, and so on. It can also be used in mining the classic association rules, for example, in the customer trade database.

6. Conclusions  This article improved apnon III three aspects: the establishment of the mining database, the generation of frequent item sets, and the production of the decision-making rules, improving the efficiency of mining algorithm. Combining the mined decision-making rules, we   can not only improve the efficiency and accuracy of the breast disease diagnostic, but also establish the medical knowledge database, which will provide powerful data resources for future medical research.

