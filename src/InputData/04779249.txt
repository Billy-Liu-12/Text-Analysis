The Design and Implementation of Online Video- Distributing System Based on the Technology of

Abstract?With the fast development of Internet technology, human society is moving into an information age. Digital city, as well as digital earth, has become a new symbol of the progress of society, and at the meanwhile, in order to represent the real world, as we know, GIS has been proved to be the most effective technical platform. Traditional GIS map service generally provides some simple spatial data analysis, such as the enquiry of the location, the shortest path analysis, analysis of the buffer zone, and so on .People online ask for more services with a growing demand nowadays , so these services can no longer meet the people's needs, not only the shortest path between the two places what the computer is giving , they would also like to know more detail about information of this strange street, such as the special features along the street ,so that they can have a direct sense of the street. In order to meet people's needs, and promote the development of GIS map service, the author studies on this area. As we know, there are so many ways to design a WebGIS platform, and this paper chooses a popular one. Based on the technology of asp.net, we can use the ArcIMS to distribute our maps, which is a product of the ESRI, and the activeX to distribute our video, which has been edited. Generally, when you establish a geographic information system, the big problem is the acquisition of data. The vehicle-borne multi-sensor system gets this problem solved. The GPS, one sensor of the multi- sensor, can get the point?s geographic coordinates, so that we can establish a map layer in the Arcview through these coordinates, and distribute the map in the ArcIMS. As the technology of VideoGIS is improving, we can integrate video and spatial information together. As it?s not easy to get the map and video synchronous, based on the technology of VideoGIS, this paper gives a solution of this problem in detail. And taking a street of Beijing for example, this paper gives an instance of the video-distributing system.

Keywords- WebGIS, Asp.net, ArcIMS, VideoGIS, multi-sensor  1. INTRODUCTION In recent years, with the development of the internet and  WebGIS, the services of online map are coming up more and more. Traditional map services often can provide people the information about the place where they will go, or are interested in, such as the distance between two places, the stops along the road, or the surroundings around the place.

However, the services are getting more and more professional.

For example, some websites can provide people the location of restaurant or hotel around their interested street, or in their interested city; some websites can provide people the location of the ATM in their interested street or city, and so on. As far as I know, whatever information about the places people want to know, the WebGIS can always meet it.

Presently, people are no more satisfied with the limited information which traditional WebGIS can provide. When people are preparing to go to someplace, they don?t only want to know how can they get there, but also the detailed information about the place. In order to meet people?s needs, we develop a system that can provide people the video of the streetscape online. With this system, people can get the idea of what their interested street looks like without going there; what they have to do is just sit in front of their computers. And in this system, we combine the video with the map using the Mobile Mapping System (MMS) which is developed in our laboratory. Using this system, we can get the geographic data of the street, and also the video of the streetscape. So that, people can get a direct sense of their interested street when they see the video of the streetscape. This paper introduces the design of the Mobile Mapping System, and the workflow based on the system. What?s more,we will take a street in Beijing city as our example in this paper.

2. METHODOLOGY In this chapter, the environment under which the system is  designed are described. To develop an online video- distributing system, the following factors must be considered: (1) construct a WebGIS platform; (2) design a MMS to acquire geographic data; (3) combine the video with the geographic data.

We will have two sections to discuss the factors above. One section will contain the first factor, and the other section will contain the other tow factors.

2.1 THE DESIGN OF WEBGIS  If we want to provide our product on the Internet, we must choose a platform to release our map and the video. And ArcIMS, a productof Environmental Systems Research     Institute.Inc,is our choice. ArcIMS can provide the foundation for distributing high-end geographic information system and mapping services via the Internet. ArcIMS software enables users to integrate local data source with Internet data source for display, query, and analysis (ESRI white paper). When we developed ArcIMS before, we customized the interface and the basic functions in the client html viewer directly, poor in flexibility.

This  paper discusses using .NET client Web applications using ArcIMS Images and ArcMap Image Services. ArcIMS provides the foundation for distributing high-end geographic information system and mapping services via the Internet.

ArcIMS software enables users to integrate local data sources with Internet data sources for display,query, and analysis. The ArcIMS Architecture consists of different types of connectors that allow you to customize client applications to access specific services of an ArcIMS site and display the results[3].

The figure1 shows the architecture.

Figure 1 the architecture of ArcIMS(ESRI White Paper)  The system uses Asp.net technology to get WebGIS services in the client, so that all services are processing at server to allow more thin client, improving the application efficiency of the system. This system is based on. Net, to develop ArcIMS. Using the technology of Asp.net in the packaging of various Web server-side controls and media player video controls and background server component to free the client .The system has good scalability and flexibility.

Whenever a client requests information on your browser when released, it can be spread through the back-end server to connect to server-side, server-side processing, then the news reached the client through the browser performance[3].

2.2 THE ACQUISITON OF DATA As the system bases on the MMS technology, I will  describe the MMS in this section which is developed in our lab. The traditional way to collect geographic data is using terrestrial surveying technology or by aerial photogrammetric surveys. In order to overcome some disadvantages of these technologies, to allow for a more rapid and dense data collection and to widen the coverage provided by the measuring sensors, Mobile Mapping System (MMS) were developed. The MMS which we develop integrate various navigation and remote sensing technology together on a vehicle platform, and these multi-sensor systems allow to exploit the peculiarities and single system can increase the  efficiency of data collection. The whole vehicle platform is shown in figure2.

Figure2. the vehicle platform  This MMS uses a GPS system in conjunction with an Inertial Measurement Unit (IMU) that enables mapping even without  using ground control points.(shown in figure3)  Figure3 GPS antenna and IMU  With this multi-sensor system, we can get the streets? geographic coordinates, video images and also the UTC time.

The workflow of our system: we use Access database to store GPS points as attributes, which contains the UTC time, the latitude, the longitude and the elevation of the GPS points. In the Asp.net application program ,we can connect the database.

So when we choose the point?s layer at client, we can also get the option of the time in order to mobilize the video player.

Therefore, users select a certain point, the system can take out this point and the start point ?s time interval from the database, this time interval helps to select the start of the playing time.

As video clips are edited in advance, this time interval is also the one which controls the start of the playing time of media player.

2.3 EXAMPLE In this paper ,we also give an example using  MMS technology.

Figure 4 shows the function of  the video of streetscape system using our  II - 1330    MMS.

Figure4. the function of our system  First, we can get the street?s coordinates to get the street?s map in the format of .shp through the ArcView(shown in Figure5). Next, we use the author module in ArcIMS to generate the ArcXML file of the street, and with this module, we can check against the name, coding, direction and start and end point of the annotated roads,and we use the beijng map as our base map(shown in figure6). At last, we can release the streets? map to the Internet with the AXL file throug the .NET with either the Servlet or ActiveX Connectors. We also have two media players in the same pages to show the left and right?s videos(shown in figure7). Because of the UTC time, we can get the video and the streets? coordinates synchronous.

When we?re mapping, we are also videoing. So the video?s time is synchronous with the mapping?s time.

Figure5.the interface of Arcview  Figure6.the interface of author  Online video- distributing  system  Map service Video service  Zoom in  Zoom out  Pan  Figure7.the interface of this system  3. CONCLUSIONS AND DISCUSSION In this paper, we design a system that can show the video  of the streetscape on the Internet. Though the scope of this research lies in the design of the whole system, there are still many problems waiting for being solved. VideoGIS is a hot topic in the GIS field, more and more people are studying in this area. Though the system which we develop includes the video service, the link of the video and map is very limited.

And when there is a complex corner, it will be a big problem for this system. The limited service that the system can provide makes us to take a more research in this area.

Attempts to resolve this dilemma have resulted in the development of VideoGIS. In paper [1], we know that there are three ways to connect geographic data with the video. The first one is geography-to-video interaction. When users select geographic object in the map, the browser can give the video clips. The second one is video-to-geography interaction. When users select a point or region in video, browser can show the attributes of geographic objects. And the third one is the mutual interaction of video and geography. The level of interaction is the goal of VideoGIS that enables acquisition of attribute information of geographic objects selected in video and video clips containing or linked to the selected objects in the map. Since the time is limited, we just give a simple interaction in this paper. There is no space here to go into detail on all these methods, although a lot of efforts are being spent on improving these weaknesses, the effective method has yet to be developed. And we will take more efforts in this topic in future?s work.

