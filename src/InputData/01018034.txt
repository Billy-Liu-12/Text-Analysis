Discovering Spatial Relationships in Geographic Information Databases for  GeoDatasets Integration

Abstract  This paper describes a framework for developing the integration of multiple single theme datasets (maps). The novelty of this approach is that it is based on spatial data mining, in particular on spatial association rules. A spatial association rule is a rule indicating certain association relationships among of a set of spatial and possible some non-spatial predicates. Prior the generation of the association rules, the source maps are represented in a common vector structure. Spatial hierarchies are defined to determine the characteristics of the features belonging to distinct classes. A distance restriction to limit the search space is specified as a part of the user quey  Structure, levels of abstraction and reduction of the space guarantee the use of only the necessary data to answer the user quev.

A characterization of the uncertainty in the firsed map is given as the measure of correction of thefiamauork.

1. Introduction  Geographic information provides the basis for many types of decisions ranging from the management of networks of facilities, predicting complex socioeconomic and demographic characteristics, and the sustainable management of natural resources. Improved geographic data should lead to better conclusions and better decisions. Data mining (DM) techniques represent a suitable solution to discovering interesting information representing the relevant relationships among the geographic datasets. In particular, Association Rules (AR) are used to represent the discovered spatial relationships and to infer additional information based on already discovered relationships and the available non-spatial information. For instance the AR: is-a(x, large-town) A ac$acent-to(X river) :- intersects(X, highway),  Harold A. Foley III, PhD., Apex Systems,  New Orleans, LA.

foley @,apex- ws.com  means that large towns are adjacent to the rivers, and also, intersect highways. From this rule, and using the non-spatial descriptive information we may infer, a demographic explosion. This phenomenon could be feasible given that, large towns with these additional characteristics are a potential for diverse kind of economical investments, which would increase the population in these areas. Spatial datasets? integration has been widely investigated in the GIS area but unfortunately does not exist a formal h e w o r k  to detine this process. Previous works that have been used as foundation of these works include: multilevel association rules in a single-theme map, and attribute-oriented induction for generalization of the data. We extend these to consider a multi-thematic map [I], [4], and to include the characterization of the uncertainty in the spatial data [6]. The main contribution of this work is the specification of a h e w o r k  for map integration based on data mining techniques. This fislmework is supported by the interesting association rules defining the resulting integrated map and the characterization of the uncertainty associated with spatial data.

2. The Approach  The process starts reading the source data maps to be integrated. Currently, location attributes, non-spatial descriptive attributes, and ESRI?s shape-file format are being processed. The fislmework considers reading data in different formats and represents this in an standard object structure. The features are then processed, using distance and topological calculations, in order to construct the spatial knowledge. The main steps of this proposed framework are shown in Figure 1 and they are described in the next sections.

0-7803-7461-4/021$17.00 0 2002 IEEE 81  mailto:somodevi@eecs.tulane.edu mailto:petrv@,eecs.tulane.edu   r - User Sources Query  i  + Define Distance Ontologies Specification  Association Rules Generation  Minimum b Confidence Confidence level  Measures of Correction  Vector of Coordinates  I no  Attribute description  < Visualization ) Figure 1. Mining map integration framework  2.1. Data Transformation  The aim of this step is the enhancement of the data by filtering and providing additional structure, which will facilitate the mining tasks. Each category is described for spatial and non-spatial information files. Instances of spatial data are spatial objects that exist in the space. This is the reason that we convert data from text files to vector data.

The main object used to represent and manipulate the geodata in this ji-amework is thefeature object.

After the real world coordinates' have been mapped to screen coordinates, we need to look for the features within the files. For instance, rivers are represented as lines and polylines. Features of the line/polylines type will be created as objects of the Feature class. Likewise, points representing cities, and regions representing states are members of Feature class as well. In that way, instances of the Feature class, containing coordinates, type, and description of the feature, are created fiom all the input files and stored in a vector of features. Figure 2 shows the structure and some of the methods defined for the objects in the Feature class.

Details about this process can be found in [7].

addtoVector comparetofeature  WithindistancetoFeatwe  Figure 2. Object's structure of the feature class  The next step in the process corresponds to the definition of spatial hierarchies according to the user needs. Also, a metric distance is applied to the process. For instance, evaluating a rule set where a distance relationship is specified reduces the search space. Ontologies, besides imposing structure over the data, are used like semantic filters. These filters allow access the data that is related only to the user query. This significant reduction in the search space represents an advantage for discovering a solution, improving the performance time of the system.

2.2. Definition of Spatial Hierarchies (Ontologies)  Spatial hierarchies are not always given a priori. It is often necessary to describe spatial behavior of similar objects or to determine characteristic features of distinct classes. The information needed to know which will be the required ontologies is extrapolated fiom the user query. Some examples of the spatial hierarchies are shown in Table 1 along with their characteristic attributes used to define the classes.

Table 1. Spatial hierarchies  23. Association Rules Generation  An association rule is a general form of dependency rule and is defined on transaction-based databases with the following syntax: P1 A . . . P,, + Q1., . Qm (c%), where at least one of the predicates P1 ,..., Pa Q1 ,...., Qm is an spatial predicate and c% is the confidence of the rule [ 13.

For example, the following is a spatial association rule: is-a(X, school) A close-to(X, sport-center) + close-too<, park) (85%). This rule states that the 85% of schools, which     are close to the sport centers are also close to the parks.

There are different types of predicates participating in the association rules. Topological relationships like intersect and-adjacency are very fkequently considered. Also, metric information like close-to or fm-uwuy is very often used.

In spatial databases, there may exist a large number of associations between objects, but we probably will be interested in those that are applicable to a large number of objects only. In doing so, two statistical measures need to be evaluated for each rule, support and confidence. The support of a conjunction of predicates PI A..A Pb in a set S, denoted as a(P/S), is the number of objects in S which satis@ P versus the cardinality (i.e. the total number of objects of S.

The conzdence of the rule P + Q in S, dP + QIS), is the ratio of a(PAQIS) versus a(P/S), i.e., the possibility that Q is satisfied by the same member of S. Two thresholds, minimum support and minimum confidence, control filtering out associations describing small percentage of objects and rules with low confidence. The thresholds can be different at each level of abstraction and depending on the type of object too. This variation will allow us to find out interesting association rules at the different levels of the objects hierarchy [4].

The generation of association rules is done at two conceptual levels depending on the user's requirements:  2.3.1. Generalized spatial query. It is basically the calculation of the close-fo predicate. All the features within a certain distance fiom the geographic target will be considered in the answer. That is, at this higher level of abstraction all the features satisfiing the close-to predicate are process in the refined step 2.3.2.

2.3.2. Detailed spatial queries. This is the low level of the spatial association rules calculation. A more specific relationship between the spatial attributes is calculated. The close-to relationship calculated in (2.3.1) will be substituted by one of the next spatial predicates: intersects, inside-of; adjacency, or disjoint.

The semantic association between features is given by the confidence of the rule. Rules having a high enough confidence level determine the features in the single datasets that will participant in the fusion. This process of map integration ends with an evaluation of the solution in terms of the uncertainty associated with the data.

2.4. Characterization of the Uncertainty in Spatial Data  Many facets of spatial data representation inherently involve issues of accuracy and uncertainty. This problem is greatly magnified when considering the integration of spatial data h m  different sources, such as in a distriiuted or interoperable environment. Errors in spatial data have been mainly identified as a consequence of: (a) data collection, (b) data classification, (c) data analysis, and, (d) perception of map content (visualization). Uncertainty in spatial data is given by: (1) uncertainty due to variability or error, (2) imprecision due to vagueness, and (3) incompleteness due to inadequate sampling fkquency for missing variables.

Therefore, we have to deal with a certain degree of uncertainty while doing map integration. The issue here is to find out a way to Characterize the uncertainty, and to define uncertainty levels that support the solution.

Characteristic rules are essentially rules that describe the characteristics of a concept, via an abstraction based upon the data in the database. The need to provide generalizations to describe concepts means that a path of generalization, such a conceptual hierarchy, is typically required as domain knowledge [6]. Characteristic rules make no explicit reference to relationships between entities, or means to classify them. However characteristic knowledge is useful for providing a summary or abstraction of the data it describes, which may be used for applications such as automatic discovery of dependencies.

Systems can be classified in a way that varies in their level of exact definition and presentation of measures of closeness. Our approach to map integration is based on the representation in a single map of those features that are closely related. These features originally lay separately in different single theme maps. Once we know that the set of features is highly related we can use this information to make decisions in a daily basis. Therefore, closeness is the concept used in this M e w o r k  to characterize the uncertainty.

Closeness is represented at the high level of the abstraction as an exact and clear measure of closeness [3]. A major concern with this level is in the nature of a measure of closeness as a single numeric indicator. In order to overcome this problem and after experimenting with different values of the parameters we could identify three different classes of closeness:  Optimistic closeness: a measure with higher confidence, and longer distance, Average closeness: a measure with medium confidence, and medium distance,  Pessimistic closeness: a measure with lower confidence, and shorter distance.

The categorizations of ?closeness? come fiom experimentation. We also find that the highest number of rules was obtained &om the average category, the medium number for the optimistic, and the lower for the pessimistic class. Although the optimistic closeness shows the highest confidence level, this is due to the fact that the distance within the features is the longest, that is, the features are not really close. The pessimistic closeness measure has the lowest distance between the features, but the confidence of the rules is the lowest, and the number of rules describing the relationships is also fewer. Finally, we find that average closeness is the best metric to characterize the uncertainty since at medium distance, we have the highest number of generated rules with a high enough confidence. The structure of the decision tree classifier used for the uncertainty characterization is shown in Figure 3.

CLOSENESS  # RULES: confidence classes  / I \ -  Figure 3. Decision tree for uncertainty characterization  After processing the set of rules, the system is capable of generating results on a pixel-by-pixel basis. For instance, the results of the ?Where are the suitable locations to place a utility lan@ll?? query are depicted in Figure 7. In this, the system discovers (i.e. creates) a solution to the user based upon the criteria. The process is presented in the next example:  3.1. Example  The example discovers the suitable places to locate a landfill. For instance, the planners must consider the following issues:  1. Site should be easily accessible, yet not near a heavily used road.

2. Site should not be near a community.

3. Site should not be near a water supply.

4. Site should not be near a drainage.

The set of requirements listed above are translated to the set of rules shows on Figure 4.

Intersect enumber- 4 e s t u r e w length I- leas man -elstance- length le more than -dlStance- length le equal to -dlstancew  The resulting integrated map is comprised of those features in the interesting generated association rules. Therefore, the new integrated map is determined by the rules, which Figure 4. Definition of rules  describe the Of One Or a-set Of features Eleven relevant features were found to mfill the query in another set of features in different spatial databases. Figure 4. In the first step, the system discovered these relevant features, satisfied close-to, that is, a certain distance fiom the other features (rivers, roads, and drainages). In order to provide more specialized spatial relationships, each close-to relationship is substituted for its specialized equivalent ( intersects, adjacent-to, is-inside, or disjoint), see Figure 5.

3. Testing and Applications  with the P W s e  of testing O w  framework, We developed a Java-based GIS prototype that  upp ports MapInfo?s MIDMIF and ESRI?s shape-file formats (vector data). Since spatial predicates have been already implemented by the system, we are able to choose the rule to be applied. At the first level of abstraction the predicate close-to is evaluated mainly based on within-distance predicate.

RELEVANT FEATURES  Tuxtla Gutierrez  Colima  (disjoint, Cutzamala) (disjoint, Fed. Hwy 15)  (disjoint, Cutzamala) (disjoint, Fed. Hwy 15) (disjoint, Fed. Hwy 85)  RIVERS ROADS  (disjoint, Usumacinta) (adjacent-to. Grijalva) (disjoint, Tzanconeja)  (disjoint, Balsas) (disjoint, Lema) (disjoint, Rio Grande de Santiago)  (disjoint, Fed. Hwy 190) (disjoint, Fed. Hwy 180) (disjoint, Fed. Hwy 200) (disjoint, Fed. Hwy 186) (disjoint, Fed. Hwy 54)  Toluca  idiioint; ~ e d .  I-& 85j  (disjoint, Cutzamala)  (adjacent-to, Rio Santiago) Tepic (disjoint, Rio Grande de Santiago) (disjoint, Fed. Hwy 54)  (disjoint, Fed. % 57) (disjoint, Fed. Hwy 45) (disioint. Fed. Hwv 15)  (adjacent-to, Cutzamala) Idisioint. Balsas)  DRAINAGES  (disjoint, Lerma) Queretaro (disjoint, Cutzamala)  VillaHermosa (disjoint, Usumacinta) (adjacent-to, Grijalva) (disjoint, Tzanconeja)  Tlaxcala (adjacent-to, Balsas) (disjoint, Cutzamala)  Zacatecas (disjoint, Rio Santiago)  (intersects, System-Usumacinta)  (intersects, Fed. Hwy 45) (disjoint, Fed. Hwy 15) Santiago) (disjoint, Fed. Hwy 85) (intersects, Fed. Hwy 57) (disjoint, Fed. Hwy 180) (intersects, Fed. Hwy 186)  (disjoint, Fed. Hwy 45) (disjoint, Fed. Hwy 15) (disjoint, Fed. Hwy 85) (intersects, Fed. Hw 49)  (is-inside, System-Rio Grande de  (intersects, System-Usumacinta)  (intersects, System-Balsas) (disjoint, System-Rio-Grande de Santiago)  (is-inside, System-Rio Grande de Santiago)  (disjoint, System-Balsas) (is-inside, System-Rio Grande de Santiago)  (is-inside, System-Rio Grande de Santiago)  Idisioint. Svstem Balsas) idi4oint; SbtemIRio Gknde de Santiago)  (intersects, System-Rio Grande de Santiago) (is-inside, System-Balsas)  (is-inside, System-Balsas) (disjoint, System-Rio Grande de Santiago)  (intersects, System-Rio Grande de Santiago)  Figure 5. Relationships between small cities, and rivers, roads, and drainages  is-a(X,smalltown) A adjacent-to(X,river):- intersects(X,drainage).( 100%) is-a(X,smalltown) A adjacent-to(X,river):- intersects(X, hig hway).(4O%) is-a(X,smaNtown) A adjacent-to(X,river):disjoint(X,highway).( 1 00%) is-a(X,smalltown) A intersects(X,drainage):disjoint(X,river).(lOO%) is-a(X,smalltown) A disjoint(X,drainage):disjoint(X,river).(80%) is-a(X,smalltown) A intersects(X,highway):disjoint(X,river).(80%) is-a(X,smalltown) A disjoint(X,river):disjoint(X, highway).(52%) is-a(X,smalltown) A intersects(X,drainage):-intersects(x.hieh) is-a(X,smalltown) A intersects(X,drainage):- disjoint(X,highway).(lOO%) is-a(X,smalltown) A disjoint(X,drainage):disjoint(X, highway).(80%)  I #ofRULES=lO MEAN=66.0 VARIANCE=QOB.O RANK=60.O Uncertainty level: distance = 30,  number-of-rules = 10, + AVERAGE CLOSENESS [ 66% 1  Figure 6. Association rules for the integrated map  Each feature, a small town, has relationships with the features: rivers, roads, and drainages, as specified in columns 2, 3, and 4 respectively in the Figure 5.  The next set of rules, Figure 6, is derived f?om generalization of the relationships in Figure 5, and represents the relationships in the integrated map.

The system was tested with real data for different combinations of spatial hierarchies as we show in the column 1 of the Table 2. The remaining spatial features (roads, rivers and drainages) were assigned the ''long" value for the comparison since little variation of them was observed in the data. We assumed data is normally distributed and the values of mean, variance, and rank correspond to the statistics of the rule's confidence for each set todstate.

Table 2. Statistics results  V i .  Rank  The graphic output for the query corresponding to the rules in Figure 4 is shown in Figure 7. The shadowed areas in the Mexico?s map correspond to the solution presented to the user. This visual representation along with the association rules, and closeness measures provide the user with a powerful tool for the decision making process.

Figure 7. Suitable places to locate a landfill  Several applications of our spatial data integration methodology have been already devised. Among them are, the discovery of: (a) places meeting a set of geographical conditions, (b) relationships between demographic parameters and spatial features, and (c) new utility services.

Also, it could be applicable to the military mission planning.

4. Conclusion and Future Work  rather high, in order to have self-descriptive results. In the next steps, we will be working on decreasing these thresholds by refining distance and topological calculations.

The work can be extended to a large database comprising several single features for the generation of an integrated database of attributes semantically structured, like databases of symptoms-sickness, buyers-sales, among others. We use digital maps already existing in our database. The fiamework may be completed by including dYr;amics to the process.

Agents could be launched to search the web for spatial data sets containing accurate and updated sources of information.

