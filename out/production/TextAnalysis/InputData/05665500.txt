A Control-parameter Data Collecting and Processing System of Grain Drying  in a Deep Fixed-Bed

Abstract  Accurate data acquisition and processing is important to analyze the experimental results and research the theories of grain drying. Experiments of grain drying in a deep fixed-bed usually have characteristics of long period, difficult dynamic signal acquisition, large amount of experimental data and cockamamie data processing, etc. Aiming at the disadvantages of tiresome procedure, low efficiency and big error which exist in the traditional manual record and data processing mode for test process, an automatic multi- parameters collecting and processing system for the experiments of grain drying in a deep fixed-bed is developed. The system mainly consists of two parts: testing software of master computer, hardware and software of slave computer. A microcontroller is used as the central control unit of the slave computer. Both design of the hardware interface circuit and the data acquisition program have been accomplished. Analog signals of sensors are collected and sent to the master computer by serial communication mode. Software of data processing and analysis used for the master computer operation is developed by using software development tool Excel and VBA on the base of software engineering method, theories of grain drying and experimental design method. The software can automatically analyze and process the regulate control parameters of drying air temperature ? drying air velocity, humidity, paddy thickness and intermittent drying time, which were all collected and sent by the slave computer system ,and then it can give regression equations and graphics of influence laws of each regulate control parameter on paddy rice dried- quality(additional crack percentage, drying homogeneous degree and drying time, etc.)  automatically by applying the function modules of regression analysis, principal component analysis (PCA) and parameterization drawing, etc. A series of paddy drying experiments including single-factor experiments and quadratic orthogonal rotary combination experiments in a deep fixed-bed were conducted with the developed system. The results showed that the system works stably and reliably by compared with the traditional manual record, while labor intensity and interference on data processing of manual operation cloud be decreased during the drying experimental study, and data analysis precision and reliability of experiments also be improved.

Keywords: Grain drying; Data acquisition and processing system; Serial communication; Regression analysis  1. Introduction   China is a big agricultural country with annual average grain yield of 4.5?1011 Kg, however the overall level of its equipment technology for grain drying is very relatively low. Large-sized grain drying center with regional features has not formed and the integrated ratio of mechanically drying is less than 3% by now. Moreover, the annual grain post-harvest loss caused by incapability of timely drying is about 5?109Kg, so the continuous technical improvement and enhancement for grain drying equipment has become an exigent request of agricultural economy development (Wang Danyang et al., 2008).

Compared with others grain drying methods, hot air dying which has the merits of higher heat efficiency, energy saving and lower cost, has been widely applied in practical production (Wang Danyang. 2005). For general drying equipment?drying air temperature,     humility and air velocity and other parameters respectively at drying chamber inlet and outlet all have an important effect on drying efficiency and quality(Zheng Xianzhe et al., 2001; Zhang Yonglin et al., 2007). Therefore, the research on the influence laws of each factor on drying efficiency and quality is so particularly important that it will be reasonable to control these parameters in practical production (Chen Jianping et al., 2009; Chen Kunjie et al., 2001; Wang Feng et al., 2008). As grain drying is a process of unsteady heat and mass transfer, all correlated parameter-values of each state point change greatly during the drying process, which has put forward higher demand to the method for parameter monitoring and controlling. The traditional method for parameter monitoring and controlling is manual record and artificial process, the method of which has some shortcomings, including low precision, low safety, low efficiency, tiresome procedure, and big error etc. while computer software and hardware technique of high speed development provide a doable method for automatic monitoring of experimental parameters ,and for experimental data automatic collection, display and automatic saving (Chen Yuanyuan et al., 2008; Fu Yu et al., 2006; Li Changyou et al., 2002). In this work, a system with double host of master computer and slave computer was adopted to realize the automatic collection and process of each important working parameter during the drying process, and combined with specific paddy drying experiments on a deep fixed-bed; the system reliability and its function will be wholly verified.

2. Hot air drying system and control parameter   Drying experiments were conducted using a hot air drying type system. The system basically consists of air compressor, rotameter, heater, drying chamber and MCU system, the structure of it as shown in fig.1. The airflow with stable pressure which was afford by the air compressor flows through the control valve and the rotameter, and then it is transported to the drying chamber to dry the inside-materials after it is heated by the heater. Some test holes in the drying chamber are used for measuring temperature, humidity and other parameter values of each grain layer. In each drying experiment, moisture contents of each test point in each grain-layer will be obtained through weight measurement of each test point by a special sampler every certain interval until all the moisture contents of test points come up to the safe storage standard, that is the end of drying experiment.

The main parameters which need to be measured and monitored by the hot air drying system working include the following five parts:(1) drying air temperature and humidity at drying chamber inlet and outlet respectively, (2) drying air temperature and humidity at each test point in every grain layer, (3) drying air velocity at each test point in every grain layer, (4) weight of each test point in each grain-layer, (5) supply pressure of air compressor (Wang Danyang.

2005).

1. drying chamber 2. rota ry separa te r 3. feed inle t 4.

s ensors  5. ma te ria l discharge  6. e lectronic digita l tempera ture  measure r 7. MCU sys tem 8. mas te r compute r 9. hea te r 10. control va lve  11. exhaus t pipe for s table  pressure  12. a ir compressor 13. pres sure gauge  14. rotamete r  Figure 1. Structure of drying test bed  3. Data collecting and processing system design for hot air drying  3.1 Hardware design for data collecting and processing system   According to the requirement of grain drying experiment, a data acquisition and processing system was designed, the hardware composition as shown in fig.2.

Microprocessor is as core processing unit of the system.

As the information is not too large with the system working, and the information processing speed required for the system is low relatively, AT89C52 was chosen as core microcontroller for the system based on the comparative analysis of different microcontrollers? performance, price and control functions. Hardware circuit design mainly includes signal collection module and communication module etc.

DS18B20 1-wire digital temperature sensor was selected for the system. Its temperature measuring      Figure 2. Hardware framework of the system  range is -55?~125? . The measuring accuracy can reach ?0.5? in the range -10?~ 85?. A/D conversion accuracy is 9-12bit and the measurement resolution can reach 0.0625 ?. Temperature signals was measured and output in a mode of 16 bit digital signal extended from symbol. Humidity signal was measured by using table- lookup calculation method of wet and dry ball temperature measurement, and wind speed signal was measured based on the calculation of impeller rotational speed measured by hall element; Connection circuit of sensors and AT89C52 as shown in fig.3.

Figure 3. Hardware interface circuit of microcontroller  and sensors (U5 is hall element) Communication between AT89C52 microcontroller  and PC is realized by the RXD pin (P3.0, the receiver for serial data) and the TXD pin (P3.1, the sender for serial data transmitter). AT89C52 microcontroller can send and receive data at the same time because it has two SBUF buffers which can send and receive data independently and physically. However as the signal at the serial communication interface of microcontroller is TTL level (0~5V), while the signal at the serial communication interface of master computer is RS- 232C level (-12~12V), so level conversion is necessary  for communication before the related connection.MAX232 of RS-232 was selected as level conversion chip for the system, the connection circuit of level conversion as shown in fig.4.

Figure 4. Connection circuit of level conversion OCMJ4?12B which is a LCD Display module of  lattice with 18 pins was selected for LCD Display. And it can shows four lines each with twelve Chinese characters or characters. The connection circuit of OCMJ4?12B and AT89C52 as shown in fig.5.

Figure 5. Connection circuit of OCMJ4?12B and AT89C52   3.2. Software design for data collecting and processing system  3.2.1. Software design for signal acquisition and signal sending of slave computer. The software of slave computer is written in C language, the main submodules of which include as followings: (1) data collection module used in Parameters real-time measurement of materials being dried ? (2) Data processing module used in filtering the data collected by sensors to obtain accurate data?(3) communication     module used in timed sending the data collected and receiving the parameters from PC in interrupt mode.

The MCU control system composed of main program, timed interrupt service routine, receiving interrupt service routine and the three sub modules mentioned above. Microcomputer, timer, interrupt and initialization of serial communication were concerned firstly in the main program. By the Program executing, the system is initialized firstly and then comes into a circulatory state.

The main program flow as shown in fig.6. Data collection and display of drying air temperature, humidity and velocity respectively are all completed based on the interrupt program, and the program flow of temperature data acquisition as shown in fig.7.

Figure 6. Startup flow of main program   Figure 7. Program flow of temperature data acquisition  module  3.2.2. Software design for data acquisition and data processing of master computer. The hardware of data acquisition and processing system for the drying test bed was composed of PC and AT89C52 (slave computer), and software was developed with Excel and VBA on the Windows operation platform. RS-232 data communication line was used to realize the communication between the master computer and the slave computer, by which all the parameters collected real-timely by the slave computer could be sent to the master computer. For the data processing software of the master computer, Serial communication is realized based on the MS Comm communication control provided by visual basic 6.0. The data acquisition software adopts event-driven data communication mode and a timer to open timed communication ports, then the data uploaded from the slave computer could be received and transmission errors of communication could be captured. Then data uploaded from the slave computer can be checked based on serial communication protocol, and from which each related parameter will be extracted. The final functions mainly include as followings:(1) Dynamic display of data collected,(2) Pretreatment of experimental data (such as error control of data), (3) Calculation of original data according to experiment requirement, (4) special program for diagram drawing according to the calculation results, (5) index analysis for single factor experiments and regression analysis for multifactor experiments.

Automatic, fast and accurate processing of experiment data can be realized based on the software platform, which provide technical support for the research of grain drying. The operation interface of the system developed as shown in fig.8.

Figure 8. Main operation menu of the system     4. Experiments and result analysis   Experiments of paddy drying in the deep fixed-bed were conducted by using the system developed?and functions and reliability of the system were validated in fieldwork. According to the requirement of technology development for paddy rice drying, drying air velocity, drying air temperature and paddy thickness were selected as factors, while additional crack percentage, drying homogeneous degree?total average drying rate and drying time were selected as experiment indexes.

The experiment process was described in details by Wang et al. (2005). Besides 25 single factor experiments, orthogonal rotary experimental design method was used in multifactor experiment, and then the total number of the experiment is 48.

In order to improve the experimental precision and make the experimental results analysis more deeply and conveniently, all the signal data of each experiment must be processed as following four aspects: (1) calculation on the transforming of real-time weight  of each test point in every grain-layer for real-time moisture content(d.b) and average drying rate.(2)drawing based on the real-time temperature data of each test point (3) drawing based on the real-time drying air velocity data at each test point (4) According to the results of quadratic orthogonal experiment, the optimal technological condition was determined with regression analysis and variance analysis method. Draw relevant analysis chart was drawn and principal component analysis (PCA) was conducted. Thus there were 5175 times numerical calculation on transforming, and 690 graph drawings needed. All of this is a very heavy work, while the soft system developed makes it easy. Analysis result chart (partly shown) of a single drying index which was generated by the system as shown in fig.9.

Figure 9. Curve automatic generated by the system (partly)  Application results of the data collecting and processing system developed for hot air drying show that the system works stably and reliably, and data from different sensors could be collected and uploaded real- timely according to the requirement of experiment, so labor intensity and interference on data processing of manual operation cloud be decreased during the drying experimental study. Furthermore, coherence and stability of experiment process are effectively guaranteed, drying efficiency is improved. Manual method for data processing and the software developed for data processing were both used to process and analysis the original experiment data collected separately. By comparative analysis with the two methods based on the same group experiment data, it is clear that the time consumption of the manual calculation and graphics processing (in a skilled case) at least needs 2 minutes and 20 minutes respectively, so the whole time of manual method for data processing based on all the 48 experiments at least need about 22?48=1056 minutes, which is furthermore added to the time for drawing and regression analysis based on each drying index, at least 2.5 working days must be needed for the work. Moreover, influence of manual operation on processing results was hard to be excluded in lots of duplicate work. On the contrary, by using the data collecting and processing system developed the time consumption for single factor experiment only needs 75 seconds, for Multi-factor experiment only needs 240 seconds. Reliability and productivity of data processing in the test bed have both improved; moreover, the system provides a powerful tool for research on materials drying law.

5. Conclusions   In accordance with the backward situation of automatic measurement and control of grain drying equipment in our country, the purpose of this study was to improve the drying parameters acquisition precision and operation environment of grain drying processing.

The control-parameter acquisition and processing system developed for the grain drying test-bed was designed and verified based on the single factor experiment and multifactor experiment of paddy drying on a deep fixed test bed. The results indicated that the control-parameter acquisition and processing system developed for the grain drying test-bed could achieve all the designed functions and achieve the desired application results, but further improvement on the accuracy and real-time of grain moisture content measurement is needed. Overall, the data collecting and processing system designed has a good application     value and guiding significance for grain drying procedure.

6. References  [1]J.P. Chen, H. Z. Zhang, S.J. Ouyang, et al. ?Design and implementation of solar agricultural byproduct intelligent drying system?, Computer Engineering and Design, 2009,30(10):2593-2596(in Chinese)  [2]K.J. Chen, J. L. Li, M.Y.Yang, et al. ?Drying Experiments of Paddy in a Deep Fixed-bed?, Transactions of the Chinese Society of Agricultural Machinery, 2001, 32(2):58-61(in Chinese)   [3]Y. Y. Chen. ?Discussing on the Control System on the Flatbed Type of Counter-Flow Grain Drier?, Agricultural Equipment & Technology, 2008, 34(1):15-18(in Chinese)  [4]Y. Fu, C.Y. Song, Z.F. Zhou. ?Temperature control system design of grain drying equipment based on microcontroller?, Machinery for Cereals Oil and Food Processing, 2006, (8):74-75(in Chinese)  [5]C.Y. Li, Y.M. Cao. ?Hardware Design for the Control System of Recirculating Grain Dryer?, Transactions of the Chinese Society of Agricultural Machinery, 2002, 33(6):86- 88(in Chinese)  [6]D.Y. Wang. ?Study On Technology Parameters for Paddy Rice Drying in a Deep Fixed-bed?, Shenyang Agricultural University, 2005(in Chinese)  [7]D.Y. Wang, C.H. Li, Y.F. Yang, et al. ?Experiment Study on Influence of Drying Parameters on Drying Duration of Paddy Rice in a Deep Fixed-bed?. Journal of Shenyang Agricultural University, 2008, 39(2):213-217(in Chinese)  [8]F. Wang, M. Dong, Y.B. Jin. ?An Effective and Low Cost Dryer Equipment of Farming based on SCM?, Microcomputer Information, 2008, 24(8):107-108,146(in Chinese)  [9]Y.L. Zhang, W.P. Wang, C. Z. Zheng et al. ?Intelligent real-time on-line measuring system for moisture content during grain drying?, Transactions of the Chinese Society of Agricultural Engineering, 2007, 23(9):137-140(in Chinese).

