Application of Data Mining for Optimization Settings of Controlled Variable in  Shaft Furnace Roasting

Abstract?The mechanism of Hematite furnace roasting process is complex and operating conditions change frequently which makes it difficult to get the set value of controlled variables in the furnace roasting process and makes it tough to control the controlled variable within the target range. In this paper, data mining technology is put forward to solve this issue. First, clustering method is used to deal with the sample data, and then the method of association rules in data mining is applied to obtain association rules which meet the conditions.

In the process of production, the correct values can be acquired through the association rule table which provides new idea for the optimization settings of shaft furnace roasting controlled variable.

Keywords- shaft furnace roasting; multidimensional association rule; apriori algorithm; clustering analysis

I. INTRODUCTION The ore shaft furnace roasting furnace is large thermal  equipment used to change weak magnetic iron minerals into strong magnetic iron minerals, and the process commonly known as baking [1]. The traditional parameter setting is operations staff judge the quality of roasting ore with experience according to the target range of magnetic tube recovery rate (MTRR) and the change of the current process, and then the setting of the controlled variables is decided by the operator. Due to the existing characteristics of the interference, work conditions complexity, multiple variables and strong coupling process, nonlinear and large delay exist in the roasting process of shaft furnace. The operator's debug is often less than ideal results and leads to a series of questions such as labor intensity and the decline in the quality of the roasted ore. It is difficult to establish the mechanism model for the optimal setting, therefore the single and traditional parameter optimization method for setting is not available. It is found that the research in this area is relatively less by searching the literature, the literature [2] using the case-based reasoning method to achieve the set of controlled variables, while with the production process carried out large sample database. In the site if controlled variables are set using case-based reasoning, the comparison must be carried out on every data and it is time-consuming, and sometimes it can?t meet the needs of the production.

Association rules is an important technology in data mining which is able to mine the relationships between the data attributes, and the research and application of data  mining is a more active and deep branch. In the paper, the association rule algorithm is adopted to solve the problem of optimal setting for furnace roasting controlled variables which can analyze the relationship between the furnace roasting parameters and provide new ideas to shorten the controlled variables setting time, ensure the correct setting of controlled variables and the safety in production.



II. DATA ACQUISITION The quality of the shaft furnace roasting ore is measured  by the key process indicators namely the size of the MTRR.

Its assay values generally are obtained by the method of off- line sample analysis, sampling once every 8 hours and requiring one to two hours before getting the data analysis [3]. Because of the assay lagging behind seriously, if the productive process is controlled based on MTRR as indicator of the production, it is difficult to achieve real-time optimization of the decision and control of the roasting process in the shaft furnace. Variables that affect the MTRR have four which are the combustion chamber temperature, the reducing gas flow, air-fuel ratio and the run time of out of the machine. Correct set of these four variables ensure that MTRR meets the requirement and productive process and reduce the occurrence of the fault. The set of these four variables need to take into account the environment of the production site, such as heating gas pressure, the reduction gas pressure don't change over people controlling and the change period is soon and sometimes less than one minute.

Different environment requires continuous adjustment for the four controlled variables and the shorter the period, the better. In this article, the controlled variables of the next run are optimized set according to the detected variables.

Detected variables include: production scheduling value per unit time, current temperature of the combustion chamber, reduction zone temperature, preheating zone temperature, hearth negative pressure, heating gas calorific value, heating gas pressure, reducing gas pressure. Based on the above analysis, part of the sample data table collecting from the production site which meets the various indicators (MTRR meeting requirements, trouble-free and low energy consumption) as shown in Table 1:      DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336    DOI 10.1109/ICCIS.2013.336     TABLE I.  SAMPLE DATA TABLE

III. MULTIDIMENSIONAL ASSOCIATION RULE Multidimensional association rule refers to the  association rules involving multiple dimensions or predicates, for example: the value of heating gas calorific =4200 and heating gas pressure = 4.5 deduce Air-fuel ratio = 0.8.

The rule contains three predicates: the value of heating gas calorific, heating the gas pressure, air fuel ratio. In addition, each predicate appears only once, that the predicate is not repeated, so this multidimensional association rule is called inter-dimensional association rule, on the contrary, the multidimensional association rule which has repeated predicate is called hybrid association rule [4]. The rules mined in this paper are inter-dimensional association rule, and all of the predicates can only appear once.



IV. CONTROLLED VARIABLES OF THE SHAFT FURNACE ROASTING OPTIMIZE THE SETTING OF ASSOCIATION RULE  MINING  A. Data discretization based on the cluster analysis To mine the numerical table by using the  multidimensional association rule, usually it is converted into classic Boolean attribute [5].In the conversion when attributes have a large range and the number of property is great, in order to be convenient to mine and get compact rules without impacting the result, first each attribute is decided into some intervals then map every interval to different Boolean attributes value. K means [6] algorithm based on the dividing method is the most mature in theory, and also the most commonly used in cluster analysis, so in this paper k means algorithm is adopted.

The k means algorithm is a typical clustering algorithm based on distance, using distance as similarity evaluation index that the closer two objects distance, the greater the similarity. The algorithm first randomly selects k object, each object initially represents a cluster average (center). For each of the rest objects, according to the distance between it and the center of each cluster, it is assigned to the nearest cluster. Then recalculate the average value of each cluster.

Repeat the process until the criterion function converges and the criterion function is as follows:  | |  i  k  i p  E i c  p m = ?  = ???                               (1)  In the formula, The E is the sum of the squared errors for all objects in the database. The p is the point of the d- dimensional space Rd, which represents a given data object.

The im means the average of cluster namely ic  (p and  im are multidimensional).The 2| |ip m?  represents the  distance between the data object and cluster centers.

The selection of the number of the k for k means  algorithm has no certain standards which should be set according to the practical situation. The affect for the results is very small because of roasting parameters fluctuating around 5%, so the selection of the value of k satisfies the following formula:  max max  5%ix x x  ? <                             (2)  min  min  5%ix x x ?  <                            (3)  In the formula, the maxx  means the maximum value of the ith cluster after cluster. The minx means the minimum value of the ith cluster after cluster. The ix means the center of the ith cluster after cluster.

In this article the k means algorithm is described as follows:  Input: the number of clusters namely k and the data table containing n records  Output: k clusters ? Select k values as the initial cluster centers ? for   j=1 to n do ? Calculate the distance between each record and k  cluster centers and the point belongs to the nearest cluster  ? for  i=1 to k do ?            Calculate the centre of each gathering ? Calculate the formula (1) ? Judgment whether it is convergent or not, if it is not  convergent, then loop step(2), (3) and (4) until it is convergence, else go to step (6)  ? Judge if the formula (2) and (3) is correct or not, if true then go to the end, else loop (1) step to (6).

It is noted the step of each interval being mapped to different attributes. The set value is a specific value rather than a range, so after the controlled variables are divided into several intervals and each interval clustering center value maps this range. After the above steps, the interval of each attribute was divided and part of corresponding Boolean data dictionary table as shown in Figure 1 and Figure 2:   Figure 1.  the Data Dictionary Table of Detected Variables      Figure 2.  the Data Dictionary Table of Controlled Variables  The interpretation of the figure 1: take, for example, production scheduling value per unit time is divided into three intervals [30, 32], [24, 25.9], [26.1, 29] respectively with 10, 11 and 12 said. The interpretation of the figure 2: take, for example, the combustion chamber temperature is divided into six intervals [1180,1190] [1200,1200] [1700,1700] [1120,1140] [1050,1170] [1150,1160] which are instead respectively by the value of the cluster center namely 1186 1200 1170 1133 1077 1156.

Part of the data table after clustering as shown in the figure 3:   Figure 3.    the Data Table After Preprocessing  B. The Analysis of the furnace roasting parameters basing on the Apriori algorithm In the algorithms of association rule the most widely  used are the Apriori [7] and the FP-Growth [8] algorithm.

Compared with Apriori algorithm, the efficiency of the FP- Growth algorithm is high, while a lot of short pattern can't be mined, nor the short pattern of the strong association rules can't be mined, so in this article, association rule mining is realized by using the Apriori algorithm.

1) The Apriori Algorithm The Apriori algorithm proposed by Agrawal and Skikant  in the 1994 mine frequent item sets for Boolean values which can be divided into two steps:  (1) Producing frequent item sets: Apriori algorithm uses iteration method of seeking step by step to find frequent item sets. By scanning the database, calculating the count of each item can obtain frequent 1-itemsets satisfied the minimum support which is denoted as L1, and then frequent k items namely Lk can get by repetitions iteration. The iterative process has two steps: connection and pruning. The connection operation is that connecting 1-dimensional predicate a  to Lk - 1 compose candidate k-dimensional verbs. Pruning is that filtering out candidate sets whoes support greater than the minimum support namely min_conf that is frequent item sets.

(2) Producing the desired association rules: from each frequent item sets L, all the nonempty subset can be obtained; for each nonempty subset, if the formula support(L)/support(S) min_conf is established, then the rule S => (L-S) should output.

Apriori algorithm mine frequent item sets for one- dimensional Boolean value, while the data is multidimensional in this article, so Apriori algorithm should be adjusted as follows:  2) The adjustment of the Apriori algorithm (1) The constraints for the frequent item sets  In the process of mining multidimensional association rules using classic Apriori algorithm will produce many rules which are redundant and don?t accord with the fact, for example:  (Production scheduling value per unit time =24) (Current temperature of the combustion chamber=1000) (Current temperature of the combustion chamber=1200)  The above frequent item sets doesn't fit the actual situation, so it is redundant. The number of the candidate sets is quite large, and the efficiency will be greatly reduced without constraint. So the constraint should be added: in the process of Lk - 1 connecting to the wanted object namely a, if the predicate where the ?a? is in appears in Lk - 1, then the process restarts.

Relational database general can be divided two types: non-decisions and decision-making type [9].The database in this paper is decision-making type. Antecedent and consequent of the rules should be restrained. In this article, the form of the association rules: antecedent of the rule= > consequent of the rule. The rules should satisfy the conditions:  antecedent is detection values and consequent is controlled variables. If rules do not meet the above conditions, then they should be deleted. The benefit of the constraints is: avoiding generating rules which are not interested and setting the controlled variable easily.

(2) Elimination of the redundant strong association rules  The  value of controlled variables corresponding to a set of detected values are  determined, so the confidence being 100% meet the requirement, therefore minimum confidence is set to 100%. Obtained with Apriori algorithm for mining association rules, some rules are redundant, after excluding the rule table will get leaner which can improve the efficiency of retrieval. The algorithm description of eliminating redundant rules is as follows:  ? The rule X = > Y exists in the table; ?  If there is a rule A => B satisfy the condition: Y=B  and A ? X; ? Then the rule A => B should be deleted; ? Repeat the step (1) to (3) until the comparison  between all strong association rules is completed.

C. Experimental results and analysis Through the above process, the part of the rule tables  after finishing are as shown below:      Figure 4.  Rules Table of Setting of the Reduction Gas Flow    Figure 5.  Rules Table of Setting of Air-Fuel Ratio   Figure 6.  Rules Table of Setting of the Combustor Temperature    Figure 7.  Rules Table of Setting of out of the Machine  Each line in the figure above which is converted to the form of rules is IF A and B THEN C. The interpretation of the rules is: the explanation of the first line in Figure 4, for example, referencing to the data dictionary table, when in the scene current temperature of the combustion chamber is in [1000, 1050], the reduction zone temperature is in [400,410] and the reducing gas pressure is in [3, 3.05], the reducing gas flow should be set to 2800, meanwhile, the support is 8% and the confidence is 100%.

The Figure 4 illustrates that the setting of the reducing gas flow is only related to the current temperature of the combustion chamber, the reduction zone temperature and the reducing gas pressure; the Figure 5 illustrates that the setting of the air-fuel ratio is only related to heating gas calorific value and heating gas pressure; the Figure 6 illustrates that the setting of the combustion chamber temperature is only related to the current temperature of the combustion chamber, the reduction zone temperature, the preheating zone temperature, heating gas calorific value and heating gas pressure ; the Figure 7 illustrates that the setting of the run time of out of the machine is only related to the production  scheduling value per unit time and the reduction zone temperature. As long as the controlled variables are adjusted within the scope of the sample data table, then the hearth negative pressure is in the normal range. In order to ensure trouble-free completely, furnace negative pressure should be detected at the same time. The Figure 7 has the most rules, but only has 96, compared to the sample data of 695, the number will reduce greatly. The retrieval time can be cut if four controlled variables are set at the same time. The data which is provided is the sample data, which can guarantee the correctness of the setting.



V. CONCLUSION Association rule mining is an important data mining  method, which is used to look for the interesting relationship between data items in the given data set and reveal unknown dependencies between data items. In this paper, the association rules algorithm is applied to the optimal setting of controlled variables of the shaft furnace roasting, through the cluster analysis for the sample data, association rules which meet the conditions can be mined. This method provides a new solution for shortening the setting time of controlled variables, reducing the occurrence of the shaft furnace roasting failure, improving the roasting quality of the roasted ore, ensuring safety in production, etc.

