Usage of Association rules and Classification

Abstract This research paper uses association rules and  classification techniques to extract undiscovered information of  diabetes. Previous phase of this research included the  preliminary results of some undiscovered decision factors and  side effects of diabetes, by considering diabetes type 1 and type  2 patients data set.

Advanced and reliable data mining techniques are used  throughout this research to the discovery of unseen and useful  information. This phase of the research describes the  application of classification techniques to evaluate the results  generated from the association rules. Some interesting  information of diabetes was identified at the end of this  research, which proved the results generated in phase 1, from  the data mining domain.

Keywords- Association, Classification, Data Mining,  Decision Tree, Diabetes

I. INTRODUCTION  This research is about discovering unseen, but important  decision factors and effects of diabetes using a dataset of  10,000 diabetes patients records which was gathered from  General Hospital diabetes clinic, Sri Lanka. General Hospital  is the main National hospital in Sri Lanka, but due to the  sensitive nature of the database, it cannot be made public.

Data mining techniques are used to identify how different  risk factors contribute towards diabetes and how diabetes  contributes to other diseases.

More advanced and reliable data mining techniques were  used for the information discovery process. . The results  obtained from the analysis help the physicians to treat the  patients with more meaningful and resulting way.

The main research questions addressing through the  entire research are What are the undiscovered decision  factors of diabetes? and what could be the effects of  diabetes. Preliminary results were generated for the above  mentioned questions in phase 1 of this research. At the end    of phase 1 it was identified that gender female is identified as  a major decision factor of high FBS (Fasting Blood Sugar)  level. Furthermore wheezes and edema were identified as  unknown side effects of diabetes. All there results were  generated through association rules generation data mining  technique.

During this phase of the research, those obtained results  were further evaluated using classification data mining  technique. Under the classification, decision tree analysis  was used to obtain the final results.

Some of the risk factors may not contribute for diabetes  when they are taken alone but may affect when they are  combined with the other factors in the human body. So, we  identified the factors and how they work in relation with  each other which leads to diabetes.

The main objectives of the research are;  Analyze the decision factors and effects of diabetes  generated from phase 1.

Perform decision tree analysis for each of these  results.

Evaluate the validity of the results through decision  tree analysis.

Provide the finally concluded information to domain  experts in order to verify the results through medical  experiments.

There can be some attributes of human beings which are  considered as unimportant to cause diabetes but those may  effect to originating the diabetes. As example, general belief  is that gender is not causing diabetes [1] but there can be an  effect from gender also which is hidden from the knowledge  of the doctors. Other than that diabetes may lead to other  diseases such as wheezes which are unknown by the doctors.

If the doctors are aware of those, the necessary actions can  be taken to reduce the probability of diabetes patients getting  other diseases.

Gained knowledge out of the research has to be proven  from the domain experts, so first the results will be given to  selected number of doctors to test the validity of them.

This research study is a conducted in two phases as  phase1, which includes association rule generation and  phase2, use of classification techniques. This paper is based  on the results of the second phase of research and it describes    application of classification techniques to prove the  association rules generated under the first phase of the  research.

The remainder of this paper is organized as follows.

Section II describes the literature of the research, followed  by Section III which includes research methodology of the  data design and data mining process. Section IV is about the  results generated by the research. Section V is the discussion  which contains problems faced and the key contributions  - 372 -  from the research.  Final part of the paper brings it to a  conclusion by discussing the findings of our research.



II. LITERATURE REVIEW  Literature review includes the previous finding about the  diabetes risk factors, relationship between diabetes and  edema, relationship between diabetes and female patients,  association rule generation techniques, classification  techniques and use of decision trees.

The influence of non-ophthalmic parameters as risk  factors of clinically significant macular edema is a research  which is done by A. Sanchez, G. Ramirez, M. Gomezi and  R. Vaca [2]. Through the research they have identified that  over half of our CSME (Clinically Significant Macular  Edema) cases (56.3%) occurred in diabetes type 2 in  treatment with insulin against 15.6% of diabetes type 2 in  treatment with oral anti-diabetes. Also a relationship was  identified between the ages in which diabetes was diagnosed.

This research shows that currently in the medical field, a  relationship between macular edema and diabetes has  identified.

T. F. Blanco, R. Moreno, F. Novellae, S. Cano and H.

Lopezfm have done a research [3] to determine the incidence  of Cystoids Macular Edema (CME) by means of ocular  coherence tomography (OCT) and to compare the incidence  between diabetic and non-diabetic groups of patients.

According to the results, it shows that increased macular  thickness in both groups of patients in a small percentage of  cases, and significantly increased macular thickness in  diabetic patients. This result also helps to show the  relationship between macular edema and diabetes.

According to the literature there is no any relationship  between the BMI level and the gender of a person [4]. Men    and women do not show a significant difference in BMI  levels of their bodies. Literature states that there is a  relationship between FBS level and gender [5], [6].

According to them there is relationship between FBS level  and the gender female. But they state that there is no any  relationship among gender male and FBS level.

A relationship between the FBS level and the educational  level of a person has shown in the literature [5], [7].

According to them when the education level increases the  FBS level goes down in the people. But for this fact the  researchers say that there is a relationship of the gender too.

Male did not show a link between education level and gender  but woman showed. But literature does not provide any  evidences for the relationship among increase in the FBS  level and the systolic BP or diastolic BP.

The research [8] conducted by F.Gurgen and N. Gurgen  uses the classification techniques in an effective manner to  identify the major risk factors of diabetes. A database  consists of a total of 16 features collected from 44 diabetic  patients has been used to the research. This research supports  theories of stroke in diabetes mellitus patients and also  concludes that the use of intelligent data analysis improves  personalized preventive intervention.

The research Appropriate medical data categorization  for data mining classification techniques conducted by S.

Liao and I. Lee [9] addresses some data mining methods,  which require normalized data, others rely on categorized  data, and some can accommodate multiple data scales. The  purpose of the study was to find the data format appropriate  for each data mining classification technique for wider  applications, and efficiently to obtain trustworthy results. In  this study, three mathematical data categorization methods  were applied to accommodate five data mining classification  using a heart disease database with four types of data. This  research indicates that classification techniques are  acceptable to use in the researches and it provides ability to  analyze the categorical data in an effective manner.

The above mentioned research used Discretization  process which convert the quantitative data to qualitative  (categorical) and that helps to apply the classification  techniques to the data set easily.

G. Rogers and E. Joyner have performed a research [10]    in identifying how the SAS software data mining technology  can be utilized as a solution for improving the quality of care  as well as help control spiraling costs in the health care  industry. The research has used tree-based models, which  include classification and regression trees, which are the  most common implementation of induction modeling. They  have said that tree-based models are effective data mining  tools, which have their own unique strengths. Those models  have advantages over linear models by being able to detect  nonlinear relationships automatically. Also they indicate that  tree-based models are good at selecting important variables,  and therefore work well when many of the predictors are  irrelevant.



III. METHODOLOGY  This section describes the methodology which is used for  the data analysis in brief.

Databases of 10,000 diabetes patients records were  gathered from General Hospital diabetes clinic Sri Lanka.

There were more than 30 various attributes in that database.

Out of all those attributes, selected attributes for the flat table  were; age, gender, diabetes type, education, occupation,  monthly income, FBS (Fasting Blood Sugar), BMI (Body  Mass Index), Potassium level, Cholesterol level, Sodium  level, Diastolic blood pressure, Systolic blood pressure,  Edema, and Wheezes.

After the flat table preparation, diabetes patients data  table was available with more than 10,000 records. To  remove the missing values in this created flat table,  appropriate missing data handling mechanisms were carried  out and a table with no missing values could be created.

Next performed activity was the domain analysis. Before  start analyzing the data with data mining techniques, domain  analysis was used to gain an initial knowledge about the  overall project domain. Filtering process was used to do the  domain analysis.  Advanced techniques needed to be used  for further analysis to identify the validity of the assumptions  made during the domain analysis. So, in the first phase of  this research, association rules were used and in this phase  classification is used.

- 373 -  But, before applying data mining techniques the data  should be descritized into nominal attributes. Because, data    mining techniques require having only nominal attributes in  the data set.

All the attributes except gender, diabetes type, edema and  wheezes were discretized to change the numeric attribute  values in to nominal attribute values. Some mismatching  values which were still there in the flat table were handled  using WEKA and a completed flat table was generated with  3265 records.



IV. RESULTS OF THE RESEARCH  A. Association rules generation  Using the Association rules generating feature of WEKA,  10 rules, 50 rules, 100 rules, 500 rules and 1000 rules were  generated in different times. After the analysis of the finally  generated 1000 rules, three of the best rules that affects  towards diabetes were selected considering the attribute  combinations, confidence level, etc. Detailed descriptions of  those selected rules are included in the phase 1 research  paper.

B. Decision tree generation  After generating the association rules, to further improve  the reliability of the results and to identify more hidden  knowledge behind the data set, classification approach is  used. Here it describes the findings by the classification  technique in detail.

1) Decision trees for Edema  This decision tree was generated based on the first  association rule which is shown below.

age=57_75 gender=F diabetesType=Type 2  cholesterol=<5.17 wheezes=Yes ==> edema=Yes  conf:(0.95)  In this rule conf: refers to the confidence of the rule.

Confidence defines that 95% of the patients with age  range=57_75, gender=F, diabetes type=type 2, cholesterol  level=<5.17 and wheezes=yes having edema.

This has discovered a relationship between diabetes type  2 and edema. That rule consist of six attributes; age, gender,  diabetes type, cholesterol level, wheezes and edema. Using  those attributes, a decision tree was generated.

Edema was selected as the decision attribute. As shown  in figure 1, wheezes came for the root node of the tree.

According to the tree, wheezes became the most important  attribute out of all the attributes in the rule, where from 2710    type 2 diabetic patients who are having wheezes, 2545  patients are suffering from edema. Only 368 type 2 diabetic  patients do not have wheezes. And out of those 368 patients  235 suffering from edema.

The next association rule has discovered a relationship  between diabetes type 1 and edema and that rule was almost  similar to the rule generated for diabetes type 2.

age=57_75 gender=F diabetesType=Type1  cholesterol=<5.17 wheezes=Yes ==> edema=Yes  conf:(0.97)  Similarly to figure 1, edema was selected as the decision  attribute for figure 2 and wheezes came for the root node.

Here also wheezes became the most important attribute,  where from 157 type 1 diabetic patients who are having  wheezes, 150 patients are suffering from edema. Only 23  type 1 diabetic patients do not have wheezes. And out of  those 23 patients 17 suffering from edema.

Based on the association rule, it was found that there is a  relationship between both diabetes types and edema.

According to the decision tree explanation it can be clearly  stated that, the probability of occurring edema for both  diabetic type patients will increase if they have wheezes.

From both decision trees generated for edema and diabetes  type 1, 2; it can be concluded that wheezes will more affect  toward occurring edema for both diabetic types than the  other attributes in those rules; age, gender and cholesterol.

But those attributes together also will contribute some extent  to strengthen the probability of occurring edema for the  diabetic patients.

Currently in the medical field, there is no relationship has  found between wheezes and edema of the diabetic patients.

But through the association rules and generated decision  trees it can be concluded that; there is a clear relationship  exist between edema and both diabetes types and also there  is a relationship exist between the people who are having  diabetes and wheezes  in creating edema.

2) Decision tree for Wheezes  Gender=F occupation=Housewife Sodium Level=135-  145 diastolic=60-80 cholesterol<5.17 edema=Yes  diabetesType=Type 2 ==> wheezes=Yes conf:(0.92)  Second association rule for diabetes type 2 which is shown  above has discovered a relationship between diabetes type 2    and wheezes. That rule consist of eight attributes; gender,  occupation, diabetes type, cholesterol level, sodium level,  diastolic blood pressure, edema and wheezes. Using those  attributes, a decision tree was generated which is shown in  figure 3.

Wheezes was selected as the decision attribute for this  tree. As shown in figure 3, the association rule can be easily  proven by the use of this decision tree. In the tree the highest  numbers of records are shown under the attributes values  which were given by the association rule. That node contains  1218 records from the whole data set and that is the highest  number of values in the whole decision tree.

By this decision tree the association rule can be proved  Figure 1. Decision tree for diabetes type 2 and edema  - 374 -  and that increases the validity of the rule which shows that  people who have diabetes type 2, who are female ,  housewives, having normal range of sodium level and  diastolic blood pressure and who has edema and has low  cholesterol level are having a higher probability of getting  Wheezes  Gender=F occupation=Housewife Sodium Level=135-  145 diastolic=60-80 cholesterol <5.17 edema = Yes  diabetesType=Type 1 ==> wheezes=Yes conf :( 0.95)  Second association rule selected for diabetes type 1  discovered a relationship between diabetes type 1 and  wheezes and that rule was almost similar to the rule  generated for diabetes type 2.

The decision tree in figure 4 was generated by using the  attributes in the association rule and from that the rule can be  proved. Here wheezes was selected as the decision attribute  for this tree. The edema has the highest number of records  than all the other nodes.

So, another important thing that can be identified by this  tree is; the people who have diabetes and edema have the  highest probability for originating wheezes than people who  havent edema. Edema has a contribution towards wheezes  than other attributes.  So, it can be concluded that there is a  higher relationship between edema and wheezes.

3) Decision tree for analyzing attributes of human body  and FBS level  After generating decision trees with different attribute    combinations, one was selected as the optimal decision tree  which contains the best attribute combination. When  analyzing this decision tree there was a branch which has the  attribute combination as;  BMI= 18.5-24.9, Occupation=Housewife, Gender=  Female, Systolic blood pressure= 90- 120, Diastolic blood  pressure= 60-80  There were 600 records in the selected dataset which  belong to the patients who are housewives having BMI range  of 18.5-24.9, systolic blood pressure between 90- 120 mmHg  and diastolic blood pressure between 60-80 mmHg. Out of  those patients there were 494 patients whose FBS level was  above 125 mg/dl. It was out of the 1947 patients who have  more than 125 mg/dl FBS level.

This attribute combination was selected as the best  combination among all the combinations in this tree because;  it was the attribute combination which the highest number of  patients had and among them about 83% had more than 125  mg/dl FBS level.

Because of these reasons it can be proved that the people  who are the housewives having BMI range of 18.5-24.9,  systolic blood pressure between 90- 120 mmHg and diastolic  blood pressure between 60-80 mmHg have  highest risk of  having more than 125 FBS level. But these BMI range,  Systolic BP range and Diastolic BP range are the normal  levels which should be there in the human body.

When analyzing much more about this the best rule  generated by the decision tree, with the patients dataset, it  was identified that 93.82% of those patients were in the  range of 39  75 years. Therefore the age which has most  possibility of having more than 125 FBS level can be proved  as more than 39 years.

Also in the dataset 85.90% of the patients with this  attribute combination had wheezes. Patients with above  attributes and age range of 39-75 years, 76.72% had  wheezes. As mentioned in earlier sections, as well as results  generated by the association rules also prove this situation  that there is a link between wheezes and increased FBS level.

Also among the patients with above attribute collection  there were 95.87% patients with primary or secondary  education level. Therefore it can be said that, when the  education level is low of a person it affects his FBS level in    blood. The reason for that can be not having enough  knowledge about the necessary life style needed to control  the sugar level.

The best finding is that there patients with attribute  combination generated by decision tree were 100% females.

The decision tree generated to further analyze the  relationship between gender and FBS level is shown in  figure 5.

When considering the decision trees generated to  analyze the probability of gender in different attribute  combinations, in most of the times WEKA did not even  generated the tree. The reason is that, when designing the  tree, WEKA selects the best attributes to split the data  records at the top of the decision tree to get the possibilities  Figure 2. Decision tree for diabetes type 1 and edema Figure 3. Decision tree for diabetes type 1  and wheezes  - 375 -  of the particular attribute. When considering attribute  Gender, female has the highest possibility than male.

Therefore there is no reason to do the splitting any more.

Association rules that generated regarding the gender and  both diabetes types also proved that when the other attributes  are in normal levels gender becomes the major attribute of  increasing the possibility of having Diabetes.

The overall conclusion which can be obtained through  this is, the patients who are female housewives having  wheezes, BMI range of 18.5-24.9, systolic blood pressure  between 90- 120 mmHg and diastolic blood pressure  between 60-80 mmHg has the most possibility of more than  125 mg/dl in the FBS level. Because the BMI range, Systolic  BP range and Diastolic BP range are in the normal levels; the  gender of female, aged between 39-75 years, education level  only having primary or secondary education and having  wheezes become the major decision factors of high FBS  level.



V. DISCUSSION  Following section is about the problems encountered and  issues faced when doing the project and key contributions of  the research towards the diabetes field and research  community.

A. Problems Faced  When considering the phase 2 of the research there were    several problems with the WEKA software, when generating  the decision tree. The content of the window which displays  the generated decision tree cannot be zoomed out/in  according to the requirement of the user. Therefore it was  difficult to view and analyze the generated decision trees  with all its' branches according to the needs. Also the  generated decision tree could not copy to another  application. Therefore generating an image of a large  decision trees were impossible.

B. Key contributions of the research  One of the key contributions of this research is to identify  hidden risk factors of Diabetes. The other key contribution is  to identify whether there is any possibility to increase the  Diabetes risk level when different combinations of risk  factors are taken together.

The value of these key contributions can be described  focusing different end users such as physicians and the  people who have or who do not have Diabetes. For example  after experimentally proving the results of this research, the  doctors will be able to exactly say how much of possibility a  person has to get Diabetes and other diseases which occur as  side effects of Diabetes. Other than that the patient will be  able to get a brief idea of whether he would get Diabetes in  the future or whether he already has Diabetes in his body  without his knowledge.



VI. CONCLUSION  This paper discussed the utilization of classification  techniques and association rules generation to identify the  undiscovered decision factors of diabetes and the effects of  diabetes.

Phase 1 of this research included the preliminary findings  of the generation and analysis of the association rules. After  the association rules generation, to further improve the  reliability of the results, classification approach was used.

This paper covered the phase 2 of the research which covers  the application of classification techniques. The conclusions  which can be made through phase 1 and phase 2 are stated  below.

A relationship between edema and diabetes has been  identified from the association rules generation. The results  obtained from the decision tree analysis also clearly state  that, the probability of occurring edema for both diabetic    type patients will increase if they have wheezes. From the  decision trees generated for edema and both diabetes types it  can be concluded that, wheezes will more affect towards  developing edema for both diabetic types than the other  attributes.

A strong relationship between wheezes and diabetes also  identified with association rules. Currently in the medical  field, no relationship is identified between wheezes and  diabetes. The decision tree analysis regarding this aspect  discovered that the diabetic patients who are suffering from  edema have the highest probability for developing wheezes  than the people who havent edema. Edema has a  contribution towards wheezes than other attributes.  So, it  can be concluded that there is a higher relationship between  edema and wheezes.

In the previous phase of this research, a high risk for  women towards diabetes was identified than men. Another  conclusion obtained was, when the BMI range, systolic BP  (Blood Pressure) range and diastolic BP range are in the  normal levels, females with only primary or secondary  Figure 5.    Decision tree for diabetes type 2 and gender.Figure 4. Decision tree for diabetes type 2  and wheezes  - 376 -  education aged between 39-75 years, and having wheezes  will have a high risk towards developing high FBS levels.

All the above discovered relationships are true for both  Diabetes type 1 and type 2. But Diabetes type 1 has a  stronger relationship with all those factors than type 2.

Currently in the medical field, none of the above  discovered information was proved except the relationship  between diabetes and edema. Since a strong relationship  between diabetes and edema was identified through the data  mining techniques, other rules also have a higher possibility  of proven by the real world experiments.

All the conclusions of the entire research were generated  through data mining process and evaluated through the  related literature and the domain experts knowledge. But  they must be   validated through real life applications and  medical experiments. That is the major future work to be  done for this research.

