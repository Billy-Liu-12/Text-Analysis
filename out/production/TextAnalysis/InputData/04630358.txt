

Abstract? Type-1 Fuzzy Logic Controllers (FLCs) have been widely employed in many control applications as they give a good performance and it is relatively easy to extract the type- 1 FLC parameters from experts. However, type-1 FLCs cannot fully handle the encountered uncertainties in changing unstructured environments as they use crisp type-1 fuzzy sets.

Consequently, in order for type-1 FLCs to provide a satisfactory performance in face of high levels of uncertainties, some common practices are followed including continuously tuning the type-1 FLC or providing a set of type-1 FLCs where each FLC handles specific operation conditions. Alternatively, type-2 FLCs can handle uncertainties to give a better control performance. However, it is relatively challenging to extract from experts the Footprint of Uncertainty (FOU) information and consequently the type-2 fuzzy sets for type-2 FLCs. In this paper, we will present a novel method for generating the input and output type-2 fuzzy sets so that their FOUs can capture the faced uncertainties. The proposed method will generate a type- 2 FLC that will try to embed the type-1 FLCs corresponding to the various operation conditions faced so far besides embedding a large number of other embedded type-1 FLCs.

This will allow the type-2 FLC to handle the uncertainties trough a big number of embedded type-1 FLCs to produce a smooth and robust control performance. We will show through real world experiments how the developed type-2 FLC will handle the uncertainties and give a smooth control response that outperforms the individual and aggregated type-1 FLCs.



I. INTRODUCTION  ype-1 Fuzzy Logic Controllers (FLCs) have been employed successfully in various applications for more  than 30 years. Type-1 FLCs usually give a good control performance and they provide a method to construct control algorithms in a user-friendly way closer to human thinking.

Hence, it is relatively easy to extract the rules and the type-1 fuzzy sets parameters from experts. However, type-1 FLCs cannot fully handle the linguistic and numerical uncertainties associated with dynamic unstructured environments as type- 1 FLCs use crisp type-1 fuzzy sets. The designed type-1 fuzzy sets can be sub-optimal under specific environment and operation conditions, however because of the changes in these conditions and the associated uncertainties the chosen type-1 fuzzy sets may not be appropriate anymore. This can cause degradation in the FLC performance resulting in poor control and inefficiency. As a single type-1 FLC cannot handle on its own the high level uncertainties, therefore in practice the type-1 FLC need to be continuously tuned or alternatively the faced uncertainties are handled by a group of type-1 FLCs where each type-1 FLC is designed to  H. Hagras is with the German University in Cairo, New Cairo City, Egypt. He is also with the Department of Computing and Electronic Systems, University of Essex, UK (e-mail: hani@essex.ac.uk).

produce a good response under specific operation conditions.

Type-2 FLCs employ type-2 fuzzy sets which include a third dimension and a Footprint Of Uncertainty (FOU) which provide additional degrees of freedom that make it possible to directly model and handle uncertainties [10], [11]. Hence, FLCs that are based on type-2 fuzzy sets will be able to better handle the uncertainties and will thus have the potential to produce a better performance than type-1 FLCs as was shown in [1], [2], [4], [6], [7], [8], [9], [15].

According to Karnik et al. [3] as the type-reduced set of a type-2 FLC is the centroid of a type-2 fuzzy output set for the FLC; consequently, each element of the type-reduced set is the centroid of some type-1 set embedded in the output set of the type-2 FLC. Each of these embedded sets can be thought of as an output set of some type-1 FLC and, correspondingly, the type-2 FLC can be thought of as a collection of many different type-1 FLCs. Each of these type-1 FLCs is embedded in the type-2 FLC, so the type- reduced set is a collection of the outputs of all the type-1 FLCs embedded in the type-2 FLC. The crisp outputs of the type-2 FLC can be obtained by aggregating the outputs of all the embedded type-1 FLCs [10]. In this way, the type-2 FLC has the potential to outperform the type-1 FLC as it is dealing with the uncertainty through different embedded type-1 FLCs [1].

It is relatively easy to extract the parameters for the type-1 FLC at different operating conditions from experts.

However, it is challenging to extract the FOU information and consequently the type-2 fuzzy sets from the experts. In this paper, we will present a novel method for generating the input and output interval type-2 fuzzy sets so that their FOUs can capture the faced uncertainties. In the proposed method, for each input to the type-2 FLC and for each linguistic label, we will generate a type-2 fuzzy set that will embed all the type-1 fuzzy sets used so far to represent this label under the different operation conditions. While for each output of the type-2 FLC and for each linguistic label, we will generate a type-2 fuzzy set whose centroid will embed all the centroids of the type-1 fuzzy sets used so far to represent this label under the different operation conditions. By doing this we will generate a type-2 FLC that will try to embed the type-1 FLCs corresponding to the various faced operation conditions besides embedding a large number of other embedded type-1 FLCs. This will allow the type-2 FLC to handle the uncertainties through a large number of embedded type-1 FLCs to produce a smooth and robust control performance. In this way, we will generate a single type-2 FLC that will handle the  Developing a Type-2 FLC through Embedded Type-1 FLCs  Hani Hagras, Senior Member, IEEE  T      uncertainties that were handled by a group of type-1 FLCs.

We will show in the experiments section, how this developed type-2 FLC will handle the uncertainties and give a smooth control response that outperform the individual and aggregated type-1 FLCs.

In [5], a system was proposed to generate type-2 fuzzy sets through collecting data from subjects after which data statistics are computed and then the parameters of the type-1 Membership Function (MF) are determined using the data statistics. The derived type-1 MFs are aggregated leading to the FOU which results in a type-2 MF representing a word.

The system presented in this paper is following a different approach from [5] where the proposed system will allow to generate a type-2 FLC that tries to embed the group of type- 1 FLCs that were used under different operation conditions.

It worth mentioning that we are not trying to produce optimum type-2 fuzzy sets and FLC but we are trying to design good enough type-2 fuzzy sets and FLC that will embed the available type-1 fuzzy sets and FLCs and will give a good response in face of the uncertainties.

In the following section, we will present the method employed for deriving the type-2 fuzzy sets for the inputs of the FLC. Section III will present the method employed for deriving the type-2 fuzzy sets for the outputs of the FLC.

Section IV presents the experiments and results followed by the conclusions in Section V.



II.DERIVING THE TYPE-2 FUZZY SETS FOR THE INPUTS OF THE FLC  In [14], Mendel and Wu have derived the upper and lower bounds for cl and cr for the centroid  A C ~ as follows:  lll ccc ?? (1)  rrr ccc ?? (2)  Where lc and rc can be written as follows :  lc = min {cLMF, cUMF} (3)  rc = max {cLMF, cUMF} (4) Where cLMF and cUMF are the centroid of the lower  Membership Function (MF) and the centroid of the upper  MF of the interval type-2 fuzzy set A ~  respectively.

Due to the limited space, in this paper, we are going to  present the proposed method applied only to shoulder MFs such as the ones shown in Fig. 1 and Fig.2. The same method can be extended easily to other MFs as will be explored on our following publications. A left shoulder MF representing a linguistic label such as Low is shown in Fig.

1a while a right shoulder MF representing a linguistic label such as the High is shown in Fig. 1b. In Fig.1a, L corresponds the left hand limit for the left shoulder MF while R corresponds to the right hand limit for the right shoulder MF.

Our aim is to derive an input type-2 fuzzy set for each linguistic label that will embed all the type-1 fuzzy sets that were utilised under different operation condition to represent  this linguistic label. These type-1 fuzzy sets are associated with the different type-1 FLCs. Fig. 2 shows the shape of the shoulder type-2 MFs that could be used to represent linguistic labels such as Low and High.

(a) (b) Fig. 1. (a) The type-1 fuzzy set used to represent the linguistic label Low.

(b) The type-1 fuzzy set used to represent the linguistic label High.

Fig.2. The type-2 MF function of each input in which each type-2 fuzzy set embeds the used type-1 fuzzy sets.

For each linguistic label for every input, we will calculate the centroids of all the type-1 fuzzy sets utilised so far to represent this label. After calculating all these centroids, we will end up with a maximum centroid value denoted as  'kic max and a minimum centroid value denoted as ' k ic min  where k represents the linguistic label for the ith input. In order for the type-2 fuzzy sets to be able to embed the type-1 fuzzy sets utilised so far that correspond to the different operation conditions (we will refer to these as original type-1 fuzzy sets), the type-2 fuzzy set has also to embed the shoulder type-1 fuzzy sets that will emerge from the original type-1 fuzzy sets. For example take the Low linguistic label (shown in Fig. 1), where in case of having 5 original type-1 fuzzy sets (corresponding to different operation conditions) note that for each original shoulder type-1 fuzzy set, each SL value can be connected to any of the 4 A values of the other original type-1 fuzzy sets (SL and A are the base values for the type-1 fuzzy sets shown in Fig. 1a). Hence, we will have 4 emergent shoulder type-1 fuzzy sets for each of the 5 original type-1 fuzzy sets. Hence, we will have about 20 emergent shoulder type-1 fuzzy sets besides the 5 original type-1 fuzzy sets. For the Low linguistic label, the minimum  centroid ''kic min for both the original and the emergent type- 1 fuzzy sets will be associated with the emergent shoulder type-1 fuzzy set formed from the minimum SL and the  minimum A, while the maximum centroid ''kic max will be     associated with the emergent shoulder type-1 fuzzy set formed from the maximum SL and the maximum A.

If we calculated the centroids for the original and emergent type-1 fuzzy sets then these centroids will represent a small proportion from the whole population of the centroids of all the embedded type-1 fuzzy sets that are present in the interval type-2 fuzzy set we want to derive.

This small proportion of centroids will lie in the interval  between ''kic min and '' k ic max . If we shifted ''  k ic min slightly  to the left to have '''kic min and shifted '' k ic max slightly to the  right to have '''kic max , then this will create an extended interval. This extended interval will enable us to accommodate the centroids of the original and the emergent embedded type-1 fuzzy sets besides allowing room for many more centroids of other embedded type-1 fuzzy sets which can lead to a very good control performance as will be shown later. Mendel and Wu [14], have proposed to use the length of the centroid interval set to provide a measure of the extent of uncertainty in the interval type-2 fuzzy set. In a similar manner, we can propose to use the length of the  centroid interval Div= 'kic max - ' k ic min to affect the extent of  uncertainty in the generated type-2 fuzzy set. Hence, we can  relate the shift to ''kic min and '' k ic max to be a fraction of Div,  so the higher Div the higher will be the shift to ''kic min and  ''kic max and hence the bigger will be the extended interval to accommodate the uncertainties. For all shift values till 1.0 Div, we will be able to embed the type-1 fuzzy sets (original and emergent) and handle the uncertainties to produce a good result. For the marine diesel engine control application reported in this paper, we have used Div/4 as it was found to be a compromise for the size of the FOU as the FOU will not extend so much beyond the embedded original type-1 fuzzy sets and at the same time the FOU will be able include further embedded sets to produce a good performance. Note that when Div=0 and when all the SL and A values are the same, there will be no uncertainties and all the type-1 fuzzy sets for the different operations conditions will be the same and the type-2 fuzzy sets will collapse to the certain type-1 fuzzy set.

We will denote kic min as the minimum centroid found so  far by extending ''kic min to ''' k ic min hence,  k ic min = '''  k ic min .

We will denote kic max as the maximum centroid found so far  by extending ''kic max to ''' k ic max where  k ic max = '''  k ic max .

cl represents the left end point for A  C ~ which is equivalent  to the minimum centroid value of all the centroids of the embedded type-1 fuzzy sets and cr represents the right end point for  A C ~ which is equivalent to the maximum centroid  value of all the centroids of the embedded type-1 fuzzy sets [14]. As we have calculated a small proportion of the  centroids population of all the embedded type-1 fuzzy sets, we can still have many centroid values for other embedded type-1 fuzzy sets that lie beyond the current found maximum and minimum centroids (i.e. we might have smaller values  than the minimum centroid found so far ( kic min ) and we might have also a bigger value than the maximum centroid  found so far ( kic max )). This means that we can treat the  minimum centroid value ( kic min ) we found as the upper bound for cl . So cl can be smaller or equal than this value as we might find a smaller centroid value for another embedded type-1 fuzzy set. Also we can use the maximum centroid  found ( kic max ) as the lower bound of cr . So cr can be bigger or equal than this value as we might find a bigger centroid value for another embedded type-1 fuzzy set. From this analysis the following equations applies for each input i and for each linguistic label k:  rc = k ic max (5)  lc = k ic min (6)  The centroid equation of a type-1 fuzzy set is written as follows:  ( )  ( )  x x d x c  x d x  ?  ? =  ? ?  (7)  Therefore the centroid of the Low type-1 fuzzy set in Fig.1a can be written as follows:  2 2 21 . 3 3 2L O W  A A S L S L L c  A S L L  ? ?+ + ? = ? ?+ ?? ?  (8)  The centroid of the High type-1 fuzzy set can be written as follows:  2 2 21 . 3  3 2H I G H B B S H S H R  c B S H R  ? ?+ + ? = ? ?  + ?? ?  (9)  For the type-2 fuzzy set representing the Low linguistic label, using Equation (8) cLMFLow and cUMFLow can be written as follows:  2 2 21 . 3 3 2LO W  Lo w Lo w L M F  Lo w  A L A L S L S L L c  A L S L L  ? ?+ + ? = ? ?  + ?? ?  (10)  2 2 2. 31 3 2L O W  H ig hH igh U M F  H ig h  A U A U S L S L L c  A U S L L  ? ?+ + ? = ? ?  + ?? ?? ?  (11)  Where SLLow and SLHigh are the least and highest SL values among all the original type-1 fuzzy sets representing the Low linguistic label for input i while AL and AU are to be found.

From Equation (10) and Equation (11) it is clear that  >UMFLow LMFLowc c . Hence from Equation(4), rc Low = cUMFLow  and from Equation (3) lc Low= cLMFLow. Therefore Equation (6) and (5) could be written as follows:  2 2 2  m in  1 . 3 3 2  L o wL o w L o w i  L o w  A L A L S L S L L c  A L S L L  ? ?+ + ? =? ?  + ?? ?  (12)     2 2 2  m a x  . 31 3 2  H i g hH ig h L o w i  H ig h  A U A U S L S L L c  A U S L L  ? ?+ + ? =? ?  + ?? ?? ?  (13)  Equation (12) will reduce to  0))2(33()3( 2min  min  =??+??? LowLow Low iLow  Low i SLLSLcLSLcALAL (14)  This is a simple second order quadratic equation and solving it we can get a solution for AL by taking the feasible solution that lies within the range and neglecting the other solution which is out of range (falling outside the feasible range between L and R). Similarly using Equation (13) we can find a solution for AU. Using similar analysis, we can find the values for BL and BU of the High fuzzy set.



III. DERIVING THE TYPE-2 FUZZY SETS FOR THE OUTPUTS OF THE FLC  Although we have analyzed various shapes for the output type-2 fuzzy sets, however due to the limited space, we will present only the triangular type-2 MFs shown in Fig.3. The analysis for various MF shapes will be reported in our following publications. The type-2 FLCs employed in this paper use the center of sets type-reduction, which uses the centroid of the output type-2 fuzzy sets of each fired rule.

Hence, we will aim to design for each linguistic label an output type-2 fuzzy set whose centroid embed the centroids of the output type-1 fuzzy sets used for this linguistic labels under various operation conditions.

(a) (b)  Fig. 3. (a) An output triangular type-1 fuzzy set. (b) A symmetrical type-2 fuzzy sets representing a consequent linguistic label  For a general triangular type-1 fuzzy set (as shown in Fig.

3(a) with base points p,s,q, where p<s<q, the centroid can be calculated as follows by employing Equation (7):  [ ]  c q p s= + + (15)  Note that if the MF is symmetrical, the centroid will end up as the point s.

For each output linguistic label, after calculating all the centroids of the type-1 fuzzy sets utilised so far for this label under different operation conditions, we will end up with a  maximum centroid value (denoted by koc max ) and a  minimum centroid value (denoted by koc min ) where k will denote the label and o will denote the output.

As we are using the center of sets type-reduction for the type-2 FLC then for each output we have to calculate the  centroid of the type-2 interval consequent set of each rule, which is a type-1 interval set determined by its left most point hloy and its right most point  h roy . We will aim to  generate a symmetrical interval triangular type-2 fuzzy set (as shown in Fig. 3b) to represent each consequent linguistic label, where the centroid interval of the generated type-2 fuzzy set will embed the centroids of the type-1 fuzzy sets corresponding to the various operation conditions.

For each linguistic label, the centroids of the type-1 fuzzy sets (that we want to embed in the centroid interval of the type-2 fuzzy set) represent a small proportion from the population of the centroids of all the type-1 fuzzy sets embedded in type-2 fuzzy set. This means that we may still have some centroid values for other embedded type-1 fuzzy sets that lie beyond the current found limits, i.e. we may have other centroid values which are smaller than or equal to  k oc min and we may also have other centroid values bigger  than or equal to koc max . So this means that we can use the  maximum centroid koc max found as the lower bound of cr , so  max k  r oc c= . Also we can set the upper bound of cr to be equivalent of the maximum x-axis point covered by the type-  1 fuzzy sets which is qmax so rc = qmax .

Mendel has shown in [13] that for an interval type-2 fuzzy  set whose FOU is symmetrical about primary variable x at x=m, the centroid interval of such a type-2 fuzzy set is also symmetrical about x=m. Hence, for each linguistic label, we will choose m (which is the center of the type-2 fuzzy set) to be equal to the average value of the centroid values of the type-1 fuzzy sets representing this linguistic label under the different operation conditions. For such symmetrical interval type-2 fuzzy sets, it is therefore only necessary to compute either cl or cr (as the other value will follow by symmetry).

For an interval type-2 fuzzy set whose FOU is symmetrical about m? X, Mendel and Wu [14] have  introduced the following Equations for rc , rc ( ) ( )HUMF UMF HLMF LMF  r UMF LMF  c m A c m A c m  A A  ? ? ? = +  + (16)  ( ) ( )  HUMF UMF HLMF LMF  r  LMF  c m A c m A c m  A  ? ? ? = + (17)  According to [14] by symmetry lc =- rc and lc =- rc .

ALMF and AUMF are the areas under the lower and upper MFs respectively. cHLMF and cHUMF denote the centroids of half the (symmetrical) lower and upper MFs respectively. i.e.

cHLMF=  ? ?  ?  ?  m  m  dxx  dxxx  )(  )(  ?  ? and cHUMF=  ?  ? ?  ?  m  m  dxx  dxxx  )(  )(  ?  ?  According to [14] when a symmetrical interval type-2  fuzzy set A ~  is shifted by ?m=m?-m so that A ~  is now symmetrical around m? then in Equations (16) and (17), because ALMF and AUMF remain unchanged, and cHUMF , cHLMF and m are all shifted by ?m, so both rc and rc are also     shifted by ?m. This means that the calculation of rc and rc could be simplified by shifting the symmetrical interval  type-2 fuzzy set A ~  by ?m to be symmetrical around a more  convenient point like the origin (as in [14]) to have sA  ~ (as  shown in Fig. 4). In Fig. 4, we have a symmetrical triangular  interval type-2 fuzzy set A ~  which is centred around m and can be represented by the two points m+pl and m+pu and their symmetrical points around m: m- pl and m-pu. So if we  shifted A ~  so that m?=0 and ?m=-m, we will have sA  ~ with  the base points m-pu-m=-pu , m-pl-m=-pl, m+pl-m=pl and m+pu-m=pu. If we then used Equations (16) and (17) to  calculate rsc and rsc of the shifted type-2 set sA ~ , then for  A ~  : rc = rsc -?m = mc rs + and rc = rsc -?m = mc rs + .

Fig.4. Shifting a symmetrical type-2 fuzzy set to the origin to facilitate computation.

In case of the shifted symmetrical triangular interval type- 2 fuzzy set sA  ~ that is centred around the origin as shown in  the left part of Fig.4, we will then have m=0, ALMF=pl, AUMF= pu, and from Equation (15) by substituting p=0, s=0 and q=pu we get cHUMF= pu/3, similarly cHLMF=pl/3. By  substituting in Equations (16) and (17) rsc and rsc could be written as follows:  1 * *  3 3rs pu pu pl pl pu pl  c pl pu  ? ?? ? = =? ?+? ?  (18)  2 2* *  6 6 rs  pu pu pl pl pu pl c  pl pl  ? ? = = (19)  As we shifted the type-2 set A ~  by ?m to form sA ~ ,  therefore we have also to shift koc max and qmax by ?m to have  qsmax and k ocs max , therefore we can write rsc and rsc as  follows:  rsc = 3  pu pl? = kocs max (20)  rsc = pl  plpu   22 ? = qsmax (21)  By subtracting Equation (21) from (20), we have:  qsmax - k ocs max = D = ?  ?  ? ? ?  ? ?  +?  23 pl  plpuplpu (22)  By adding Equations (21) to (20), we have:  qsmax + k ocs max = S = pl  plpu   22 ? +   plpu ? (23)  From Equation (22), it could be seen that pl  plpu   22 ? =  D+  plpu ? therefore from Equation (23),  S= D+  plpu ? +   plpu ? = D+   )(2 plpu ? (24)  Therefore we can see from Equation (24) that pu-pl=  )(3 DS ? and thus we get  3( )  S D pu p l  ? = + (25)  Substituting in Equation (22), we get:  D =  )(3 DS ?  ? ? ?  ?  ?  ? ? ?  ?  ?  ?  ++ ?    )(3  pl  plpl DS =  pl  DS   )(3 2? (26)  Therefore pl can be written as pl= D  DS   )(3 2? . From  Equation (25), pu could be written as follows:  pu= pl DS  + ?   )(3 = ??  ? ??  ? ? +  ?  D  DSDS    )(3 =  D  DSDS  )3)((3 +? (27)  Substituting the values of S and D from Equations(22), (23) , it follows that  pl= )(8  )(3  maxmax  maxmaxmaxmax  k os  k os  k os  csq  csqcsq  ?  +?+ =  = )(2   maxmax   max k os  k o  csq  cs  ? (28)  pu = )(8  ))(3))(((3  maxmax  maxmaxmaxmaxmaxmaxmaxmax k os  k os  k os  k os  k os  csq  csqcsqcsqcsq  ?  ?++??+ =  = )(2  )2(3  maxmax  maxmaxmax k os  k os  k o  csq  csqcs  ?  ? (29)  To obtain the base values for the type-2 fuzzy set A ~  we have to shift back by adding m to pl and pu so that we can have the symmetrical type-2 triangular fuzzy set as shown in Fig. 3(b).



IV. EXPERIMENTS AND RESULTS  Due to the limited space, this section will report only on one set of experiments that deals with the speed control of marine diesel engines. The experiments were performed on a marine diesel engine testing platform which is designed to realistically reflect the characteristics and operating     conditions of the marine diesel engines with the ability to alter speed, load, inertia and torque. The platform uses the noisy sensors and actuators used in the engine with the ability to introduce the same uncertainty levels faced in the real engines. In the following experiments, we will compare the developed type-2 FLCs against the different individual type-1 FLCs that were used under the various operation conditions.

Both the type-1 and type-2 FLCs will have two inputs which are the error ?e?, (which is the difference between the process speed set-point and the current speed) and the rate of change of error ?d?. Both the type-1 and the type-2 FLCs will have only one output which is Manipulating Variable ?mv? which is corresponding to the electric output to the actuator. Each input will be represented by two linguistic labels which are Low and High. The FLC output will be represented by four linguistic labels which are Negative Large ?NL?, Negative Small ?NS?, Positive Small ?PS? and Positive Large ?PL?.

The type-2 FLCs will be constructed through the various type-1 FLCs used under the different operation conditions of 20%, 40%, 60%, 80% and 100% full operation load.

A. Control Surface Analysis  The control surface enables us to visualize the unknown input-output mapping function articulated by the FLC which will allow us to analyze the response of each controller. Fig.

5(a) and Fig. 5(b) show the control surfaces for the type-1 FLCs that were tuned to handle 20 %, and 60 % of full operation load respectively. Note that the control surfaces of these type-1 FLCs are steep and non smooth and especially around the set point where e= 0 and d=0, consequently any small variation of e and d can cause considerable changes in mv which means that the type-1 FLCs are vulnerable to uncertainties. Moreover, the larger the variations in e and d due to the uncertainties (which can be associated with the change of operation conditions), the bigger will be the disturbances to mv which can cause instability and destruction of the engine. Fig 6a shows the control surface formed by aggregating the 5 type-1 FLCs corresponding to the various loads (20%, 40%, 60%, 80% and 100% full operation load) this surface still shows the steep non smooth characteristic of the individual type-1 FLCs, however, it is slightly smoother than the individual type-1 FLCs. Hence, the control performance improves in face of uncertainty when aggregating several type-1 FLCs  According to Karnik et al. [1], the type-2 FLC can be thought of as a collection of many different type-1 FLCs where each of these type-1 FLCs is embedded in the type-2 FLC. So the crisp outputs of the type-2 FLC can be obtained by aggregating the outputs of all the embedded type-1 FLCs [12]. In this way the control surface of the type-2 FLC using the Karnik-Mendel type Reduction shown in Fig. 6b shows a very smooth response as it is (in theory) aggregating the outputs of the 5 type-1 FLCs corresponding to the various operation loads plus many more embedded type-1 FLCs.

This smooth response will consequently give a very good  control performance that can handle the uncertainties and disturbances as near the set point where e= 0 and d=0, small variations in e and d will not cause significant changes to mv and the response goes on gradually and smoothly with no steep changes. The smooth control surfaces associated with the type-2 FLC have been shown in other previous work [1].

(a) (b) Fig. 5. (a) Control surface type-1 FLC tuned to operate at 20 % full load. (b) Control surface type-1 FLC tuned to operate at 60 % full load.

(a) (b) Fig. 6. (a) Control surface of aggregated type-1 FLCs. (b) Control surface of the developed type-2 FLC.

B. Representative Control Experiments  Although we have performed many control experiments, however due to the limited space, in this subsection, we will present only representative set of control experiments.

In the following experiments a set point of 1000 rpm was chosen for the marine engine testing platform. We mimicked the real operation of diesel engines where in each experiment the controllers were allowed to reach the set- point and stabilise with no load, after which we began to add different loads suddenly to mimic the uncertainties associated with change of operation and load conditions. It is necessary for the diesel engine speed controller to be able to deal quickly with the uncertainties associated with a change of load, producing minimum overshoot/undershoot as large disturbances can cause damage due to the large size and high speeds of the engines.

Fig.7 shows a type-1 FLC that was tuned to give a very good response at 20 % full load. After the type-1 FLC was started and stabilised at no load, its nominal operation load (20 % full load) was applied and the FLC showed a very     small disturbance and settled quickly to its set point.

However, as the FLC encountered larger disturbances that were associated with the change of operation conditions, the type-1 FLC performance deteriorated and it produced high overshoots and undershoots and it required a much longer period to settle back to the set point. Thus as discussed before, a single type-1 FLC will not be able to handle all the uncertainties associated the change of operation conditions on its own and therefore we will need other type-1 FLCs (designed for other loads) to handle the faced uncertainties.

Fig. 7. (a) Response of the 20% type-1 FLC to load changes.

(a) (b) Fig.8. (a) Comparison of the response of 20 % type-1 FLC with the type-2 FLCs without changing the load. (b) Comparison of the response of 20 % type-1 FLC with the type-2 FLCs with 100 % load addition.

Fig. 8 shows a comparisons between the type-1 FLCs that were tuned for a specific load (20 % full load) and the developed type-2 FLC that use the Iterative Karnik-Mendel procedure (referred to as Iterative type-2 FLC). Fig.8 also shows the type-2 FLC that use the Wu-Mendel uncertainty bounds method (referred to as the Bounds type-2 FLC) [16].

The Bounds type-2 FLC used the developed input and output type-2 fuzzy sets and we aimed to verify that the difference between the developed Iterative type-2 FLC and the Bounds type-2 FLC is very small. This means that the suggested method in this paper could be used in conjunction with the Wu-Mendel uncertainty bounds method to give even a faster control performance.

Fig. 8a shows comparisons that were conducted with no load changes from the nominal loads that the type-1 FLCs were tuned for (20 % full load). From these comparisons, it is obvious that the performance of both the type-2 FLCs (the Iterative and Bounds type-2 FLCs) gave a slightly superior performance to the type-1 FLC where the type-2 FLCs had  less settling time while producing less overshoots and undershoots. This shows that even with no load disturbance, the type-2 FLC outperformed the type-1 FLCs under the loads where the type-1 FLCs were tuned to be sub-optimal.

Note that the performances of the Iterative and Bounds type- 2 FLCs are very close that it is very difficult to distinguish both performances from each other.

The power of the type-2 FLC will be further demonstrated when the FLC is introduced to high uncertainty levels as shown in Fig. 8b in which the FLC is introduced to a high disturbance of adding 100 % full load. It is obvious that the type-2 FLCs produced a robust response as it handled the uncertainty and recovered quickly with a short settling time while producing smaller overshoots and undershoots compared to their type-1 counterparts. The type-2 FLC had handled the uncertainties and produced a good performance using a single type-2 FLC, while the type-1 FLCs need various controllers to handle these uncertainties. Again, note that the performance of the Iterative and Bounds type-2 FLCs is very close. The same results applied to various load and operation conditions.



V.CONCLUSION  In this paper, we presented a novel method for generating the input and output type-2 fuzzy sets so that their FOUs can capture the faced uncertainties. In the proposed method, for each input to the type-2 FLC and for each linguistic label, we generated a type-2 fuzzy set that embedded all the type-1 fuzzy sets used so far to represent this label at the different operation conditions. While for each output of the type-2 FLC and for each linguistic label, we generated a type-2 fuzzy set whose centroids embedded all the centroids of the type-1 fuzzy sets used so far to represent this label at the different operation conditions. By doing this we generated a single type-2 FLC that tried to embed the different type-1 FLCs that were used as a group to handle the uncertainties under the various operation conditions. In addition, the type- 2 FLC embedded a large number of other embedded type-1 FLCs. This will allow the type-2 FLC to handle the uncertainties through a large number of embedded type-1 FLCs to produce a smooth and robust control performance  Through the control surface analysis and through control experiments, we have shown that the developed type-2 FLC can handle the uncertainties associated with the change of operation to produce a robust and smooth control response.

The type-2 FLC can recover quickly from disturbances with short settling times and with minimum overshoots and undershoots thus outperforming the performance of the type- 1 FLCs. It was noted also that the performances of the Iterative and Bounds type-2 FLCs are very close for the control application. Hence the Wu-Mendel uncertainty bounds method can be used in conjunction with the suggested method and thus avoiding the use of the iterative Karnik-Mendel procedure.

Our following work will report on the extension of the suggested method to different input and output type-2 MF     shapes. We will also present more control surface analysis and control experiments to investigate more the suggested method.

