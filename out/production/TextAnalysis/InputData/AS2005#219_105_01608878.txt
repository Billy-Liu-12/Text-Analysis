

Abstract? This work describes a novel synthesis technique of inline low pass prototype filters with arbitrary transmission zeros. The inline topology is constituted by the cascade of elementary building blocks extracting single or multiple transmission zeros. The novel synthesis method is  based on the matrix rotation technique; starting from a recently proposed canonical prototype (wheel topology), general rules are introduced for determining the sequence of matrix rotations with the corresponding rotation angles which lead to the desired inline topology (which must satisfy the feasibility conditions for the given transmission zeros). The proposed technique does not require optimization procedures and it allows the association of a transmission zero to a specific block (such as the triplet, the quadruplet, the box section, etc) increasing the degree of freedom in the filter design process.



I. INTRODUCTION A common approach to the design of microwave filters is  based on the synthesis of a low pass prototype, whose frequency domain is defined through a well known frequency transformation. However the direct synthesis of such a prototype is possible only in very few cases, especially when asymmetric transmission zeros are required in the frequency response (assumed equiripple in the passband). In this case some specialized canonical topologies [1-3] allow the direct evaluation of the normalized coupling matrix which defines the prototype; on the other hand the most usual configurations practically employed in microwave filters are characterized by a inline modular topology, obtained by cascading elementary blocks (triplets, quadruplets, box sections, etc) extracting single or multiple transmission zeros. For obtaining the coupling matrix of this modular topology, some approaches have been suggested in the literature, almost all based on optimization techniques [4]. In this work we present a technique for the synthesis of inline modular prototypes which is based on the Given?s transform (matrix rotation) applied to the normalized coupling matrix of a canonical wheel prototype; the proposed method does not require optimization or iterative procedures and it is applicable to any arbitrary sequence of blocks (the only required condition is the compatibility of the blocks employed with the transmission zeros characterizing the prototype frequency response). The result obtained from the synthesis consists in the sequence of  matrix rotations (pivots and rotation angles) required for transforming the starting matrix (wheel canonical prototype) into the coupling matrix of the desired inline topology.



II. THE CANONICAL STARTING PROTOTYPE The first step in the proposed procedure is the synthesis of the wheel prototype exhibiting the required transmission zeros in the frequency response (generalized Chebycheff). This prototype was introduced by Bell in a workshop presentation based on [3] at the 2004 International Microwave Symposium; its general configuration is illustrated in fig. 1.

In this topology the load is coupled to all resonators from n up to m; so the non-zero elements of the normalized coupling matrix M are only on the main diagonal, on the first two sub- diagonals, on the last row and on the last column. Moreover the index m (last coupled resonator) depends on the overall number nz of transmission zeros in the prototype frequency characteristic: m=n-nz.

The wheel prototype is canonical, i.e. whatever frequency response with equiripple passband and prescribed transmission zeros (nz n) can be synthesized with this topology; reducing any coupling matrix to Bell?s wheel form is a straightforward task which can be accomplished by a well defined sequence of matrix rotations: let assume Mfull a generic n+2 coupling matrix and (0,1,?,n, n+1) the indexes for its rows and columns (0 and n+1 represent source and load  Synthesis without Optimization of Cascaded Inline Prototype Filters with Arbitrary Transmission Zeros  Giuseppe Macchiarella1, Stefano Tamiazzo2  1Politecnico di Milano, Dipartimento di Elettronica e Informazione, Piazza Leonardo da Vinci, 32 ? 20133 Milano ? ITALY  (macchiar@elet.polimi.it)  2Forem (An Andrew Company), Via Archimede, Agrate Brianza (Mi) ? ITALY (stefano.tamiazzo@andrew.com)  Fig. 1.  General topology of the wheel prototype. Each node represents an unit capacitance in parallel to a frequency invariant susceptances (main diagonal elements of the normalized coupling matrix); the segments connecting the nodes represent admittance inverters (other entries of the normalized coupling matrix)  m  n  n-1  n-2  n-3  L    S    respectively). A possible algorithm which reduces Mfull into the wheel matrix Mwheel is the following: M = Mfull For k = 1:n-1 For j = k+1:n Annihilate element Mk-1,j using element Mk,j as pivot:  rotation angle 1 1,  1,  tan k jr k k  M  M Next j Next k MWheel = M  In this work the transversal canonical prototype has been used for generating the matrix Mfull; the elements of this matrix can be analytically evaluated from the simple formulas given in [1]

III. SYNTHESIS OF THE MODULAR TOPOLOGY The synthesis of a cascaded blocks topology from the wheel prototype is initialized by extracting the first desired transmission zero through a suitable rotation (Given?s transform [2]) of the starting wheel matrix M(0); said sz the frequency of the transmission zero to be extracted (generally a complex number), it can be demonstrated that the required rotation has pivot (n-1,n) and rotation angle 01 given by:  (0) ,1  01 (0) 1,  cot z n n n n  s i M M  (1)  This rotation generates the matrix M(1) with the new coupling (1)  2,n nM , which can be moved along the wheel topology with subsequent rotations up to the position [p-2,p]. The pivot and rotation angle k,k+  required for generating M(k+1) from M(k) are:  Pivot (n-k-1,n-k), 1 ( ) ( ) , 1 1, 1 , 1tan  k k k k n k n k n k n kM M    (2)  Various modular blocks can be now constructed by suitable repeating the extraction procedure above described.

A. Triplet block This block can extract a single imaginary transmission zero (sz=ifz). To obtain such a block it is sufficient to move the initially generated (1)2,n nM up to node p  m+1; in this way the triplet [p-2,p-1,p] is generated with n-p+1 rotations (including the initial one for generating (1)2,n nM ). The coupling matrix M(k) correspondingly obtained is characterized by an inline part (including the extracted triplet) constituted by the rows/columns with index n-nz-2; extraction of the remaining transmission zeros can be performed through triplets repeating the procedure above described on M(k).

Other kind of modular blocks can be however extracted as illustrated in the following subsections. When all the transmission zeros have been extracted, the final matrix generated will have the inline configuration desired.

B. Quadruplet block With this block a pair of complex transmission zeros can be  extracted; let consider first the case of asymmetric imaginary transmission zeros at frequencies ifz1, ifz2 Following the procedure previously explained, the triplet [p-3, p-2, p-1] extracting ifz1 generated from M(0), producing the matrix M(n- p+1); the extraction of the second zero ifz2 is repeated on M(n- p+1) with the triplet [p-2, p-1, p] (matrix M(2n-2p+2) is generated). This double-triplet extraction produces a lattice block formed by the resonators [p, p-1, p-2, p-3] with all the possible couplings (fig. 2).

Now a further matrix rotation of M(2n-2p+2) with pivot [p- 2,p-1] allows to cancel one of the transversal coupling for realizing the quadruplet block; the required rotation angles are given by:  1 (2 2 2) (2 2 2) , 2 1,tan n p n p  A p p p pM M (Annihilation of (2 2 2)  , 2 n p  p pM )  (3) 1 (2 2 2) (2 2 2)  1, 3 3, 2tan n p n p  B p p p pM M (Annihilation of (2 2 2)  1, 3 n p  p pM )  Note that the overall number of rotations required for the quadruplet extraction is 2n-2p+4.

It is interesting to observe that this method for extracting a quadruplet from the wheel prototype works even with complex transmission zeros (it is known that a quadruplet allows to extract a pair of complex zeros with the same imaginary part and opposite real part [2]). If sz=?fzr+ifzi are the complex zeros, the expression of the angle 0,1 to employ for starting the triplets extraction is the following (from (1)):  (0) ,1  0,1 (0) 1,  cot zr zi n n n n  if f M M  (4)  It must be observed that, being this angle complex, also the elements of the coupling matrices M(n-p+1) and M(2n-2p+2) will have in general complex elements; however, after imposing the annihilation of one of the lattice block transversal couplings (rotation of M(2n-2p+2) with angle A or B) the final matrix M(2n-2p+3) will have only real elements.

C. Quintuplet block The construction of a quintuplet block defined by nodes [p, p- 1, p-2, p-3, p-4] (fig. 3) begin with the extraction of the following three triplets in sequence: [p-4, p-3, p-2], [p-3, p-2, p-1], [p-2, p-1,p]. A lattice block of order 5 (matrix M(k)) is then obtained; applying the following rotations to M(k), the unwanted couplings are eliminated and the quintuplet is formed.

Fig. 2.  Lattice block obtained after the extraction of the two triplets  p  p-1p-2  p-3    pivot (p-3, p-1), 1 ( ) ( ) 1 4, 1 4, 3tan  k k p p p pM M  (  ( 1) 4, 1 0  k p pM )  pivot (p-3, p-2), 1 ( ) ( )2 4, 2 4, 3tan k k  p p p pM M  ( ( 1)4, 2 0kp pM )  pivot (p-2, p-1), 1 ( ) ( ) 3 2, 1,tan  k k p p p pM M  (  ( 1) 2, 0  k p pM )  D. Box section Extraction of a box section is accomplished with the initial  formation of the triplet [p-3, p-2, p-1] (with p < m). The matrix M(n-p+1) so obtained is the rotated using the pivot (p- 2,p-1) with the following rotation angle  [5]:  1 ( 1) ( 1) ( 1) 2, 1 1, 1 2, 20.5 tan 2  n p n p n p r p p p p p pM M M  This rotation annihilates the coupling ( 1)2, 1 n p  p pM and  generates the new coupling ( 1)2, n p  p pM allowing the formation of  the box section (fig. 4).

It?s easy to see that the proposed procedure is indeed general; one can gather in triplets, quadruplets, or even higher order modular blocks in any position, or any order, while imposing the desired correspondence between the blocks and the zeros they are supposed to realize, as long as their feasibility is assessed.

Finally it should be noticed that it is a relatively simple task to build up a computer routine, which, starting from the wheel prototype and the desired sequence of modular blocks (i.e.

triplets and/or quadruplets compatible with the imposed transmission zeros), computes the elements of the desired in- line coupling matrix.



IV. EXAMPLES OF APPLICATION As first example of application, the novel synthesis method has been applied to the design of a dualband filter, i.e. a filter presenting two pass-bands separated by one stop-band with prescribed attenuation. A design technique for this filters category has been presented in [6], where it is shown how to compute the characteristic polynomials defining the desired frequency response.

For the example here considered, the following frequency specifications hold:  Passband 1: -1  -0.4782 Passband 2:  0.4782 ? 1 Passbands return loss: 20 dB.  Prototype order: 12 Note that the prototype to be synthesized presents a frequency symmetric characteristic. Applying the synthesis procedure in [5], the following characteristic polynomials [2] are derived:  P = [7.91e-3   0   2.342e-3    0   0.166e-3] F = [1  0  3.27  0  4.22  0  2.75  0  0.95  0  0.165  0  0.0114] E = [1  1.04  3.81  2.98  5.41  3.12  3.63  1.47  1.21  0.31  0.192  0.0246  0.0114]  From the above polynomials the transversal prototype can be easily evaluated following the rules reported in [3]. Applying the algorithm in sect. II the Wheel prototype is then generated; the coupling matrix M(0) (order 14) has the following non zero elements:  M(0)(i,i+1): [0.7210   -0.8189   -0.4055   -0.7165   -0.3274 -0.7409   -0.3191 -0.8144   -0.3594   -0.6528   -0.0396 -0.4617    0.3120] M(0) (i,14)= M(0) (14,i): [0   0     0      0      0      0      0     0 0.3657    0    0.5373     0    0.312    0]  It can be now observed that the transmission zeros here imposed (the roots of P) are ? 0.4223i, ? 0.3432i; it is then possible to synthesize an inline prototype constituted by the cascade of two symmetric quadruplets (fig. 5):  Applying the procedure outlined in sect. IIIB the coupling matrix M is finally obtained:  M(i,i+1): [0.7210    0.5740    0.1538    0.6226    0.3181 0.7586    0.2996     0.7577    0.3313    0.4920    0.3084 0.3938    0.7210] M(2,5)= -0.584 ,   M(10,13)= -0.718  Fig. 6 shows the frequency response of the synthesized inline prototype; it can be seen that the dualband response originally imposed is exactly reproduced.

Fig. 5.  Inline prototype for the dualband filter  FIG. 6: Normalized frequency response of the in-line dualband prototype  -2 -1.5 -1 -0.5 0 0.5 1 1.5 2-70  -60  -50  -40  -30  -20  -10   AttenuationReturn Loss  dB  Fig. 4.  Formation of a box section  p-1p-2  p-3 p  pp-2  p-3 p-1  p  p-1  p-2  p-4  p-3  p  p-1  p-2  p-4  p-3  Fig. 3.  Formation of a quintuplet block  quintuplet Lattice (order 5)    As another synthesis example, let consider the following low- pass prototype specifications (single pass-band): Return Loss: 20 dB; order: 9; Transmission zeros (4): [?0.29-0.124i, 1.872i, -1.543i] The following characteristic polynomials have been initially determined:  P=[ 0.037  - 0.0030i   0.1069  0.0279i -0.0107] F=[ 1 0.2569i 1.999 0.477i 1.255 0.266i  0.259 0.0435i  0.0106 0.0009i] E=[ 1.0000  1.9615+0.2569i  3.9226+0.5083i  4.4822+0.98i  4.3512+1.0932i  2.9336+1.0026i  1.4985+0.6292i 0.4965+0.2834i 0.0932+0.0755i  0.0065+0.0085i]  Then the transversal canonical prototype is synthesized and transformed into the wheel prototype using the algorithm in sect.1; the normalized coupling matrix obtained is the following:  M(0)(i,i+1): [-0.9903   -0.8216   -0.5910    0.5529    0.5451 0.5251    0.6443 -0.7122   -0.3328    0.7352] M(0)(i,i): [-0.0023   -0.0026   -0.0033   -0.0049   -0.0054 -0.0563] M(0) (i,11)= M(0) (11,i): [0  0   0     0     0   -0.1284   -0.0871 0.6451   -0.0053    0.7352    0].

Appling the rules above described (and taking into account the feasibility conditions associated to the different blocks) two possible inline prototypes with the topologies in fig. 7 can be synthesized.

Topology A is constituted by two quadruplets, the first extracting the complex transmission zeros ([?0.29-0.124i) and the second extracting the remaining two zeros (imaginary).

The computed elements of the coupling matrix M(A) are given by:  M(A)(i,i+1): [-0.9903   -0.6421   -0.2316    0.4712    0.5678 0.5467    0.5306     -0.6671   -0.8128    0.9903] M(A)(i,i): [-0.0023    0.1188    0.0711   -0.0086   -0.0057 -0.0064   0.1131   -0.0209   -0.0023]  ( ) ( ) ( ) ( ) 1,3 1,4 6,8 6,9, , , : 0.0628,   0.5086,   0.0623,   0.1202  A A A AM M M M Topology B is the cascade of a quintuplet extracting the first 3 zeros with a box section extracting the last zero; the coupling matrix M(B) obtained is:  M(B(i,i+1): [-0.9903   -0.8037   -0.5021    0.2617    0.4604 0.5503    0.2803   -0.0000   -0.6856    0.9903]  M(B(i,i): [-0.0023   -0.1316   -0.0571   -0.0084    0.0177 -0.0129   0.8109   -0.3573   -0.0023]  ( ) ( ) ( ) 1,5 2,5 2,4, , : 0.1703,   0.3023,   0.0656  B B BM M M ( ) ( ) 6,8 7,9, : 0.4804,   0.4527  B BM M  Both the networks exhibit the frequency response shown in fig. 8.

FIG. 8: Normalized frequency response of the in line prototypes in the second example

V. CONCLUSIONS A general, analytical procedure for the reduction of a  canonical low-pass prototype filter to the modular, cascaded inline form has been proposed. It has the advantage of not requiring optimization or iterative techniques allowing at the same time to assign each zero to the desired modular block.

This gives an additional degree of freedom that can be conveniently exploited in the design of microwave filters.

