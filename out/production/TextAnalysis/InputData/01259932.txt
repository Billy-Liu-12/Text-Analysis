A MINING ALGORITHM FOR FUZZY WEIGHTED ASSOCIATION RULES

Abstract: The association rule mining is an important research  subject of knowledge discovery. Aiming at the common method of mining for attributes of quantitative type in database, we analyze the existing defects and put fomard a method of applying fuzzy set tbeory to association rules mining. Due to the problem that each attribute?s importance is diNerent in specific purpose mining, we put forward a solution by assigning corrwpondiug weight to attribute of diNerent importance. Basing on the above idea, we Put forward a mining deorithm nsine fuzzv weighted association  probability p(B 1 A)). Strong association rules are such rules which can satisfy the lowest threshold of support ratio and the lowest threshold of confidence ratio at the same time. Algorithm of this paper draws lessons from this idea.

However, in reality, attribute relations in database usually are shown as fuzzy IekitiOnS, fiuthermofe, the importance of them is different. Ref.[l] did not discuss these problems and the mining method of the association rules. This paper bas researched into these problems.

rules and through-the given &penmenc we testify the feasibility of the algorithm,and point ont the existing defect of the algorithm demanding improvement in future.

2 Putting forward the problems of fuzzy weighted association rule mining  Keywords: Fuzy  weighted association rules; Fuzzy set; Mining  algorithm; Frequent pattern; Quantitative attribute; Database  1 Introduction  Association rule mining is to discover the interesting association or relevant relation among itemsets in a large quantity of data. Ref.[l] firstly put forward an idea of mining association rules and discussed the mining problem of association rules of Boolean attribute. Suppose: I = { j , , i 2 ; . . , i m }  is setofitems,task-relevantdataD is a set of transactions in database, each transaction T in D is a set of items and T c I .  Each transaction has an identifier called TID. Suooose A is an itemset. transaction T  Because some attributes in database belong to quantitative type, aimed at mining method for association rules of this kind of attribute, at present, the common method12? is to make the continuous data discrete thus we can transform the problem of association rules of quantitative attribute into one of the Boolean attribute and deal with it. One method is to divide the discussing domain of attributes into some non-overlapped intervals, then maps continuous data to these intervals. Because obvious division of intervals might exclude some latent elements near certain intervals, thereby some meaningful intervals might be neglected; Aother method is to divide the discussing domain of attributes into some overlapped intervals, then the elements situated near borders of intervals might be located in two intervals at the same time.

These elements contribute to two intervals at the same time, which might result in excessively emphasizing the function . .  ..

contains A when and only when A E T . Association rule is an implication formula A B ,  in which A c I ,  of these -elements, thus the meaning of intervals might also be excessively emphasized.

certain  The defects of mentioned above two methods mainly I and A = @ , the A in come from the stiff division of the border. In order to solve  transaction set D and has SuPPOfl ratio this problem, we can adopt fuzzy set defined in discussing SUP port(d 2 B )  = p ( A  U B)  domain of attributes to soften the borders. The reason is of A U B in D, that is, probability that fuzzy set can provide much smoother changes between  the elements in the set and the elements which are not in U ?1 ), and also has confidence ratio: the set. owing to these smooth changes, almost all the  confidence(A 3 B) = p ( B  1 A) (a percentage of A in elements near the borders would not any longer be transaction D B also in D, nat is conditional excluded, meanwhile, these elements would not be  (the percentage  0-7803-7865-2/03/$17.00 02003 IEEE  mailto:wwangbaoyi@sohu.com mailto:shaominzhangq@263.sina.com    1 I 20%  excessively stressed either.

Table 1 Attribute table  60% 86%  28%  Suppose an attribute set = { A , ,  A , ,  ..., A,  } and a transaction database D={d,,d,;.. ,d,}in which di includes a transaction identifier tid and a data attribute set: di  =<tid,t> t~dom(A,)xdom(A,)x...xdom(A,) dom(Aj )  is attribute A, ?s value domain.

Definition 1: A fuzzy conception is said to be x = {t,pU,} , px is membership grade denoting how much it belongs to X .

Definition 2 A fuzzy conception set on D is said to be F = ( x , , x , ; . . , x , }  , each fuzzy conception  x i  denotes a fuzzy set hi , for instance, we defme three fuzzy conceptions to attribute ?salary?: (low, medium, high},then F = {sakzvyiow, sak~vy, ,~~~,   sa^^^,,,^^ } .

Definition 3: Fuzzy pattem x is a group of non-empty fuzzy conception sets, expressed as x ,  A x ,  A . . ? x k ,  in which k denotes the length of  x , and x is called k -  pattem, pu,(d) = min{p, (d) I xi EX} , in which, min(set) denotes the minimum element in set.

Definition 4: Support ratio of fuzzy pattern x is  user-prescribed threshold, ID1 denotes the number of transaction in D.

Definition 5: Support ratio of fuzzy association rule: ~ ( P A A A 4  I P ? A 4  2 4  C ( P u , , , ( 4  I P A d 4  2 4  C ( P ? ( 4  bA(4 2 4  sup(A 3 B) = dcD ID1  confidence ratio of fuzzy association rule:  conf (A 3 B )  = d c D  d r D Seeing that in database each attribute?s importance to  specific mining goal is different, we can assign different weights to different attributes, that is, for I = { A , , A , ; . . , A , }  we associate each A, with a      weight wi E (0,1], that is, some weight will be assigned to fuzzy conceptions X, , x2 , .  . . , xp in attribute Ai  Definition.6 Suppose xi is a fuzzy conception in attribute Ai and xi E A A B  , for any d E D  , if pu,, ,(d)>& then d 's contribution to A > B  is: w- PhB (4 = m w w i  x Pz, (4) I xi E A U 4 3 thus d 's contribution to A 3 B inclines to amibute of weight.

Definition 7: Support ratio and confidence ratio of fuzzy weighted association rule respectively are:  E ( w - p A A B v j  I w - ~ ~ ~ ~ ( d )  2 6)  ID1 w_sup(A =) E )  = d E D  13 (W-pA,,B(d)l w - P ~ , , / \ B ( d ) t d w-con/(A * E )  = d e D  E(w-flAd)l  W - f l , M > E ) d e D  the prefix "w-" represents weight, similarly here in after.

The concrete weighted computing method to support ratio and confidence ratio is not described here, and you can find them in ReE[2].

Definition 8: k -frequent fuzzy pattern set L, ={XI A X 2  A . . . A X p  ISUp(X, A X 2  A.. .AX,)  >minsup} , L = U L ~  , we call L frequent pattern set.

Theorem 1: i - 1 sub-pattem of k frequent fuzzy pattem is i - 1 frequent fuzzy pattern.

F'rooE from the definitions that transaction t has a sup&x~ to tizzy pattem, we know thatt 3s support to the pattem x which has length k will always not go beyond that to X 's any sub-pattem. So support ratio of k frequent fuzzy pattem X I support ratio of i - 1 sub-pattem of x , i - 1 sub-pattem of X i s  frequent fuzzy pattem.

4 A mining algorithm for fuzzy weighted association  rules  Mining fuzzy weighted association rules have two  (I)  Generate a frequent itemset L in which the  (2) Produce the wanted association mles by taking  At fust we give a mining algorithm FWFPMA for  steps:  support ratio of all members is higher than minsup;  advantage of L .

frequent fuzzy pattem as follows: Input: transaction database D , fuzzy concept set F ,  the lowest support ratio threshold minsup, weight set W .

Output: frequent pattem set L .

(1) c, = F ;  // C, is the set of fuzzy concepts (2) Foreach X E C ,  do ( s(x)=@;  (3) For each d E D do (4) For each x E c, do (5)If w-p, (d)>& then (6) (Add (d.fid,w-p,(d)) to s(x) ;  (7) L, = {x I x E c, and w-sup(x) I min sup }; (8) sI = (9)For( k : = 2 ;  L,-l # @ ;  k + + ) d o ( (IO) L, = @ ;  s, =@; (11)  w- sup(x) = 0; }  w-suP(x)=w-suP(x)+w-P,(d);~  I x E L, } ;  C, ={C=ql]q2] . . .qk-I ]Q[k- l ] lq l ] =Q[l ] ; . . ,P[k  - 21 = Q [ k -  21, P [ k - I ]  < Q[k - 11 and P E  L,-, , Q E L,-, and VC E Lk-, , where C is a (k  - 1 )  sub-pattem ofC, };  (1 2) For all c E c, do ( (13) w-sup(C)=o;  (15 B = C[l]C[2] . . .C[k - 2]C[k] ; //select two (14) A=C[I]C[2] . . .C[k-2]C[k  -I];  k - 1 sub-patterns of C  and ( d , f i d , w - p ( , ( d , ) ) ~ s ( B ) a n d  d,.fid =d2.tid , ) do  (16) For each element pair ( ( d , f i d , w -  pA (d,)) E S ( A )  (Add  (d, . t id,min(w-pu,(d,) ,w-PB(d2)))  w - sup( C) = w - sup(C) + to s(C);  min(w-~, (d l ) ,w-~B(d, ) ) ) (17) L, ={CEC, Iw_sup(C)>minsup}; ( I 8 )  = I E L k ;  1     lhcccdings of thc Sccond lnccrnational Confcrcncc on Machinc Lcarning and Cyhcrncdcs, Wan ,  2-5 Novcmbcr 2003   (19) L = u L k  In this algorithm, L, : set of frequent fuzzy weighted k patterns, C, : set of candidate fuzzy weighted k patterns, C[i] : the i th fuzzy concept of fuzzy pattem C ,  sk : set of tid lists of L, , L : set of all frequent fuzzy weighted patterns.

The s, andLIare obtained by scanningD in steps (I)-@) , and Lk and sk are obtained in steps (9)-(18) for k >  2 : C, is firstly generated by Lk-, . For each candidate pattern C E c, , s(C) can be derived by fuzzy set operations from two elements of s,-~ . If /s(C)I>minsup, s(c) and C are inserted into sk and L, respectively, otherwise s(C) is deleted from s, . Moreover, for each fuzzy weighted pattern X I  which meets the lowest support ratio, the algorithm will generate an array s ( X )  = { (d.tid, p x  (d)) I px ( d )  2 E, d E D} to save record number of records contributing to pattern X and px ( d )  contributing to patternX .

After generating the set of frequent pattem, we can use algorithm GEN-FWAR to generate fuzzy association rules.

GEN-FWAR is as follows: Input: set of frequent pattem L , lowest confidence  ratio min conf Output: set of rules R ( I )  R = @ ; (2) For each k E L do { (3) For each ( S  c K ) and ( S  # @ ) d o  { If w - conf(S 3 K - S) t w- min conf Add < S , K - S >  to R ; } ]  5 Result of the experiment and analysis of the occupied memory volume of the algorithm  With VB6.0, we analyze the quantitative attribute taken from mushroom database in http://www.ics.uci.edu/-mleardMLSummary.htm1.

According to quantity distribution of each attribute and application effects in reality, we establish fuzzy concept {big, medium, small} or {very big, rather big, medium, rather small, very small] in each attribute and assign a  weight within range of (0,1] to each attribute, with given minsup=0.3. We take records respectively as 500,1000,1500 at random to carry out the experiment.

Results have been shown in Figure I .  When selecting 1500 as record?s number (each record is 124 bytes, capacity of the database is 15OOx 124=18600 bytes) and changing the value minsup, the results of the experiment are shown in  Memory volume (KB)   5 I Z L  500 1000 1500 Number of records Fieure I The exoeriment result when minsun=3  Memory volume (KB) t I!] 5 \ L minsup  0.3 0.4 0.5 Figure 2 The experiment result when different minsup  In this example. the occupied memory volume is (1 I S(X, ) I) x 4 bytes, in which I s(x, ) I denotes the number of records as (d.tid,pu, (d))generated from + E L  1, E L  the algorithm, each record occupies 4 bytes. Due to the number of records as (d.tid, ,u.\ (d)) generated when generating I -pattem is the most, and the occupied memory volume is the largest. So the occupied memory volume shown in Figure 1 and Figure 2 are both volume occupied by generating records as (d.tid, ,fix (d))  when generating I-pattern. From above two Figures we can know that extra memory volume will become larger with the number records becoming larger, and it will also become larger with minsup?s reduction. For example, when selecting 1500 as the number of database, minsup4.3,  http://www.ics.uci.edu/-mleardMLSummary.htm1    XI s ( x i )  I =10691, the occupied memory volume is X , E L  42764 bytes, which is probably 22.9% of the volume of the database. We can see that the scale of database becomes much larger, and the problem about extra memory volume will become more obvious, so fwtlier research into the improvement of the algorithm is needed.

6 Conclusion  Due to many attributes in da+ase are quantitative type, and their importance is different, by defining fuzzy set in discussing domains of attribute to substitute for the common method of dividing ? discussing domains of attribute, the defects of stiff division borders can be overcome. By assigning weights to the corresponding attributes which have different importance, we can discover some important rules which have been neglected previously.

Meanwhile, owing to introducing fuzzy concept, the ultimate rules can be understood more easily. In this paper the mining algorithm for set of fuzzy weighted fiequent pattem and the algorithm for generating rules are put forward, and by experiment, we analyze and testify the algorithm and point out the algorithm?s defects demanding improvement later.

