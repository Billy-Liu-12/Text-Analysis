A Study on Generation of Fuzzy Control Rules Based on FFOTS  LI Zhigang1, CHEN Long2

Abstract: Fuzzy control rules are the very core of a fuzzy controller. Most traditional fuzzy controllers consider the current status of systems only and the generation of them is written by a human expert, which accounts for its slow sdjustment and large shocks around stable ponit. This paper, from the angle of combination of system historical status trend and the current status of the system, proposes a new kind of fuzzy control rules and gives a specific method of its generation from industrial data by using data mining techniques. At last it is proved by MATLAB simulation experiments that this new kind of fuzzy controler reduces the system's adjustment time and overshoot by a large extent compared with the traditional fuzzy controller.

Key Words: Fuzzy control rules, FFOTS, historical status, data mining      1 Introduction As one of the most important part of Intelligent Control  Theory, fuzzy control has become the focus areas of academic research at present. But with further research, its defects are gradually revealed. A traditional fuzzy control system has the following defects: low steady precision, limited adaptive capacity, sole consideration, etc. Especially the problems of adusting speed and shocks near the stable point. [1]  In order to solve the above-mentioned problems, the previous proposed many improved methods of fuzzy controller, most of which are concentrated on the generation [2] and optimization [3] of fuzzy control rules. However, from point of view of system structure, these improved methods are only focusing on the current state of the system. Li Zhigang, et al, from the perspective of the historical state of the system by inrtoducing the concept of Fluctuating Forms of Time Series (FFOTS), propose a new fuzzy control system based of FFOTS, which has the superiority in solving the above problems. And its theoretical proof is also given. [4] This paper, on this basis, studies the generation of this new fuzzy control rules and proves by MATLAB simulation experiments that the fuzzy controller based on FFOTS has the superiority in redusing adjustment time and overshoot compared with traditional fuzzy controllers, which to a certain extent solves the problem of large shocks around the stable point and improves the control performance furtherly.

2 Fuzzy Controller Based on FFOTS The fuzzy controller based on FFOTS is a new kind of  fuzzy controller improved from traditional ones aiming at the combination of system historical status trend and the current status of the system to be involved in the control of decision-making together. Its basic structure is shown in Figure 1. The dotted line part is the fuzzy controller based on FFOTS. Appearently, there is not much difference with traditional fuzzy controllers in structure. Firstly, a FFOTS   *This work is supported by Natural Science Foundation of Hebei  Province of China under Grant F2011209025.

gennerator is added between inputs and fuzzification to record error and error rate of change of the previous two time units to generate FFOTS. Secondly, the fuzzy control rules in knowledge base are different from traditional ones.

They are presented by fluctuating forms of time series, that is, fuzzy control rules based on FFOTS.

Fig. 1: Schematic diagram of the fuzzy controller based on FFOTS   The inputs, e and ec, are stored in the FFOTS generator before fuzzification and the stored value of previous two time units represents the first two points of FFOTS.[4] In addition with the currents status of system, the system?s historical state trend is introduced into the improved fuzzy controller. Due to the change of input, the fuzzy control rules in the knowledge base should be changed correspondingly to form fuzzy control rules based on FFOTS.

3 Generation of Fuzzy Control Rules Based on FFOTS  Most traditional fuzzy control rules are written by human expert based on personal experience, which method is of much subjectivity. However, as a new controller designed from the perspective of system status, obviously, the fuzzy controller based on FFOTS should not be artificially written.

Because of the fact that in the field of industry, most factories have accumulated large quantities of production data while data minning is the kind of technology that extracts potentially useful information and knowledge from the mass of incomplete, noisy, fuzzy and random data.

Therefore, this paper generates fuzzy control rules by using data mining techniques. The experimental data are collected     from the collector pressure control system of a coking gas plant.

3.1 Data Preprocessing  The raw data collected at industrial scene include time, collector pressure, butterfly valve opening, blower machine former suction, coke oven machine side point?s flue temperature and other property values with a total of about 120,000 records. Among these property values, butterfly valve opening degree has the greatest impact on collector pressure. That?s why time, collector pressure and butterfly valve opening degree are chosen to form the original database. After preprocessing [6], the database can be obtained as shown in Table 1.

Table 1: Table of Preprocessed Database  Number P EP EPC K  1  129.82  -15.18  3.5199  0.4405  2  133.24  -11.76  3.42  0.4405  3  136.07  -8.93  2.83  0.4405  4  137.88  -70125 1.805  0.4405  ?  ?  ?  ?  ?  104  124.15  -20.85  -2.44  0.4313  105  121.61  -23.39  -2.54  0.4303  106  118.97  -26.03  -2.64  0.4303  ?  ?  ?  ?  ? Data in the table are represented in time series. Each piece  of data is collected in one second. ?P? represents the collector pressure values, ?EP? the error, ?EPC? the error rate of change and ?K? the corresponding butterfly valve opening degree. Then by setting a threshold value T, EPC is transformed into FFOTS using the sliding window method [7] and the database can be obtained as shown in Table 2.

Table 2: Table of Preprocessed Database with FFOTS  Number EP EPC FFOTS K  1  -15.18  3.5199   0.4405  2  -11.76  3.42   0.4405  3  -8.93  2.83  DD 0.4405  4  -7.125  1.805  DD 0.4405  5  -5.32 1.805 DH 0.4405 6  -4.24 1.08 HD 0.4405 7  -4.525 -0.2850 DD 0.4405 8  -4.81 -0.2850 DH 0.4405  ?  ?  ?   ?  3.2 Cluster Analysis By cluster analysis of the preproccessed EP and K, a large  number of data objects are gathered into several classes to make the similarity of the same class object as great as possible and the similarity of different class objects as small as possible. Each class of data is treated as a whole when generating fuzzy control rules. In this paper, the k-means algorithm is adopted, whose basic method is to set the  number of classes to create an initial partition and then an iterative relocation technology is used to update the partition by objects moving between different partitions. The cluster results of EP and K are shown in Table 3 and Table 4 respectively.

Table 3: Cluster Result of EP  Class Label  Central Value  Number of Records Percentage  Fuzzy Language  Name 1 -73.6154 7337 9% NB 2 -21.1926 28077 35% NS 3 15.467 28314 35% ZE 4 62.2229 12825 16% PS 5 141.5653 3447 4% PB  Table 4: Cluster Result of K  Class Label  Central Value  Number of Records Percentage  Fuzzy Language  Name 1 0.3855 22829 29% NB 2 0.4602 30078 38% NS 3 0.5601 11771 15% ZE 4 0.6937 8425 11% PS 5 0.9051 6897 9% PB According to the center of each class, the categories of  value can mark its corresponding fuzzy language name.

There are 5 kinds which are ?NB? (Negative Big), ?NS? (Negative Small), ?ZE? (Zero), ?PS? (Positive Small) and ?PB? (Positive Big).

3.3 Association Rule Mining  Association rule is one of the most commonly used methods of data mining and its main purpose is to find a correlation between the data. By setting the minisupport and the miniconfidence to a transaction database, association rule mining is to find all the rules that meet the minimum support and minimum confidence constraints.

Table 5: Generated Association Rules  Number Association rules  Group 1  (E=NB)+(EC=DD) --->(U=NB)  confidence=6.3% (E=NB)+(EC=DD) --->(U=NS)  confidence=6.1%   (E=NB)+(EC=DD) --->(U=PB)  confidence=47.5%  Group 2  (E=NB)+(EC=DH) --->(U=NB)  confidence=8.7% (E=NB)+(EC=DH) --->(U=NS)  confidence=5.8%   (E=NB)+(EC=DH) --->(U=PB)  confidence=55.4%    Group 45  (E=PB)+(EC=II) --->(U=NB)  confidence=38.9% (E=PB)+(EC=II) --->(U=NS)  confidence=14.5%   (E=PB)+(EC=II) --->(U=PB)  confidence=6.2%  The two-dimensional fuzzy controller is used in this paper, whose output is butterfly valve opening degree (U) and inputs are error (E) and error rate of change (EC) of collector pressure, that is to say, the association rules in the form of  2013 25th Chinese Control and Decision Conference (CCDC) 2231    ?E and EC U? are needed. E is clustered into 5 classes while EC is presented as 9 fluctuating forms of time series. [4] Then 5 9=45 groups of rules are generated by Apriori algorithm.

After setting miniconfidence, 45groups of rules are shown in Table 5.

Where ?E? represents error, ?EC? represents error rate of change, ?U? represents butterfly valve opening degree and ?confidence? represents the confidence of the association rule. By selecting rules with highest cofidence in every group, the final fuzzy control rules are generated as shown in Table 6.

Table 6: Fuzzy Control Rules Based on FFOTS  DD DH DI HD HH HI ID IH II NB PB PB PB PB PS PS PS ZE ZE NS PB PB PB PS PS PS ZE ZE NS ZE PB PS PS ZE ZE NS ZE ZE NS PS PS PS ZE ZE ZE NS NS NB NB PB ZE ZE ZE NS NS NS NB NB NB  As is shown in Table 6, the fuzzy control rules based on FFOTS replace traditional fuzzy language with fluctuating forms of time series and contain information that traditional fuzzy control rules don?t have. Each rule describes what output the controller should gives under the circumstance that error is among certain range and the error rate of change is in every fluctuating forms.

4 Simulation Experiments In order to prove that fuzzy control rules based on FFOTS  has the superiority in redusing adjustment time and overshoot compared with traditional fuzzy controllers, this paper does simulation experiments in the environment of MATLAB 7.1. The simulation system model is shown in Figure 2. The upper part is a traditional fuzzy control system while the lower part is a fuzzy control system based on FFOTS.

Fig. 2: Model diagram of the simulation system   Due to the limitation of experimental environment, this paper adds two Data Store Memory modules and corresponding Data Store Read modules and Data Store Write modules in the MATLAB experimental environment to simulate the FFOTS gennerator and then takes E and EC of the current moment along with those of the past two moments as input variables. ?EC?, ?ECA? and ?ECB? represent the fluctuating forms of time series by adding Transport Delay modules following each end of them. Their membership functions are shown in Figure 3.

Fig. 3: Membership function diagram   EC, ECA, ECB are all described by three fuzzy language names ?S?, ?Z? and ?B?, which means ?Small?, ?Zero? and ?Big?.As is shown in Table 7, a combination of these three letters is able to make up all these 9 kinds of FFOTS. Thus, fuzzy control rules based on FFOTS can be written into the rulebase through this transformation.

Table 7: Description of FFOTS  FFOTS Combination of ECB ECA and ECB DD BZS DH BZZ   ZSS   BSS DI BZB   ZSZ   BSB   BSZ   ZSB HD BBZ   ZZS   BBS HH BBB   ZZZ   SSS HI ZZB   SSZ   SSB ID SZS   ZBZ   SBS   SBZ   ZBS IH ZBB   SZZ   SBB II SZB  After setting the simulation time as 30s, the result is shown in Figure 4.

Fig. 4: Simulation result   The adjustment time st  and overshoot pM of the traditional fuzzy controller can be obtained from the figure:  10.65 ( 2%)st = ? = ?               (1) 21.9%pM =                          (2)  The adjustment time st ?  and overshoot pM ?of the fuzzy controller based on FFOTS can be obtained from the figure:  7.91 ( 2%)st ? = ? = ?               (3)  2232 2013 25th Chinese Control and Decision Conference (CCDC)    6.88%pM ? =                         (4)  5 Conclusion On the basis of previous studies, this paper proposes a  new method of fuzzy control rules generation. By using data mining techniques, the fuzzy control rules based on FFOTS are generated from the massive industrial field data and a specific method of generation is also given. The greatest feature of this new kind of fuzzy control rules is that it takes not only historical status but also the current status of the system into consideration. At last the simulation experiment is operated in the MATLAB environment.

As can be seen from the comparison of the results of the experiment, fuzzy control rules based on FFOTS achieves good results in reducing adjustment time and decreasing the overshoot compared with traditional fuzzy control rules, which proves that this new kind of fuzzy control rules has the superiority to solves the problem of large shocks around the stable point and improves the control performance furtherly.

