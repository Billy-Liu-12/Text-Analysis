24-26 September 2015, Warsaw, Poland

Abstract?This paper presents the formalized apparatus  of mining inter-dimensional association rules in multidimensional data, their representation by means of templates, and also the method of all frequent item sets generation in multidimensional data with help of which association rules can be generated by preset templates.

Keywords?OLAP, Data Mining, multidimensional data,  inter-dimensional association rule, antecedent, consequent, template, measuring, set, combination

I. A STATE OF THE ART One of widespread methods of Data Mining (DM) is  mining association rules, which represents determination of relationships between bound objects, example of which may be the rule that the event Y follows from the event X [1, 2]. X is named the condition or the antecedent and Y ? the consequence or the consequent. Such rules are called association rules.

Methods and algorithms of Data Mining including also mining association rules are mainly built on processing of data represented in tabular form, where analyzed dataset are placed into one column or into one line, i.e. they work in one dimension. At the same time similar relationships of data can exist in multidimensional data as well [3]. If to deal with multidimensional cube (OLAP cube) instead of relational table data then an item set for mining association rules can be represented by a set of attribute values both each of dimensions and the range per totality of dimensions. If methods and algorithms of mining association rules in one- dimensional data enough closely presented in publications, then similar methods and algorithms for multidimensional data are not yet sufficiently investigated.



II. RELATED WORK REVIEW AND ANALYSES OF UNSOLVED PROBLEMS  In the paper [4] a question of combination OLAP technology with DM methods was considered. In particular there were attempts to extend function OLAP and of common use OLAP distributed server with DM  infrastructure. As the result association rules were determined, which were represented in cubes and called Association Rule Cubes. In the paper [5] an effort was made to generalize information in data cube and to expand OLAP operators by algorithms of association rules mining. A model was proposed as well that let to solve the problem of mining association rules, which also expanded SQL language by operator named META RULE [6].

It is possible also to distinguish proposed method of mining association rules in data warehouses, that is based on organization of multidimensional data and able to extract association rules from several dimensions on different levels of  abstraction [7], as well as generalized variant of mining association rules in OLAP cubes named Cubegrades [8].

Finally it is worth to pay attention to approach of directed mining association rules process in data cube [9] and realized software on its basis named OLEMAR (Online Environment for Mining Association Rules) [10].

But in mentioned papers formalized apparatus for detection of associations in multidimensional data in most cases is considered for relational multidimensional models (ROLAP) or for database in certain spheres.

Therefore it?s desirable to develop more universal apparatus for mining inter-dimensional association rules in multidimensional data.

The goal of the research is a development of formalized apparatus for mining association rules in multidimensional data, represented by OLAP cubes.



III. THE RESULTS OF THE RESEARCH Inter-dimensional association rules are the rules  between attributes of different dimensions:  ( ) ... ( )x y zI I J J K KA D A D A D? ? ? ? ? ? ,  where I, J, K ? corresponding indexes of dimensions, which come into association rule; I,J,K=1..n;  n ? number of dimensions in OLAP cube;  ? ?-dimension; x, y, z ? corresponding indexes of dimensions attributes; x, y, z ?     1..mi; mi ? number of attributes of ?-dimension;? xIA  ? corresponding attribute of I-dimension.

If to put a symbol of implication between operands in another place then different with a capital D association rules will be obtained, which in an opposite way may have one operand in antecedent and several in consequent:  ( ) ... ( )x y zI I J J K KA D A D A D? ? ? ? ? ? ,  and when number of dimensions is more than 3 then the next association rules may be obtained:  ( ) ... ( ) ( )  ... ( )  x y v I I J J H H  z K K  A D A D A D  A D  ? ? ? ? ? ?  ? ? ? ,  in which both components contain several operands.

Inter-dimensional association rule need not to contain  attributes from all existing dimensions. For example the next inter-dimensional association rules can exist:  x y I I J JA D A D? ? ? .

In general minimum number of dimensions in association rule equal 2 and maximum number equal to number of dimensions in cube. I.e. k=2..n, where k is a number of dimensions in association rule, n ? total number of dimensions in cube.

For simplicity of understanding of mining inter- dimensional association rules it is reasonable to represent their so called templates, which will differ from the rules that only corresponding dimension is pointed out in them instead of certain attribute of definite dimension, which in general can be written in the following manner:  lkji DDDD ????? ...... ,  where DDDDD lkji ?,,, - definite dimension of a set of dimensions, i, j, k, l = 1..n ? definite serial numbers of cube dimensions, n ? total number of cube dimensions.

Fairly large number of templates of association rules can be found from a cube, and it is absolutely reasonable question how many of them can be found and how generate all possible templates with a purpose of finding association rules with certain dimension values on their basis. Difficulties to the answer can be added by the fact that for random multidimensional cube total number of dimensions will be preliminary unknown. For its solving it is necessary to consider all possible relationships which may appear between dimensions.

It?s clear for solid cube that the next templates of association rules exist.

The rules between two dimensions: D1 ? D2;   D2 ? D1; D1 ? D3;   D3 ? D1; D2 ? D3;   D3 ? D2; The rules between three dimensions in solid cube:  D1 ^ D2 ? D3;  D3 ? D1 ^ D2; D1 ^ D3 ? D2;  D2 ? D1 ^ D3; D2 ^ D3 ? D1;  D1 ? D2 ^ D3; The more number of cube dimensions, the more  difficult to find all possible templates of association rules between them.

The rules between two dimensions in four- dimensional cube:  D1 ? D2;   D2 ? D1; D1 ? D3;   D3 ? D1; D1 ? D4;   D4 ? D1; D2 ? D3;   D3 ? D2; D2 ? D4;   D4 ? D2; D3 ? D4;   D4 ? D3; The rules between three dimensions in four-  dimensional cube: The rules with one antecedent: D1 ? D2 ^ D3;   D1 ? D2 ^ D4;   D1 ? D3 ^ D4; D2 ? D1 ^ D3;   D2 ? D1 ^ D4;   D2 ? D1 ^ D4; D3 ? D1 ^ D2;   D3 ? D1 ^ D4;   D3 ? D2 ^ D4; D4 ? D1 ^ D2;   D3 ? D1 ^ D3;   D4 ? D2 ^ D3; The rules with two antecedents: D1 ^ D2 ? D3;   D1 ^ D2 ? D4;   D1 ^ D3 ? D2; D1 ^ D3 ? D4;   D1 ^ D4 ? D2;   D1 ^ D4 ? D3; D2 ^ D3 ? D1;   D2 ^ D3 ? D4;   D2 ^ D4 ? D1; D2 ^ D4 ? D3;   D3 ^ D4 ? D1;   D3 ^ D4 ? D2; The rules between four dimensions in four-  dimensional cube: The rules with one antecedent: D1 ? D2 ^ D3 ^ D4; D2 ? D1 ^ D3 ^ D4; D3 ? D1 ^ D2 ^ D4; D4 ? D1 ^ D2 ^ D3; The rules with two antecedents: D1 ^ D2 ? D3 ^ D4; D3 ^ D4 ? D1 ^ D2; D1 ^ D3 ? D2 ^ D4; D2 ^ D4 ? D1 ^ D3; D1 ^ D4 ? D2 ^ D3; D2 ^ D3 ? D1 ^ D4; The rules with three antecedents: D1 ^ D2 ^ D3 ? D4; D1 ^ D2 ^ D4 ? D3; D1 ^ D3 ^ D4 ? D2; D2 ^ D3 ^ D4 ? D1; For generation of templates of association rules for a  cube with random number of dimensions let?s introduce the following notation:  n ? total number of dimensions in a cube; k ? number of dimensions in definite association rule  (k=2..n); i ? number of dimensions in antecedent of  association  rule   (i=1..k ? 1).

The next algorithm of association rules generation is  proposed 1. Let?s imagine a set of all dimensions:  1 2 3{ , , ,..., };nD D D D D? 2. Let?s consider number of dimensions in possible  association rules: for the case of four-dimensional cube it is possible to generate association rules with two, three and four dimensions, i.e.  k=2..4;  3. For each k consider number of dimensions, which can be in antecedent of a rule i;     4. For each i=1..k-1 create the set D', that consist of all possible combinations of the set D with number of elements ?, i.e.  inCDP ?)'( where  i nC  ? number of  dimension combinations of multidimensional cube in quantity i;  5. Insert by turn corresponding element of the set D' to antecedent in template of association rule. After that it is possible to insert n-i dimensions into consequent of given template, provided that such dimensions, which did not enter into antecedent. It is necessary for that to subtract corresponding element of the set D' from the set D, that will form the next set:  }{\ 'jDDM ? which will have n-i of elements;  6. Form the set M, that consists of all possible combinations of the set D with a number k-i  of elements, i.e. ik inCMP  ? ??)'( , where  ik inC ? ? - number of dimension  combinations of multidimensional cube from their multitude, which have a number n-i of elements in amount k-i;  7. Insert by turn corresponding element of the set D' into consequent in template of association rule.

Let?s apply pointed out algorithm by an example of multidimensional cube, which contains four  dimensions, i.e. n=4;  D={D1, D2, D3, D4};  k=2..4. Then the next results will be obtained:  1) Templates of association rules between two dimensions:  k=2;  i=1; D'={{D1}, {D2}, {D3}, {D4}};  P(D') = 14C =4; For j=1..4: j=1 ? M=D\{D1}={D2, D3, D4};  M'={{D2},  {D3}, {D4}}; P(M') = 2 1 14 1 3C C  ? ? ? =3;  Obtained templates of rules: D1 ? D2;    D1 ? D3;   D1 ? D4; The same is for other elements of the set D'.

2) Templates of association rules between three  dimensions: k=3;  i=1..2; At first let?s put one dimension into rule?s antecedent:  i=1. In this connection the next will be obtained: D'={{D1}, {D2}, {D3}, {D4}};  P(D') = 3 1 24 1 3C C  ? ? ? =4;  For j=1..4: j=1  ?  M=D\{D1}={D2, D3, D4}; P(M')  = 3 1 24 1 3C C ? ? ? =3;  M'={{D2, D3}, {D2, D4}, {D3, D4}}; Obtained templates of rules: D1 ? D2 ^ D3; D1 ? D2 ^ D4;    D1 ? D3 ^  D4; The same is for other elements of the set D'.

Next step is to form the rules, which but even contain  two dimensions in its antecedent, i.e. i=2. Results of algorithm output on this step are given below:  P(D?)= 24C =6; D?={{D1,D2}, {D1,D3}, {D2,D3}, {D2,D4}, {D3, D4}}; For j=1..4: j=1  ?  M=D\{D1, D2}={D3, D4}; P(M?)=  3 2 1 4 2 2C C ? ? ? =2; M?={{D3}, {D4}}; Obtained templates of rules: D1 ^ D2 ? D3;  D1 ^ D2 ? D4; The same is for other elements of the set D'.

3) Templates of association rules between four  dimensions: k=4;  i=1..3; Therefore association rules can be generated, in  antecedent of which can be presented one, two or three dimensions. Further the same procedures as for templates between two and three dimensions are carried out. Let?s provide them.

i=1;   ? D?={{D1}, {D2}, {D3}, {D4}};  P(D?)= 4C =4;  For j=1..4: j=1  ?  M=D\{D1}={D2, D3, D4}; P(M?)=  4 1 3 4 1 3C C ? ? ? =1; M?={D2, D3, D4}.

Obtained template of rules:  D1 ? D2 ^ D3 ^ D4.

The same is for other elements of the set D'.

i=2; P(D?)= 24C =6; D?={{D1,D2}, {D1,D3}, {D1,D4}, {D2,D3}, {D2,D4},  {D3, D4}}; For j=1.6: j=1  ?  M=D\{D1, D2}={D3, D4}; P(M?)=  4 2 2 4 2 2C C ? ? ? =1; M?={D3, D4}.

Obtained template of rules:    D1 ^ D2 ? D3 ^ D4.

The same is for other elements of the set D'.

i=3; P(D?)= 34C =4; D?={{D1,D2,D3}, {D1,D2,D4}, {D1,D3,D4},  {D2,D3,D4}}; For j=1..6: j=1  ?  M=D\{D1, D2,D3}}={D4};  P(M?)= 4 3 14 3 1C C ? ? ? =1;  M?={D4}.

Obtained template of rules:    D1 ^ D2 ^ D3 ? D4.

The same is for other elements of the set D'.

Algorithms for generation of association rules usually  work in two steps: on the first one they find frequent item sets and on the second they find rules from them.

In setting of frequent item sets search in multidimensional data the next distinction can be selected: it?s possible to find such frequent sets in OLAP cubes, which relate to absolutely different aggregates.

This is due to that during consideration of multidimensional data absolutely different cube dimensions are processed and then their associations.

Generally a multitude of all frequent item sets in OLAP cube is the set S:  },...,,...,,{ 21 ni SSSSS ? ,  where i ? number of elements in the item set, Si ? multitude of frequent item sets with number of elements ?,  n ? total amount of elements in the cube.

In turn sets S1,?,Sn contain different item sets for each dimension or for totality of dimensions if number of elements in the set is larger than one.



I.e.:  },...,,{ 211 nsssS ? ,  where s1 ? multitude of frequent item sets for the first cube dimension, s2 ? for the second dimension,  sn ? for the n-dimension.

In turn set of two-element item sets can be represented as follows:  },...,,{ 13122 mnsssS ? ,  where s12 ? multitude of frequent item sets per totality of the first and second dimension, s13 ? per totality of the first and third dimensions, m?n.

Let k be a number of elements in an item set.

Therefore in general:  ? ???  k n  k  C  i k  iiik sS  ,...,, }{ 21 ?  ? .

It?s quite clear that during generation of frequent item sets in OLAP cube all elements, which are presented in corresponding cube dimensions, will not get into them.

For inclusion of element or their totality into such sets it?s necessary at first to calculate support of this totality.

Support of a totality of elements from multidimensional cube has a slightly another meaning in comparison with support of a set in transaction, but on the other hand given concepts are similar for multidimensional and relational data model relatively.

Support of a set in transaction database is equal to ratio of number of transaction, which has this set, to total number of transactions. In turn for calculation of support of the set from multidimensional database instead of a number of transactions it is necessary to use value of a cell, which totality of values of dimension attributes responds to relevant item set.

Let?s denote value of dimension in definite cube cell as  ?? ??? ?? n  nt iiii M ,...,,...,, 21 where it ? index of t- cube dimension.

A possible value for ?t is: nit ??0 , if t- cube dimension has fixed value;  0?ti , if t-dimension is followed by aggregation.

On the basis of described above, the resulting cube  value will be denoted as ?????  n  M 0,...,0,0 .

Let?s denote ??? nt iiiii ,...,,...,, 21  and ??? ???  n  ALL 0,...,0,0 . Then a support of multidimensional  set from a cube will be equal to relation of corresponding value of a cube dimension in a cell that has given set, to general cube value:  ALL  i  M MiSup ?)( .

So as to add definite set to frequent sets, it is necessary that its value of support would be larger or equal to user-defined value of minimal support:  MinSupSupi ? .

Algorithm of generation of all frequent item sets must include generation of k sets of elements, where k=1..n.

The most simple is generation of one-element sets, so far as its implementation needs to sort out all values of attributes of every dimension separately from each other, not combining them.

It is proposed to create frequent item set in the form of a list, in which the first element is a list with serial numbers of cube dimensions by means of which generation of set is implemented (so called ?a list in a list?). For one-element set such sub-list will contain one element only. This sub-list in the first element in further generation of association rules on the basis of item sets will serve for identification of dimensions by means of which all sets were generated.

All next elements of the list, i.e. from the first to the last will contain information about found given item set.

Generally the list has the next format:  ? ??  ??  ?????????  ?????? ??????? ?? ??? ???? ??  ??? ???? ??  ???? ????? ??  z  z  k  kzzz  k  k  k  k  valvalval  valvalval  ididid  sup&,...,,  ,...,sup&,...,,  ,,...,,     ,  where k ? number of elements in item set, idi ? serial number of i-dimension of cube in corresponding item set, valij ? value of attribute of cube?s i-dimension in corresponding j-item set, suppj ? value of support of j- item set, z ? obtained number of frequent item sets.

Elements of sub-list with cube dimension numbers id1,?,idi,?,idk play a role of so called keys by which values in item sets are obtained. Such format of the list is enough convenient for further search of all inter- dimensional association rules.

Generation of frequent one-element sets will be implemented as many times as a number of combinations with one element 1NC , with two elements 2NC  and so on.

In this connection generation of frequent sets with a number of larger than one, use set lists, obtained on previous steps.

??? ??? ???? ??  n  ni SetSetSetMasOfSets ,...,,...,1 .

MasOfSets ? general list of frequent  sets, Seti ? list of frequent item sets with a number of elements i, n ? total amount of dimensions in a cube, i=1..n.

??? ????? ?????? ?? ??????????  i n  i  i  i  i  C  ididididi subsetsubsetSet ,...,,..., 11 ,...,  where ?????  i  iidid subset ,...,1   ? list of frequent  i-element item sets  on dimensions with identificators iidid ,...,1 .

General list of all frequent item sets in multidimensional data becomes a basis for generation of inter-dimensional association rules.

Support of association rule is equal to support of frequent item set whereby it is developed. This statement becomes clear thanks to that given item set includes both antecedent and consequent of association rule.

Confidence of association rule in multidimensional data may be represented as relation of cube dimension value for dimensions which are pointed out together in both antecedent and consequent, to aggregate cube value on dimensions which are pointed out in antecedent only.

For example there is a cube with three dimensions which are denoted as D1, D2 and D3. Let a cell exists in this cube with the values of dimensions accordingly equal to x, y and z. Let?s accept that the next association rule exists:  )()()( 321 zDyDxDR ?????? .

So its confidence will be equal to:  0,,  ,,)( yx  zyx  M M  RConf ? .

Accordingly lift as a relation of antecedent occurrence rate in transaction, which have consequent as well, to antecedent occurrence rate will be defined for association rule in large:  zxy  xyz  z  xy  xyz  MM MM  M M M M  zSupp RConfRLift       )( )()(  ?  ? ???  .

In turn leverage as a difference between co- occurrence rate of antecedent and consequent and product of occurrence rates of antecedent and consequent be defined for association rule as:         )()()()(  M MMMM  M M  M M  M M  zSuppyxSuppRSuppRLev  zxyxyzzxyxyz ???????  ????? .



IV. THE IMPLEMENTATION OF RESEARCH The above presented method of inter-dimensional  association rules generation in multidimensional data was implemented in the frame of intelligent information system, which became the result of OLAP and Data Mining integration by the example of detection of associations with object databases. The system was implemented in the environment of Cach? databases object control system by means of CSP (Cach? Server Pages) technology.

The investigation resulted in the information system, which consists of four modules:  1) The database (DB) design module (or the metadata module);  2) The DB management module (or the data module); 3) The OLAP subsystem module; 4) The data mining module.

The system has been implemented in Cach? DBMS by  means of Cach? Objects server and constitutes totality of CSP pages. The system?s main page is a page of the database scheme selection for further work with it. It?s possible also to come over from this page to the pages of creating a new packet, or deleting an existing one as well as to check out the list of the primitive data types in the system. The list of existing data scheme is presented on the main page in tabular form; thereby the name of the scheme is a link, which leads to the page of required packet description. Further on it is possible to work either with metadata or object region data. The screenshot of the main page of the implemented information system is presented in Fig. 1.

Figure 1.  The main page of the system.

The proposed method of association rules generation was implemented in the data mining module.

A block of pages is responsible for inter-dimensional association rules generation in the system. It includes a page of rule context obtaining and also three pages of associations generation regardless of their type ? context or full.

First, let us examine the page of inter-dimensional association rule context obtaining. If the end-user has a task to generate precisely this type of rules, a corresponding link leads to it on the page of cube data revision. In its turn the present page proposes the user to  set specific values of cube dimensions and at the same time restricts their introduction by condition that not all dimensions must have specific values. Their number must not exceed N-2, where N ? total number of dimensions.

If specific value was set for corresponding dimension, it will enter the rule context. For context rules generation at least two dimensions must not have specific values because such number is minimal for existence of association rule, in which one dimension will be in its condition and another ? in its consequence. The screenshot of the context obtaining page is presented in Fig. 2.

Figure 2.  The page of inter-dimensional association rule context obtaining.

When pressing the OK button on the above page transition will be completed to the first page of the association rules generation pages. Designation of this page is that with its help the end-user can set custom values of minimal support and certainty (in %) to the system.

If the end-user leaves empty margins for entry of marked values, minimal support and certainty  automatically will be equated with 0%, which means generation of maximum possible frequent item sets and inter-dimensional association rules. It is possible to start their generation passing through the obtaining context step. In this case full inter-dimensional association rules will be generated. A typical image of the described page is presented in Fig. 3.

Figure 3.  The first page of inter-dimensional association rules generation system.

In turn the second page of the association rules generation pages takes values of minimal support and certainty inserted by the user and initiates a script, that consists of the functions which develop frequent item sets in multidimensional data.

As a result this page outputs all obtained item sets with a value of support, that is less or equal to its inserted minimal value.

At first frequent item data sets of one dimension are displayed, then of two dimensions and so on to total amount of dimensions, if such item sets belong to category of frequent by values of their support. Example of this page image in the frame of September 2011 with ?Month? value dimension is presented in Fig. 4.

The last third page accordingly reflects the last step, which is a final generation of inter-dimensional association rules. This page displays a table of all rules, which have overcome a threshold of minimal certainty.

The screenshot of this page is presented in figure 5.

It is noteworthy that the rules will be kept in DB until the end-user will define new rules context and cube measure, by which the rules should be generated, as well as new minimal values of support and certainty. In this case old association rules which were kept in DB will be removed and replaced by new rules generated according desired conditions. Association rules are kept in DB not for a long time but temporarily. But the system has an option of keeping of association rules in a text file, thanks     to which they can be considered in any time regardless whether they are stored in DB for the moment or were  removed by this time.

Figure 4.  The second page of the inter-dimensional association rules generation system.

Figure 5.  The third page of the inter-dimensional association rules generation system.



V. CONCLUSION AND PERSPECTIVES An approach was proposed for creation of templates  for inter-dimensional association rules by generation of all possible combinations of dimensions in OLAP cube by which possible association rules are available, as well as a method of frequent item sets generation in OLAP cubes, on basis of which association rules can be generated corresponding to obtained templates.

