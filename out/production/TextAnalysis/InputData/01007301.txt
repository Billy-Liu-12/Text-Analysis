A Fuzzy Approach to Fulfilling Personalized Service Through  Association Rules Derived from Large Databases

Abstract-A fuuy  inference model is generated to fulfill the personalized service through mining the association rules from a large database in this paper. Instead of just considering whether interesting items have appeared in the same transaction, we also investigate other aspects, such as the purchased quantity, associated with the items. Based on the proposed model, our system can predict which items should be recommended to the prospective customers to realize the personalized service. How to derive the association rules from large database and how to apply the derived rules to establishing a fuzzy inference model are illustrated by simple examples.

1. Introduction  Fuzzy set theory has been used in a wide variety of applications since Zadeh introduced it in 1965 161. Based on the fuzzy set theory, we can define a membership function to characterize an element with a fuuy  subset. For a practical application, whenever the input and output variables are kn.own, we can use some training data to design a  le base to model the behavior of the to-be-controlled system. Also. we can rely on some techniques to refine the fuzzy model to satisfy the system requirement [7-E].

In our daily life, domain experts can handle many things without difticulty. Why many people in concept well know to apply some techniques to solve problems? How can we integrate the conceptual ideas into helping solve the complicated problems? The Laplace transformation used in the engineering field provides such a good example. The extension theory [5] investigates how to formalize the concepts to solve the incompatible or contradictory problems.

Define the name of a matter by N. one of the characteristics of the maner by CR, and the value about CR by V. We use an ordered ternary R=(N, CR, V) as the fundamental element to describe a maher for transformation and call it a maher element [SI. The extension theory can be combined with the fuzzy theory to enhance the performance of a fuzzy model 191.

Data mining means a process to extract useful information from a large database [l-3]. How to mining the association rules from a large database anracts intensive attention in recent years. Given a database of sales transactions, it is important to exploit some techniques to discover the implicit relationship inside the transactions. In today's business, data mining provides another way for a company to realize the  personalized service to its customers. Unlike conventional models that only concerned whether items appeared simultaneously in the transactions. we propose a new model that also considers some important factors, such as purchased quantity and total expenditure, during the mining process.

Therefore, this paper exploits the fuzzy inference method to propose a new model to derive an effective association rules.

2. Mining the association rules from large database  The prototypical application. of ARM (Association Rule Mining) is market-basket analysis, where the items represent products, and the records represent point-of-sales data at large grocery stores or depamnent stores. An example rule might be "90% of customers buying bread also buy milk."  The process of data mining can be divided into two steps: (1) find all frequent item sets; and (2) generate shong association rules from the frequent item sets [I]. Two criteria are used to measure the frequent item sets. Traditionally, both minimum support and confidence are defined in advance to find the frequent item sets. The support value from relating item A to item B is defined as follows:  Supporr(A a B) =#_tuples~confainingb~~h-A~nnd-  B  Similarly, the confidence value from item A to item B is defined as follows:  # mpla confolning -both A and B  It mplrs conalnlng A conjidmce(A - E )  =  Based on the defined support and confidence values, we can find whether two or more items appear frequent enough in the transactions. Different methods have been proposed to find the association NICS. Apriori algorithm [4] finds frequent item sets by using the candidate generation. Apriori employs an iterative approach known as level-wise search, where k-item sets are used to explore (.&I)-item sets. A two-step process. which consists of joining and pruning actions that look at how Lh-, is used to find L, , is required. The joining step is defined to find L, , a set of candidate k-item sets generated by joining Li., with itself. In the pruning step all candidates (C, ) having items no less than the minimum support are frequent by definition. AprionTid is a refined version of the original Apriori algorithm [4]. The feature of the AprioriTid is that the  0-7803-7293-X/O1/$t7.00 01 2001 IEEE 272 2001 IEEE lnternplional Fuzzy Systems Conferencc    database is not used for counting support after the first pass.

Thus, much time can be saved. The Boolean method is another approach to obtaining the association rules [2]. In the Boolean algorithm two major steps are needed. First, both logical OR and AND operations are used to compute the frequent item sets. Second. logical AND and XOR operations are applied to deriving all interesting association rules. As can be seen that the Apriori, AprioriTid, and Boolean algorithms can derive the association rules without difficulty. The problem is how to modify the conventional models such that they can provide more valuable information for today?s business.

3. The proposed model  Previous models generated the association rules by considering whether the interesting items exist simultaneously or not. Most models did not consider the number of purchased quantity, total expenditure, or seasonal factor in a single transaction. As we know, in wholesale stores, customers usually buy multiple pieces of the same item. As a result, the purchased quantity should be carefully considered. Take the transaction records in Table 1 for example. It means that the first customer bought four item-A, two item-B. and two item-C. The second customer bought three item-A, one i tem8, and one item-C. Thus, the relationship in the first transaction should be different from the second one. This is why in our model we try to investigate the purchased quantity of each item in establishing the association rules.

We apply the matter-element model discussed in extension theory to constructing our new model. As we know, each item is associated with the purchased price and quantity in the transaction record. When considering from the aspect of quantity, we can express the transaction in terms of matter-element model as follows:  For example, item-A in the first transaction in Table 1 can be expressed by:  The membership degree for item-A in the fuzzy subset M is ,determined by the membership functions defined in Fig. 1.

Similarly, i tem8 in the first transaction can be expressed by:  It happens that two consecutive membership functions may include a given quantity and result in two different membership degrees. To simplify the model, we take the larger degree to be the membership degree for a given quantity.

From Table I ,  the association rule from the first transaction can be derived as follows:  R, = (item - AB, quantity, pM (A)x f ls ( E ) ) .

Similarly, the association rule from the second transaction can he obtained as follows:  Having analyzed from the transaction records that when both item-A and itemB have been purchased, customers may continue purchasing item-C. We may derive the following fuzzy rules:  If item-A is FA, and item-B is FE,,  then itemC is FC, .

R=(item name, quantity, membership degree).

RA = (item -A ,  quonriry, pM ( A ) ) .

R, =(item -B,quantiry,ps(B)).

RA, =(ifem-AB,quontiry,pM(A)xps(B)).

Note that FA,, FE,, and FC, are fuzzy subsets defined for item-A, i tem8, and item-C, respectively. Assume three labels, small (S),  medium (M), and large (L), are selected for hotb variables of item-A and itemB in our model. We assign singleton values for FC, . Depending on the distribution of the data, different labels may be used in different cases.

Besides, the fuzzy rules may take the TSK or other types [E] in consequent parts.

The next step is to establish the fuzzy inference d e  base such that we can have an idea how many item-C should be recommended to prospective customers. We use Table 1 and Fig. 1 to illustrate the procedures. From Fig. 1, we have pM (A) = 0.8 and ps(B)  = 0.4 for the fint transaction and pM (A) = 0.6 and p,(B) = 0.2 for the second transaction.

Thus, the entry in the intersection of labels ?medium? and ?small? in the rule base should be given the value derived from the defuzzified method as follows:  (2)(0.8x0.4)+ (1)(0.6x0.2) = - 0.8x0.4+0.6x0.2  The rest of the enhies in Table 2 can be assigned in a similar way. Fig. 2 shows the framework of our model. The procedures to derive our model can be summarized as follows: ( I )  Use conventional method, such as AprioriTid algorithm,  to obtain the large-item sets. For example, we can proceed from large I-itemset A to large 2-itemset AB and then to large 3-itemset ABC.

(2) Express the interesting items by matter-element models.

(3) Denote the interesting items in smaller large-item set  Lk-, as the conditional part and the item joined to Lk., to generate the larger L, as the consequent part in the fuzzy rules. Establish a fuzzy rule base from the derived association rules.

(4) Use the fuzzy inference model to infer the quantity of candidate item for the prospective customers.

4. Simulation Results  To illustrate how the proposed model works with the conventional methods, we use 10,000 data from a large database including 143,114 transactions to run the simulations.

We first exploit the AprioriTid method to extract the association rules. Assume the minimum support and confidence are 6 and 60%, respectively. Fig. 3 is the designed interface for users to input the minimum suppolt and confidence. Fig. 4 shows the large 1-itemset. From the transaction table, there are 214 large item sets satisfying the requirement of minimum support and confidence. The large 2-itemset (i.e., two items appeared simultaneously in the same transaction) is plotted in Fig. 5.  There are 73 large item sets passing the thresholds. Based on the large 2-itemset we can derive 13 3-itemset satisfying the minimum support as shown in Fig. 6. Since part of the generated 3-itemset did not pass the minimum confidence threshold, only 7 association rules were derived from our system. Fig. 7 illustrates the final 7 association rules in our model. Fig. 8 plots the purchased quantities associated with the items in our database. Note that the results demonstrated in Fig. 3 to Fig. 7 only consider whether an item or items appeared in the transactions or not.

The conventional methods did not consider from other aspects, such as the purchased quantity for an item or the total expenditure in the store, in a transaction.

We propose a new model to derive the fuzzy rule base from the final association rules. By integrating the final association rules shown in Fig. 7, the transaction records given in Fig. 8, and the methods discussed in the third section, we obtain the fuzzy rule base listed in Table 3. The purpose to establish such a fuzzy rule base is focused on providing personalized services to prospective customers. For example, there are 73 large item sets in Fig. 5. Pan of the 2-itemset joins another item to become the results given in Fig. 7. By taking the 2-itemset as the two premise variables and the third item in the corresponding 3-itemset as the consequent variable in the fuzzy rules, we can apply our result in Table 3 to infening the suitable amount of quantity that can be recommended to the prospective customers to buy them. By the way, we can automatically forward any news or catalog closely related to the inferred item to the customers? electronic mails or wehsites to realize the personalized services and in turn to increase the company?s profits. This is why we emphasize that we dedicate to combine the proposed fuzzy model with the association rules to provide a better service to the prospective customers.

We further analyze the sales trend for each month. Fig. 9 illustrates the number of large itemsets for each month under minimum support and confidence being 2 and 60%, respectively. The number of large itemsets is decreasing progressively at each month. However, it is clear from Fig. 9 that the total sales decline in the first half a year and gradually climb to the top in December. From extracted information, we can promote some popular product itemsets to large I-itemset?s customer, and let larger I-itemsets to pass the minimum support threshold. We can also put large 2-itemset into operation in the same manner to stimulate customer?s purchasing interest. Additionally, managers can compare month?s sales statistics in the past year via extracted data to promote some products for valuable customers.

5. Conclusion  In this paper we combined the fuzzy inference model with the association rules from the large database to fulfill the personalized service. We created a new model that not only considered the association between interesting items but also took the factor of purchased quantity into account. This proposed model is particularly suitable to the wholesale stores.

However, the same technique can be easily applied to situations whenever different factors need to be considered.

The process to derive the large-item sets was illustrated by examples. How to establish the fuzzy inference model was also discussed in detail. Finally, we explained how to use the fuzzy model to recommend the most suitable items to the prospective customers. Our results verified that the proposed model is useful in different areas.

Acknowledgements  This work was supponed by the National Science Council, Taiwan, R.O.C., under Grant NSC89-2213-E-036-050.

