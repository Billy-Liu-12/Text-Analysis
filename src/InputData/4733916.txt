Comparing Reliability of Association Rules

Abstract  Association rules is a technique that can detect pat- terns within the items of a dataset. The constrained version applies several restrictions that reduces the number of rules and also helps improve performance.

On the other hand, OLAP statistical tests is an inte- gration of exploratory On-Line Analytical Processing techniques and statistical tests. It uses a different ap- proach that make it more appropriate for continuous domains and is able to discover more informative pat- terns. In this article, we thoroughly compare the re- liability of the results returned by both techniques by analyzing the metrics, such as confidence and p-value, by which these techniques are implemented in relation to the results that are generated. While these two tech- niques are different, we were able to bring both to level ground by extending association rules with pairing to discover more specific patterns and extending OLAP statistical tests with constraints to reduce the number of discovered patterns. We conducted our experiments on a real medical dataset and found that the extended OLAP statistical tests discovered more patterns, had comparable performance, and possessed higher reliabil- ity due to its strong statistical background.

1 Introduction  Data mining techniques have been applied on medi- cal datasets to find patterns, predict disease, or gener- ate predictive models. Such techniques include, but is not limited to, decision trees [15], Bayesian classifiers [9], regression [6], association rules [12, 10], and sta- tistical tests [16, 11]. In this paper, we focus on con- strained association rules and OLAP statistical tests because both techniques are able to identify patterns in set combinations.

Association rules [5] uses an exhaustive process to discover patterns within datasets. Constrained associ- ation rules [12] was developed to drastically decrease the number of rules through the use of various con- straints. For medical datasets, the association rules link specific combinations of factors (antecedent) to a certain disease (consequent). However, we are unable to determine the exact factor or set of factors that ac- tually caused the disease to manifest itself.

OLAP statistical test [11] is a data mining tech- nique that incorporates on-line analytical processing (OLAP) with statistical test to discover specific trig- ger dimensions that causes significant changes in one or more measured attributes. The patterns discovered by OLAP statistical test can pinpoint specific factor(s) that cause certain disease measuring values to change.

In order words, not only can we determine the combi- nation of factors that caused the disease, we can further dive into these patterns and retrieve the exact trigger factor or set of factors from within the combination.

Comparing these two techniques on the same level is challenging. Association rules is unable to determine the exact triggering factor(s) while OLAP statistical tests does not fully utilize the power of constraints. As a result, we extend both techniques with the missing steps to create a level playing field. Figure 1 depicts what and how the extensions fit into the original algo- rithms. For this paper, we are mostly focusing on com- paring the reliability of the patterns returned by both techniques when applied to a real medical dataset. In particular, we focus on analyzing those patterns that are different between the techniques. These are most interesting since they can show what each technique lacks. In addition, we choose to use medical datasets because they are difficult to analyze. While typically small in size, they are computationally complex and can produce thousands of patterns in both techniques.

This article introduces definitions in Section 2. Sec-   DOI 10.1109/ICDM.Workshops.2008.105    DOI 10.1109/ICDMW.2008.76     Figure 1. Overview of techniques.

tion 3 discusses the algorithms for both techniques as well as the new extensions. The resulting pairs are compared and analyzed in Section 4. Section 5 explains research related to this article. Section 6 provides our conclusions along with some possible future work.

2 Definitions  2.1 Association Rules  In association rules, we begin with the dataset X with n rows and p attributes. Then, we transform X into D with n transactions and m binary dimen- sions. The dataset D must then be transformed into a transaction structure. Thus, pre-processing is required in the form of binning the dimensions into two bas- kets and pivoting the dataset to create the transac- tion dataset T with n transactions and I items. T would take the form of T = {T1, T2, . . . , Tn} with I = {i1, i2, . . . , im}, where Ti ? I. We call any subset of I an itemset. An association rule is an implication that X ? Y , where X and Y are two itemsets such that X ? L, Y ? I and X , Y must be disjoint. In these rules, the antecedent, or risk factors, is X and the consequent, or disease, is Y .

Association rules are often evaluated using three metric: support, confidence, and lift. The support of the rule X ? Y is the portion of all transac- tions that contain itemsets X and Y . The confidence is defined as confidence(X ? Y ) = support(X ? Y )/support(X). Finally, the lift is defined as lift(X ? Y ) = confidence(X ? Y )/support(Y ).

2.2 OLAP Statistical Tests  In OLAP statistical tests, we begin with the same dataset X with n rows and p attributes. This is trans- formed into the fact table F with n records, d dimen- sions [5], and e measure attributes [5]. In the medi- cal domain, the d dimensions would represent the risk  factors while the e attributes represents the degree of disease. The d dimensions, D = {D1, D2, . . . , Dd}, are categorical while the e measure attributes, A = {A1, A2, . . . , Ae}, are numerical. We focused on binary dimensions because of their wide applicability in the medical domain, but our approach works equally well with any categorical dimensions regardless of cardinal- ity. Compared with association rules, d ? m. The data structure of the OLAP cube is represented by a dimen- sion lattice [5]. Each lattice contains the full permuta- tion of all the dimensions. In this paper, each separate permutation (i.e. D1,D2) is called a node. A node is further divided into groups, with each group repre- senting a specific combination of values of the dimen- sions (i.e. 1,0, 1,1). The statistical tests are conducted on pairs of groups within a node with ? representing the number of differing dimensions, which determines the level of similarity between the two groups. The p- value is used to determine the significance of a pair of groups. If the p-value of the pair is below a user-defined threshold (i.e. p?0.01), then the pair is considered sig- nificant. The depth constraint is controlled by k and determines the maximum number of dimensions that can appear in a group pair.

3 Overview of Techniques  Constrained association rules and OLAP statistical tests are two different techniques that both serves the purpose of discovering patterns in set combinations.

Association rules observe each combination of factors individually and applies the constraints to reduce the number of discovered patterns. On the other hand, OLAP statistical tests compares two sets of factors and determines if the ? differences caused a significant change in the measured attribute. As can be seen, the patterns discovered by association rules is not as spe- cific as those found by OLAP statistical tests. In the former pattern, we are not able to discern exactly which of the factors caused the pattern to behave the way it does. At the same time, OLAP statistical tests did not take advantage of the constraints that could be ap- plied to improve performance and reduce the number of discovered patterns.

Thus, before we began our comparisons, we imple- mented extensions to each of the techniques in order to generate the same type of results using the same constraints. In constrained association rules, we im- plemented the algorithm in SQL with a pairing pro- cedure to produce more informative rules. For OLAP statistical tests, we integrated several association rule constraints to produce the same effect as in associa- tion rules. With these extensions, both techniques are     able to produce results that can pinpoint specific trig- ger factors as well as take full advantage of the proven constraints. The next few sections will first explain the transformations required for a dataset to be used with both techniques. Then, we will explain important parts of both methods as they are presented in previ- ous research. Finally, we will present our contributions to these two techniques as well as some key differences.

3.1 Original Techniques  The association rule algorithm is well studied [12].

The two most important criteria for an association rule is the confidence and lift thresholds. As stated in Sec- tion 2, confidence is the probability that a transaction containing the antecedent items also contains the con- sequent items. In other words, this threshold is a ratio between two supports or two counts. The lift thresh- old takes this one step further by comparing the confi- dence with the probability of finding such a transaction by chance. Both these restrictions combine to provide reliable rules because high confidence and lift do not normally occur due to random chance.

EXAMPLE: We will now show an example of a pat- tern found using constrained association rules. Sup- pose we discover the pattern male, oldAge, smoker ? heartYES with a confidence of 0.9 and a lift of 1.1.

The confidence tells us that 90% of the transactions with gender, age, and smoke also contains heartYES while the lift can be interpreted as meaning this pat- tern occurs more than random cases. When we observe the pattern, we can only determine that the combina- tion of these three factors leads to heart disease with a high amount of confidence. We do not know which of these factors caused the actual change from a person with heart disease to someone who does not.

OLPA statistical test [11] is a data mining tech- nique that combines OLAP with statistical tests. For this technique, the main criterion is the level of p- value at which pairs are considered significant. For the most part, the best p-value are those below 0.01 [16].

This value, like those from association rules, also corre- sponds to a probability. However, p-value refers to the probability of obtaining another transaction with the same values as the tested case given the null hypothe- sis. In our case, the null hypothesis assumes that the two population are the same. The lower the p-value, the less likely the tested event is to occur with the cur- rent assumptions. Thus, the p-value threshold tells us at which point do we consider the null hypothesis to be invalid in explaining our findings. In other words, if the threshold is set at 0.01, then only when an event is found to have a probability less than 1% can we as-  sume that the populations being compared are indeed different. In OLAP statistical tests, we use the means comparison parametric test to obtain the p-value.

EXAMPLE: Suppose we are looking at the node containing {D1,D2}. We would see that there are four possible combinations of binary values for D1,D2 and a total of four possible pairs that have a ?=1. Let us con- centrate on comparing the group D1=0,D2=0 (group A) with the group D1=1,D2=0 (group B) and deter- mine if they are significantly different from one another in terms of the measure attribute M1. We would be- gin by calculating the mean and standard deviation for each group. The t-test or z-test would tell us if the p-value is less than 0.01. We would then be able to classify group A and B as resulting in or not resulting in a significant change in M1.

3.2 Contribution to Association Rules  In order to better compare with OLAP statistical tests, we implemented a pairing process to the dis- covered patterns to produce more informative rules.

Though each association rule only tells us the set of factors that caused a consequent value to behave in a certain manner, when we pair these rules, we are able to determine the exact factor that triggered this behavior. This extra process is difficult to implement because of the complexity of pairing many association rules. We implement this step with a self-join on the table containing all the discovered patterns with the constraint that only those rules differing in ? dimen- sions are kept. The join and filtering can be combined into the same step by adding a buffering zone when we assign attribute values and then performing simple mathematical operations which can tell us if two rules meet the requirements. Once paired, we observe if the consequent changes between the two rules. If there is a change, then we know that the trigger factors for such a change are those ? different factors.

EXAMPLE: Let us revisit the example from Section 3.1. In order to determine the trigger factors, we need to find another rule that is different from the first rule by ? factors. Suppose delta=1, then we are looking for other rules whose antecedent is different by only one factor from the original rule. The pattern male, oldAge, nonSmoker ? heartNO, is one such rule. By combining the two rules, we can observe that when the factor nonSmoker changed to smoker, the consequent changed from heartNO to heartYES. Such a pair would lead us to conclude that smoking is a trigger factor for heart disease when the patient is male and of old age.

Note that this is more informative than a patient whose male, old, and smokes could have heart disease.

3.3 Contribution to OLAP  Constraints, similar to those incorporated in con- strained association rule in [12, 13], are integrated into OLAP statistical tests. Of the three constraints listed in section 3.1, only the group and depth constraints are relevant for OLAP statistical tests. The group constraint for OLAP statistical tests means that any subset of the d dimensions cannot contain more than one dimension in the same collection. We applied this constraint at the lattice traversal stage where we dis- card all subsets that have two or more dimensions in the same collection. This improves the performance of the algorithm by avoiding many lattice nodes and also reduces the number of discovered patterns. The an- tecedent/consequent constraint is not used in OLAP statistical tests because the algorithm automatically separates the two sides. In other words, the d dimen- sions will always appear on one side while the e mea- sure attributes will always appear on the other side.

There is no mixture as there is in association rules. In the medical domain, there are few factors that can ap- pear both as a cause and an effect, but we can simulate such factors by including them as both dimensions and measure attributes. Finally, the depth constraint is implemented at the lattice traversal stage by ensuring that the number of dimensions within a lattice node does not exceed the maximum depth. This constraint has the potential to drastically increase performance because of the large reducing in the lattice. The larger the gap between the maximum depth and the number of levels in the lattice, the greater the improvement.

EXAMPLE: With all these constraints, the results produced by OLAP statistical test are still in the same format. In this technique, the effect of the constraints are similar to association rules. They help to decrease the size of the results and increases the performance.

Suppose the group constraints prevented D1 and D2 from being in the same rule, then the example we pro- vided in Section 3.1 would no longer be computed. We would only have to generate pairs for the nodes {D1} and {D2}, but not {D1,D2}.

3.4 Key Differences  Even with the extensions applied, OLAP statisti- cal test and constrained association rules retain some differences that cannot be solved without significant changes to the algorithms. The most important differ- ence is that in constrained association rules, the disease is either on or off, with no middle ground. On the other hand, OLAP statistical tests uses numerical values to provide a degree of disease. This gives a middle ground  where the disease becomes a probability instead of ei- ther present or not.

Another difference can be found in the concept of as- sociation rules? item length and OLAP statistical test?s depth constraint. In OLAP statistical test, when k=4, then it means that the results can contain at most four dimensions while in association rules it limits the size of the frequent itemsets that are generated. Since both the antecedent and consequent takes from the item- set, the maximum size of the antecedent depends on the number of consequents. Herein lies the main dif- ferent because OLAP statistical test can always pro- duce grouping pairs with k dimensions. Because there will always be at least one consequent, for the same k, OLAP statistical test will always generate pairs with at least one more dimension than association rules. To partially overcome this, we adjusted the experiments so that we use k in OLAP statistical test and k + 1 in association rules.

The support threshold of association rules and the population threshold of OLAP statistical tests is an- other area where the two techniques differ. In asso- ciation rules, the support is applied on both the an- tecedent and consequent. For example, for the rule X ? Y to pass the support, there must be enough rows within the data containing both X and Y. On the other hand, if we use the same example, for the rule to pass the population threshold, there only needs to be enough rows containing X. The reason is that the population threshold only considers the size of the the dimensions, not the attributes.

4 Experiments  Our experiments were performed on a DBMS server with a 3.2GHz CPU, 4GB of RAM, and 600GB of stor- age space. The main focus of our experiments is to compare the reliability of the patterns generated by the extended constrained association rules and OLAP statistical tests. We begin by presenting the medical dataset that is used throughout the experiments. Next, we show some of the parameters of the techniques.

Then, we will provide an overview of the patterns that were discovered by both techniques. Afterward, we will discuss some of the patterns missed by the techniques accompanied by detailed explanations of situations in which they occur. Finally, we will provide a recom- mendation regarding when to use each technique.

4.1 Data Set Overview  For our experiments, we used a real medical dataset, the Heart dataset (n=655, p=25), that is a private     dataset dealing with heart disease data. There are a total of twenty-one dimensions, including personal in- formation and medical information, as well as four mea- sured attributes. For the dimensions, ten were original binary while eleven were numerical, which needed to be transformed into binary values. We binned AGE at 60, CHOLESTROL at 250, and all the perfusion measure- ments at 0.2. It is well known that CHOLESTROL and high perfusion measurements can be linked with the presence of heart disease. Other known risk factors for heart disease are HTA, DIAB, HYPLPD, FHCAD, and CLAUDI. The four disease measuring attributes repre- sent the degree of artery narrowing, or stenosis, in the four main arteries of the heart: LAD, LCX, LM, RCA.

For these four arteries, the dataset contains percentage values representing the narrowness of the artery when compared with a healthy artery. Medically speaking, the stenosis of the arteries can be related to the risk of heart disease and are often broken into three groups: low risk, borderline risk, and high risk. For three of the arteries (LAD, LCX, and RCA), thresholds of 50 and 70 are used, while the LM has thresholds of 30 and 50. The reason for the LM?s boundaries are because blood that flows into both the LAD and LCX must pass through this artery, making it a more crucial lo- cation. Once again, these are well accepted thresholds in the medical domain.

4.2 Parameters  While the parameters used in constrained associa- tion rules and OLAP statistical tests are different, the generated patterns are the same. In association rules, the most important parameters are as follows: (1) Sup- port Threshold - default to 1% of n. (2) Confidence Threshold - default to 0.5. (3) Lift Threshold - default to 1.2. (4) Depth Constraint - default to 5 in order to generate patterns with up to four items in the an- tecedent. (5) ? - default to 1.

For OLAP statistical tests, the parameter values were chosen to generate similar patterns to those dis- covered by constrained association rules. The major parameters are as follows: (1) p-value threshold - de- faults to 0.01. This means that all pairs with p-values greater than 0.01 are removed. (2) population thresh- old - set to 1% of n to match the support threshold from association rules. (3) ? - defaulted to 1.

4.3 Patterns of Association Rules  The original association rules discovers patterns and relationships between factors and the consequent items.

However, each individual rule does not tell us which of  Table 1. Sample Association Rule Pairs.

Highest Confidence: APhigh=0/1,GENDER=F,HTA=1,HYPLPD=0?LAD0-50,LAD70; s1=0.04, c1=0.857, L1=1.760; s2=0.01, c2=1, L2=3.195 ILhigh=0/1,HYPLPD=1,PCARSUR=1?RCA-0-50,RCA-70; s1=0.01, c1=0.692, L1=1.212; s2=0.01, c2=1, L2=3.639  One Antecedent: APhigh=0/1?LAD-0-50,LAD-70; s1=0.42, c1=0.607, L1=1.246; s2=0.18, c2=0.571, L2=1.824 ILhigh=0/1?RCA-0-50,RCA-70; s1=0.33, c1=0.508, L1=1.242; s2=0.18, c2=0.509, L2=1.625  High Support: ALhigh=0/1,HTA=0,CLAUDI=0?LAD-0-50,LAD-70; s1=0.24, c1=0.579, L1=1.289; s2=0.07, c2=0.511, L2=1.633 APhigh=0/1,CLAUDI=0,HIGHCHOL=0?LAD-0-50,LAD-70; s1=0.33, c1=0.595, L1=1.282; s2=0.15, c2=0.567, L2=1.812  the antecedents plays a larger part in changing the con- sequent items. By adding the new pairing procedure, we are able to group two rules together to generate a new unified rule that can specifically point to one fac- tor as the cause of the consequent change. Confidence, support, and lift are still used to filter the pair. Both rules must pass the thresholds in order to be considered a valid pair. The best results are ones in which both rules have high values for all three, but a combination of two is also considered interesting.

In total, association rules generated 24,430 individ- ual rules that pairs together to create 3976 rule pairs.

We show some of the most interesting rules in Fig- ure 1. The first set of rule pairs shows those with the highest confidence for each of the rules in the pair.

These are important rule pairs because the high con- fidence let us know that most of the patients with the antecedent share the same consequents. In the first pair, we see that when patients are female, have hy- pertension, and no hyperlipidemia, then their APhigh causes a change in the stenosis of the LAD. The second set of rule pairs depicts those pairs that have only one antecedent. These are the most generalized rule pairs and cover more patients. The final set of rule pairs in- clude those with high support. These rules are followed by a large percentage of patients in the Heart dataset, which makes them good candidates for future research.

4.4 Patterns of OLAP Statistical Tests  The overall purpose of OLAP statistical tests is to discover specific factors that cause a difference in one or more of the disease measure attributes. As with many other data mining techniques, the more specific goal is to find results that are surprising to the domain expert. OLAP statistical tests generated a total of 9064 significant results. Since these are too many rules, we will only explain some of the most interesting group pairs, as shown in Figure 2.

The first set of group pairs show some of the pairs that caused at least a Medium-level change in three     Table 2. Sample OLAP Statistical Test Pairs.

Three Attributes: APhigh=0/1,HIGHCHOL=0,PSTROKE=1?LAD-H,LCX-H,RCA-H; s1=0.03, s2=0.02 ILhigh=0/1,DIAB=0,HYPLPD=1,GENDER=1?LAD-M,LCX-M,RCA-H; s1=0.21, s2=0.13  Lowest p-value: APhigh=0/1,HYPLPD=0,PCARSUR=0,GENDER=1?LAD-H; s1=0.09, s2=0.03; PSTROKE=0/1,Aphigh=1,FHCAD=0?LCX-H; s1=0.26, s2=0.01  Largest Group Differences: SAhigh=0/1,HTA=0,HYPLPD=0,GENDER=0?LAD-H; s1=0.05, s2=0.02; LAD change from 24 to 88 OLDYN=0/1,HIGHCHOL=1,Ilhigh=1?RCA-H; s1=0.02, s2=0.01; RCA change from 22 to 98  Highest Support: SIhigh=0/1,CLAUDI=0,OLDYN=1,PSTROKE=0?LAD-H; s1=0.40, s2=0.10 SAhigh=0/1,HIGHCHOL=0?LAD-H; s1=0.72, s2=0.20  Opposite Values: HTA=0/1,ALHigh=1,PANGIO=0,GENDER=0?LAD-H; s1=0.02, s2=0.03 HIGHCHOL=0/1,HTA=0,LAhigh=1,PANGIO=0?LAD-M; s1=0.23, s2=0.02  measure attributes. A total of 218 results fit these con- ditions. The first group pair actually has High-level for three of the attributes. This is one of the most inter- esting and exciting results for domain experts because it detects a factor, APhigh, that triggers nearly all of the arteries. The second set of group pairs contain those with the lowest p-values. These are the pairs that are the most significantly different. For domain experts, these represent group pairs that most warrant further investigations. The third set of group pairs shows those that have the largest different between the two groups. These are the pairs in which the trigger factor changed the measure attribute the most. The fourth set of group pairs depicts those with the highest supports. These are important because they represent a larger percentage of the patients than most of the other results. The final set of group pairs shows some of the results where the change in value for the trigger factor is flipped from the norm. In most of the results, a change from 0 to 1 in the trigger factor causes a rise in the measure attribute(s). In these pairs, the exact opposite is true because such a change causes the mea- sure attribute to decrease.

4.5 Comparison of Techniques  The original constrained association rules discovers patterns and relationships between factors and the con- sequent items. By combining pairs of rules, we are able to obtain additional knowledge regarding the exact fac- tor that is causing certain changes in the consequent items. We still use confidence, support, and lift to fil- ter each individual pattern. The result is that in order for a pair to be valid, both patterns within the pair must pass all the thresholds. It is often the case that  Table 3. Summary of Association rules.

Support = 1%  Technique Description Heart conf>0.5 24430 3 consequents 103 2 consequents 4646 1 antecedent 22  Association Rule 2 antecedents 812 3 antecedents 7409 4 antecedents 16187 conf>0.5 3976 1 antecedent 5  Association Rule 2 antecedents 232 Pairs 3 antecedents 1929  4 antecedents 1810  one pattern passes all the thresholds, while its pair pat- tern does not. Table 3 shows a breakdown of both the individual patterns and the paired patterns on both datasets with support at 1%, confidence at 0.5%, lift at 1.2%, and ? equal to 1. As we can see, pairing the patterns greatly decreased the amount of results, but it provides us with more detailed information. We can see from the breakdown that there are more pat- terns with three and four antecedents than one or two.

This is expected because the smaller the number of an- tecedents, the greater the population that the pattern needs to cover. As a result, it is more difficult to find very general rules than it is to find more specific ones.

For OLAP statistical tests, the overall purpose is to discover specific factors that cause one or more of the disease measuring attributes to change. For this tech- nique, the main parameters are the population thresh- old, the p-value threshold, and the magnitude of change in the measure attribute. The population threshold determines the groups on which the statistical test is applied while the p-value is used to decide whether a pair of groups should be considered as being signifi- cantly different. The magnitude of change is used as a final filtration step to determine if the statistically significant change actually translates into a significant medical change. Recall that the Heart dataset has dis- ease measuring attributes with two boundaries. A pair is only medically significant if a factor causes one or more of these attributes to jump between the bound- aries. For example, if a statistically significant pair con- tains group A (ALhigh=0, PSTROKE=1, LAD=40.5) and group B (ALhigh=1, PSTROKE=1, LAD=80.2), then we must check to see if the change in LAD actually crosses a boundary. In this case, the LAD value jumped across two boundaries, making this pair medically sig- nificant. On the other hand, had the LAD value for group B been 49.8, then the pair would not be con- sidered medically significant since it did not cross any boundaries. Table 4 shows a summary of the group     Table 4. Summary of OLAP statistical test.

Technique Description Heart  p<0.01 9064 3 measure attributes 218 2 measure attributes 1326  OLAP Stat Test 1 dimension 10 2 dimensions 212 3 dimensions 1658 4 dimensions 7184  Table 5. Missed OLAP Statistical Test Pairs.

Group pairs not found by Association Rule pairs Reason Heart Total 7162 (100%) Low Confidence 2959 (41%) Low Lift 2319 (32%) Low Support 673 (9%) Itemset Length 1211 (17%)  pairs that are both statistically and medically signif- icant. Similar to Association Rules, the number of group pairs increase as it moves from the most gen- eral to the most specific pairs.

4.6 Significance of Techniques  Though there are numerous similar patterns found by both techniques, it is the patterns that are missed which provide the most interesting discussions. Let us first analyze those patterns that were discovered by OLAP statistical tests, but missed by constrained as- sociation rules. There are four main reasons for these misses are: low confidence, low lift, low support, and itemset restriction. Table 5 shows a summary of all the missed patterns with the cause. The percentages shown are the portion of the missed patterns due to that particular reason. Low confidence refers to one or both of the patterns falling below the default value of 0.5. Similarly, low lift represents those patterns which were discarded because one or more of them had lifts above 1.2. A missed pattern due to low support or itemset length represent those patterns that were not discovered because of the fundamental differences be- tween the implementation of these two techniques, as described in Section 3.4.

While we can alter the parameters of constrained association rules to produce more patterns, there is a limit to which further alterations are not reasonable.

The major parameters that can be altered are confi- dence, lift, and support. The ? remains the same be- cause changing it for association rule also implicates a similar change in OLAP statistical tests. Let us exam- ine, in more detail, the effect of lowering the confidence, lift, and support.

Table 6. Missed OLAP Statistical Tests Pairs.

Varying Confidence Varying Lift Confidence Heart Lift Heart  0.7 99% 1.5 98% 0.5 79% 1.2 79% 0.2 53% 1.0 55%  0.9 50%  4.6.1 Confidence and Lift  If the confidence threshold of association rules is low- ered, then we would expect more individual patterns to be produced and in effect, the number of pairs would also increase. Thus, arguments can be made that low- ering the confidence would find more pattens, which would in turn assist association rules in finding more of the missed OLAP statistical tests patterns. How- ever, lowering the confidence also has the effect of low- ering the reliability of the discovered patterns. Table 6 shows the effect of lowering the confidence and lift on the number of missed group pairs. As we can see, when we lower the confidence, more of the group pairs are discovered. Unfortunately, the total number of paired patterns discovered also rises. In addition, reducing the confidence below 0.5 is not recommended because such low confidences do not provide high reliability.

For example, if the rule male, smoke ? heartYES has a confidence of 0.3, then we can interpret this as mean- ing only 30% of the transactions that include males who smoke also includes heartYES. On the other hand, 70% of the same population of transactions would state that males who smoke do not have heart disease, heartNO.

Such conclusions do not provide much belief in the re- liability of the stated rule. As a result, we do not wish to push confidence below 0.5. In fact, we would pre- fer confidences of 0.7, which would mean the rules are more supported and thus more reliable.

The user can also decrease the lift threshold to allow for patterns that are not as independent. The lift is the ratio of the probability of the consequent given the antecedent and that of the consequent appearing due to random change. Thus, the higher the lift, the more the probability that the particular pattern is not due to random chance. We can see that decreasing the lift threshold definitely improved association rules, but as with confidence, we can only drop the lift so far. At a lift of 1.0, the probability of the antecedent causing the consequent is the same as the probability of the same event occurring due to random chance. Anything lower than 1.0, means that one has a better chance of getting to the consequent by random chance than using the antecedents. As a result, we do not recommend dropping lift any lower than 1.0.

Table 7. Missed Patterns Varying Support.

Support Missed OLAP pairs Missed Association Rules 2% 90% 0% 1% 82% 1% 0.5% 79% 9% 0.2% 78% 32%  Table 8. Missed Association Rule Pairs.

Varying p-value p-value Heart p<0.01 9% p<0.05 3% p<0.10 1% p<1.00 0%  4.6.2 Support  While altering the support can definitely be used to recover more OLAP patterns, this parameter is shared by both techniques. As a result, a change in one of these supports must also be reflected in the other one.

Changing one of the supports without the others would give an unfair advantage for the association rule tech- nique. Table 7 shows the misses for both techniques as we lower the support threshold. It is interesting to note that while the amount of patterns missed by as- sociation rules remains consistent, the opposite is true for OLAP statistical tests. As the support decreases, the percentage of association rules patterns missed in- creases. This can be attributed to the number of pat- terns that are returned by the techniques. For associa- tion rules, this total increase by an average of 60% from one support level to the next, while for OLAP statisti- cal tests, the increase in the amount of patterns is only 30%. Regardless of these increases, the percentage of patterns missed by OLAP statistical tests remains less than those missed by association rules.

4.6.3 p-value  On the OLAP statistical test side, 10% of association rule pairs in the Heart dataset were missed. Though OLAP statistical test is filtered using the population threshold, k, and the p-value threshold, we have shown that the first two filters are less limiting than their counterparts in association rules. Thus, they are not viable reasons for missing the association rule pairs.

This leaves the p-value threshold as the only reason why some rule pairs were missed. Table 8 shows the effects of increasing the p-value threshold on the missed rule pairs. As expected, when the p-value threshold was increased to 1, every pattern was discovered.

Figure 2. Varying depth on Heart dataset.

Table 9. Execution Time Varying n with k=5.

* designates over 5 hours  n OLAP statistical test Association rule 655 6985 920 6550 7002 3547 65500 7156 9258 655000 7419 *  4.7 Performance  We analyze the performance of the extended ver- sions of OLAP statistical test and constrained asso- ciation rules on the medical dataset. While medical datasets are typically small, the exhaustive searching of both techniques as well as the thousands of pairs re- turned makes this a complex problem. Figure 2 shows the performance when varying depth for the Heart dataset. This graph tell us that OLAP statistical test is susceptible to d, but robust toward increasing n, as is shown in [11]. The precomputation step of OLAP sta- tistical test helps make it resistant to increases in n by decreasing the size of the dataset. On the other hand, the extended constrained association rules is shown to be exactly the opposite of OLAP statistical test. While a larger d does not affect the execution time, an in- crease of n drastically decreased its performance. Ta- ble 9 depicts the executions times for OLAP statistical test and association rules as we increased n. The larger datasets are created by replicating the original Heart dataset.

4.8 Discussion  Our experiments revealed that OLAP statistical tests produced more patterns than constrained asso- ciation rules and was determined by less parameters.

When we compared the results from these two tech- niques, we found that the majority of missed patterns were caused by low confidence or high p-values. These are important reasons because they can be used as a measure of the reliability of the two techniques. The confidence one of the core parameters of association rules while the p-value is the core parameter for OLAP     Figure 3. Low confidence and low p-value.

statistical tests. As such, by comparing the effect of these two, we can better understand the difference be- tween these two techniques.

Let us first observe the case when constrained as- sociation rules deems a pair as having low confidence while OLAP statistical tests labels the same pair with a high p-value. One such pair is as follows: CLAUDI 0/1 ? RCA. In this case, the association rule pair is com- posed of two individual rules. The rule CLAUDI=0 ? RCAlow has a confidence of 0.591 while the rule CLAUDI=1 ? RCAhigh only has a confidence of 0.131. For the same pair, OLAP statistical tests finds a p-value below 0.01. In order to study this case in detail, we must look at a breakdown of the RCA values within the dataset separated by the two populations, as shown in Figure 3. We can see that for the population with CLAUDI=0, the distribution of RCA values is clearly skewed toward the lower end. However, the distribu- tion is more even for the other group. For confidence, we must separate these values into low or high, and, with a threshold of 50, more RCA values are placed into the low basket than the high basket. As a result, the confidence for the rule stating that CLAUDI=1 re- sults in a high RCA is met with low confidence. The reliability of such results is questionable because the middle spike is close to the boundary point. If the spike had been five units higher, then we would have a high confidence. The p-value is able to avoid such situations because it observes the entire spectrum of RCA values as a whole. Thus, it does not have distinct boundaries and is able to see that the average RCA value is signif- icantly higher with CLAUDI=1 than CLAUDI=0.

Let us now observe the opposite case where con- strained association rule finds a pair to have high con- fidence while OLAP statistical tests finds the same pair as having too high of a p-value. One such pair is highchol=0/1,hyplpd=1,gender=0,smoke=0 ? RCA.

In this case, both association rules that make up this pair have high confidences, but the p-value is 0.023, which is above 0.01. As before, we will analyze a break- down of RCA with respect to the two populations, as shown in Figure 4. We can observe that the population with highchol=0 is heavily skewed toward the low end  Figure 4. High confidence and high p-value.

of RCA while the population with highchol=1 is more evenly distributed. The main difference between the confidence and p-value is, again, in how the confidence separates its values into distinct bins. In this case, more of the values of the second population is placed into the high RCA basket, resulting in a high confi- dence. However, when we observe the entire spectrum as a whole, the average RCA value for highchol=1 is quite close to that for highchol=0.

Through these two examples, we can see that there are advantages and disadvantages to each technique.

For confidence, it is very fast because it only uses sim- ple counts and is considered easier to understand. On the other hand, the concept of p-value and Gaussian distributions are more difficult to grasp, but provides a strong statistical background. Confidence is not robust toward minor shifts in the values or random noise while the p-value is more acceptable of such situations. As the two examples above show, if the values had been shifted only a few units, then both pairs would have been deemed acceptable as opposed to only one. Also, in both cases, the p-value proves to be reliable because it does not need to discretized the artery values.

5 Related Work  Association rules [1] has been used in the medical do- main on many things including proteins [14], drugs [4], genetic data [2], and on disease prediction [12, 13]. In these works, the authors often observed the rules indi- vidually and made their conclusions based on each rule.

The idea of grouping association rules together to dis- cover information that would otherwise be hidden was explored in [8]. The authors used OLAP operations to group association rules together and explored the context information provided by such grouping. Our extensions for association rule is different because we analyze pairs of rules to find trigger factors for the con- sequents. Instead of finding global context information, our finds approach rule context from a specific view point to find single factors.

Constraints have been applied to OLAP in several     articles. In [3], the authors introduce domain con- straints to OLAP in the form of a constraint language.

The authors of [7] propose using integrity constraints to determine whether specific aggregate view in OLAP can be obtained from various other views. While both of these papers deal with constraints on OLAP, the con- straints on our OLAP statistical test are quite different from either the domain or the integrity constraint. Un- like domain constraints, our approach does not require a special language and can instead be executed directly in any DBMS. The depth and group constraints do not just help improve the performance of the algorithm, but also reduces the size of the results.

6 Conclusions  In this article, we presented a comparison between constrained association rules and OLAP statistical test. We extended both algorithms with different fea- tures to bring the results to the same level. For as- sociation rules, we included a pairing procedure that enabled us to gain knowledge from a pair of rules that would otherwise be hidden. In OLAP statistical test, we included constraints to reduce the size of the results and to increase its performance. These changes were difficult to implemented, but helps to make the two techniques produce similar results so that we can ana- lyze them side by side. In our experiments, we discov- ered that OLAP statistical tests not only discover more pairs than constrained association rule, the p-value is also more reliable than confidence. Small changes in the distribution of a pair can have profoundly differ- ent results for association rules because the shift might have been enough to push certain values into a differ- ent bin. On the other hand, p-value is not affected by the same small shifts. The decision of which technique to use ultimately becomes a question of confidence ver- sus p-value. We find that confidences are better used when performance is a priority and the dataset is heav- ily skewed. On the other hand, p-values handle even distributions better than confidence and also boasts comparable performance times.

For future work, we want to analyze both techniques on more datasets that have more variations in dimen- sions and cardinality. The relationship between lift and p-value should be analyzed. We want to breakdown the mechanisms of both techniques and observe which are common between the two and which are unique. Con- strained association rule can be extended further with a transaction precomputation to make it more robust toward larger cardinalities. We also want to see if as- sociation rules can be altered to calculate p-value.

