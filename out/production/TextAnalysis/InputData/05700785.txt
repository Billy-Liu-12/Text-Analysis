Applicability of H.264 in Telemedicine Reference  Model

Abstract? Health care is a critical social issue in all over the world nowadays, especially in small town or rural areas where expert doctors, nurses, electronic equipments and other infrastructures are not adequate. As a promising approach to address this issue, telemedicine has received much attention.

Telemedicine is a multimedia application where real time video, audio, text, graphics and vital signs are transmitted through the existing telecommunication facilities. Video data is the most dominant part in terms of information contribution of telemedicine electronic signal. However it requires huge bandwidth among the other components of signals. Reducing the transmission bit rates concomitantly obtaining the acceptable video quality is still a big challenge for researchers in telemedicine applications in real-time through the band-limited wired or wireless channels, especially through the latter one which accommodates only very low-bit transmission. This paper introduces an advanced video transmission platform based on H.264 compression standard. The efficiency and effectiveness of the presented platform are demonstrated by experimental results.

Keywords? H.264 standard, Medical Video, MPEG-4 Video standard, Telemedicine, Video Compression.



I. INTRODUCTION In the decade of  90?s of the last century the rapid growth  of computer and information technology gave a rebirth of telemedicine. Innovation of new technologies enables telemedicine systems to grow up in more complex and feature-rich technological manner [1].

In general sense where medical care relies on the face to face communication between patients and doctors, in telemedicine concept physicians treat a patient who is some distance away. The primary purpose of telemedicine is to reach health care service to patient who is some way isolated from specialized care. Telemedicine provides services on 24 hours a day and seven days a week basis. The patient may be living in remote place like rural area or in a ship in deep ocean and even in space craft. In countries where access to medical services is restricted by distance and poor transportation and where health care services are inadequate, telemedicine offers a great opportunity and possibilities to distribute medical services by utilizing information and communication technology.

The necessity of the telemedicine reference model has been recognized by ITU-T/D to realize telemedicine equipment portability internationally [2]. But telemedicine equipment has not been standardized and the interoperability of the medical equipment is difficult because of the different interfaces. Therefore, it is necessary to have the  standardization of the interface between telemedicine equipment and telecommunication systems. Though some telemedicine reference model has been proposed, yet there is no standard reference model for telemedicine. In 2005 Komiya proposed a telemedicine reference model [3]. In this model the functional interfaces of a telemedicine system can be shown as in Figure 1 ?       Fig. 1 Telemedicine reference model   MDEQ: Medical Equipment, PROC: Processor, TPH: Telecom Protocol Handling, NTI: Network Termination Interface.

M interface: Medical Equipment to Processor Interface.

Electrical signal from/to various medical and documentation equipment.

DM interface: Digitized Medical Information Interface.

Compressed digitized medical data (e.g. H.264, MPEG ?).

T interface: User-Network Interface.

U interface: Subscriber transmission Interface.

All these interfaces are indicating functional interfaces and not necessarily are appeared as physical interfaces. Original medical information to be sent from patients, Physicians, nurses, pharmacists is the input to the medical equipment.

They are pulse, temperature, brain, internal organs and medical documents such as medical records, medical data and prescriptions. All the information are sent to processor for further processing such as bandwidth reduction of various original data and sent to telecommunication protocol handling to be adapted to different networks and finally sent over subscriber transmission system via network termination interface (NTI). Reconstructed medical information at the receiving side of this model would be wave forms, X-Ray photos, MRI photos, CT scanned photos and medical records, medical data, prescriptions. Information from subscriber transmission will be terminated by various networks such as Public Switched Telephone Network, Integrated Services Digital Network, Internet, mobile networks, satellite networks and more. Mobile U-interface will be applied for ambulance car and wireless U-interface is necessary at rural areas or disaster sites. In [3], it is suggested that the interface  M D E Q  T P H    P R O C  N T I    M DM T                  U   ICECE 2010, 18-20 December 2010, Dhaka, Bangladesh     to be standardized would be M interface or DM interface because other interfaces T and U are already standardized.

The digital imaging and communications in medicine (DICOM) is the most commonly used standard [4], [5] which facilitates the distribution and viewing of medical images. It can be used for standardization for DM interface. DICOM allows both lossless and lossy compression for various kinds of video/image sequences. To address the needs of different applications, many video compression standards, such as ITU-T H.261, H.263, ISO/IEC MPEG-1, MPEG-2, MPEG-4 and H.264 have been ratified over the past decade. In [6], MPEG-4 has been used for the compression of ultrasound sequences. Experimental results showed that with support of object-based coding and compression efficiency, MPEG-4 is a good solution for compression of ultrasound sequences.

Compression ratios of up to 90:1 have been obtained with objective image quality similar to H.263. Additionally, using MPEG-4 to encode different parts of an ultrasound sequence as separate objects would benefit telemedicine applications.

In [7], MPEG-4 was also used for the compression of echocardiography sequences, which can greatly reduce the bit rate of echocardiography sequences for both archiving and transmission purposes.  The above works have shown that MPEG-4 can be effectively used in telemedicine application and can be a solution for DM interface standardization.

A recent video compression standard Advanced Video Coding/H.264 has become the focus of research since it has emerged. H.264/AVC has achieved a significant improvement in rate-distortion efficiency relative to existing standards [8], [12]. In this paper the applicability of H.264 is examined in telemedicine reference model in DM interface standardization based on the work of Yu et al. [13] where H.264 rate control algorithm is improved with better perceptual quality. A comparison between MPEG-4 and H.264 will also be made to asses which standard performs better in telemedicine application.

The rest of the paper is organized as follows. The next section briefly reviews the H.264 standard. Section III presents the experimental results comparing MPEG-4 and H.264 on two typical medical videos. This paper concludes with section IV.



II. A BRIEF REVIEW OF H.264  A. H.264 Overview The recent international video coding standard,  H.264/AVC [8], [9], has been approved by ITU-T as Recommendation H.264 and by ISO/IEC as International Standard 14 496-10 (MPEG-4 part 10) Advanced Video Coding (AVC). H.264 aims at providing functionality similar to existing video coding standards such as H.263+ and MPEG-4 but with significantly better compression performance and improved support for reliable transmission.

It is not a fundamentally different method, but rather a significant refinement of well-established methods. The elements common to all video coding standards are present in the current H.264/AVC recommendation. Some new techniques, such as spatial prediction in Intra coding, adaptive block size motion compensation, 44 ?  integer transformation, multiple reference pictures (up to seven reference pictures) and content adaptive binary arithmetic coding (CABAC), are used in this standard. The testing results [8], [10], [11] have shown that H.264 has achieved  substantial superiority of video quality over that of H.263, MPEG-2, and MPEG-4. It has achieved up to 50% in bit rate saving compared to H.263 or MPEG-4 coding schemes. This means that H.264 offers significantly higher coding quality with the same bit rates [12]. Therefore, H.264 will be a serious contender for a variety of next generation multimedia applications.

B. Rate Distortion Optimization One of the novel features of H.264 video coding is the use  of seven different macroblock (MB) coding modes so that the temporal and spatial details in an MB are best presented.

These coding modes are SKIP, INTER 1616 ? , INTER  816 ? , INTER 168? , INTER 88? , INTRA 1616 ? , INTRA 44 ? . In INTER 88?  mode, each block can be further divided independently into 88? , 48? , 84 ? , or  44 ? subpartitions. To select the best mode for each MB, all the MB modes are tried and the one that leads to the least rate-distortion (RD) cost is selected. This is to achieve the best tradeoff between the rate and distortion performance, and is called rate distortion optimization (RDO). RDO is achieved by selecting the mode with the least RD cost using Lagrangian multiplier, i? . The procedure can be defined as follows [14]:   RiiDiJiJi ?+= ?:min                        (1)   where Ji is the RD cost of an MB coded using Mode i , Ri is the data bits it consumed, and Di is the distortion it caused.

The mode that has the minimum RD cost is selected as the optimum coding mode for this MB.

In most medical images and video sequences, there exist some regions that are of special interests to the doctors, and the other regions are of no diagnostic significance.

Hence, the employment of RDO in H.264 makes it especially suitable for coding of medical images: we may decrease the Lagrangian multiplier i? in (1) to reduce distortion in the ROI (Region of Interest), and increase i? to reduce bit consumption in regions of no medical interest. Therefore, it is possible to select the best coding mode so as to achieve a compromise between high compression performance and good quality for encoding videos by accurately detecting the ROI. If H.264 is applied in medical video compression, the best coding mode that represents the characteristics of medical video contents may be selected correctly and hence high performance achieved. Thus, H.264 is expected to be effective in telemedicine applications.



III. EXPERIMENT RESULT The evaluation of experimental result includes the  comparison between MPEG-4 and H.264 for applying the better one in DM interface standardization of the telemedicine reference model proposed by Komiya [3].

MPEG-4 is implemented with MoMuSys codec [15], and H.264 is implemented with H.264 reference model version JM6.1e [16]. In order to determine the target bit rate, first the test sequences are encoded by using a fixed QP in H.264 without rate control. After this has been done, the actual consumed number of bits is obtained and used as the target     bit rate in the subsequent experiments. Considering different network conditions, the QPs used in the experiment are 28, 32, 36, and 40, respectively. Thus, there are four types of target bit rate for each test sequence.

Table I lists the test video sequences used in the experiment. The conditions of the experiment in H.264 are listed in Table II. In the experiment, it is only considered the features enabled in the Main Profile of H.264.

The test conditions of MPEG-4 are  set to match H.264 as much as possible. For example, the frame type is IPPP, the frame rate is 30 fps, and the search range is 32, etc.    Table III and IV show the results achieved from MPEG-4 and H.264 without rate control. For each sequence, four bit rates from high to low are selected as the target bit rates. To see the difference between MPEG-4 and H.264, it is shown PSNR gain and bit rate saving in the tables III and IV. PSNR gain is the PSNR difference in decibels (dB) between H.264 and MPEG-4. Bit rate saving is the bit rate difference in percentage between H.264 and MPEG-4.

It is obvious from Table III and Table IV that H.264 performs much better than MPEG-4 when applied in the test medical video sequences. For sequence ?CT?, H.264 obtains positive PSNR gain and bit rate saving in most cases. Even a significantly high PSNR gain of 6.95 dB is earned at high bit rate. For sequence ?Echocardiography,? H.264 also obtains positive PSNR gain and bit rate saving in most cases.

To see the overall performance comparison for the test sequences, we employ average PSNR difference and average bit rate difference as performance measure [17]. These measures are often used to compare RD performance between two different methods. The results are shown in Table V.

It can be seen from Table V that H.264 performs much better than MPEG-4 in average PSNR difference and bit rate difference. This result is in accordance with what has been described in the JVT report [8]. This shows that H.264 is a more efficient solution than MPEG-4 for medical video compression.

TABLE I TEST SEQUENCE    Sequence Format Size Frame Number  CT YUV 512512 ?  60 Echocardiography YUV 480640 ?  60     TABLE II TEST CONDITIONS IN H.264   Frame Type IPPP Frame Rate 30 fps Slice Mode OFF  RDO ON Rate Control OFF  Hardmard OFF Search Range 32  Restrict Search Range No restriction Symbol Mode CABAC Partition Mode No data partition Out File Mode Annex B       TABLE III RESULTS  ACHIEVED IN TERMS OF PSNR GAIN    Sequence Target Bit Rate  (kbps)  PSNR (dB) PSNR Gain (dB)  MPEG-4 H.264  CT 438.19 36.12 43.07 6.95 285.03 35.05 40.55 5.50 197.55 35.10 37.73 2.63 145.10 35.07 34.91 -0.16  Echocardiogr aphy  2266.14 35.79 38.09 2.30 1317.29 32.94 35.15 2.21 667.08 30.98 32.44 1.46 308.26 30.41 29.81 -0.60     TABLE IV RESULTS  ACHIEVED IN TERMS OF BIT RATE SAVING    Sequence Target Bit Rate  (kbps)  Bit  Rate (Kbps) Bit Rate Saving  (%) MPEG-4 H.264  CT 438.19 450.93 438.19 2.83 285.03 303.56 285.03 6.10 197.55 214.89 197.55 8.07  145.10 162.38 145.10 10.64  Echocardiogr aphy  2266.14 2266.51 2266.14 0.02 1317.29 1292.83 1317.29 -1.89 667.08 703.83 667.08 5.22 308.26 327.52 308.26 5.88   TABLE V  AVERAGE  PSNR DIFFERENCE AND BIT RATE DIFFERENCE BETWEEN H.264 AND MPEG-4  Sequence Average PSNR Difference over  Full Range of Bit Rate (dB)  Average Bit Rate Difference over Full Range of  PSNR (%) CT 4.35 <-100  Echocardiography 1.51 -59.71  For subjective quality evaluation, here the double stimulus continuous quality scale (DSCQS) test method is used which is described in ITU-R BT.500-10 [18]. The mean opinion score (MOS) scales for observers to vote for the quality  after viewing are excellent, good, fair, poor and bad.

Correspondingly, the scores are 5, 4, 3, 2, and 1. Five observers were involved in the experiments, including a medical doctor. All of them have some knowledge of image processing. From the evaluation result, it shows again that H.264 performs much better than MPEG-4 for telemedicine applications.



IV. CONCLUSIONS Unlike in some other video compression applications  where quality could be compromised with compression ratio, it is a very challenging task to compress medical videos as it requires both high quality and high compression ratio. On the one hand, for diagnostic purposes, it is essential that the compression process causes no tangible loss of detail and introduces no noticeable artifacts which could be otherwise misinterpreted as being pathological in nature. On the other hand, due to the limitation of storage and transmission and the huge amount of medical videos, high compression ratio is often required. As a result, to standardize DM interface of the proposed telemedicine reference model it requires an efficient rate-distortion optimized video coding standard. In this paper experiment result shows that the latest block-oriented motion- compensation-based codec standard H.264 performs excellent in rate-distortion optimization by outperforming MPEG-4 both in PSNR gain and bit rate saving. This indicates H.264 is a good solution for telemedicine application and is applicable to be used in standardization of the DM interface of the telemedicine reference model.

