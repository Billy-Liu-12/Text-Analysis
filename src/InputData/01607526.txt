Mining Alarm Database of Telecommunication Network   for Alarm Association Rules

Abstract  Some alarm correlation rules were discovered from the alarm databases of telecommunication network management systems by using technology of association rule mining and alarm sequence analysis.

The generation and the release information of alarms was recognized and extracted from alarm sequences.

The correlation between alarm time and clear time of alarms was used to reorganize alarm data so that better mining result could be obtained. This paper proposes a method to combine the correlated alarms to form an alarm transaction. The method not only solves the problem of asynchrony of correlated alarms in the network, but also discards many redundant data, and reduces the volume of alarm data and the number of rules in the result. The primary experiment shows our method is practical. The discovered rules are useful in locating problems in the network and filtering redundant alarms.

1. Introduction  Managing today?s telecommunication networks faces great challenges. The challenges arise from the need to manage performance, alarms, and states in networks consisting of many millions of network elements of many different types. Especially for alarm processing, there are large volumes of alarms generated daily by all kinds of network elements or components to report abnormal situations that have been detected. Alarms in telecommunication networks are massive, bursting and intermittent. When a fault occurs in the networks, a very large volume of alarms are generated. In fact, many alarms don?t contain the information about the root cause of fault. Facing the large volumes of alarms, it is very difficult for network administrators to rapidly identify and correct network  problems. Telecommunication network consists of switchers, transmission devices, motor devices, and many other components, and when the alarms are triggered and which nodes in the network trigger the alarms, and even the contents and formats of these alarms are specified by the manufacturers in advance.

Only some of the devices can trigger the alarms, and different devices have different alarm contents. Even for the same kind of device, different manufacturers have different contents and formats of alarms; moreover, faults of one device often cause alarms of other devices. Therefore, correlation analysis is required for the telecommunication alarms so that the root causes for the problems can be discovered. But the number of alarms is very huge, and the correlation between alarms is very complex, so the efficiency of completely manual classification and determination is not satisfactory.

Now in the field of fault management, it is a challenge to trigger alarms immediately, accurately, and flexibly. Once an alarm appears, the network monitoring center must determine the positions of errors as fast as possible and send repairers to solve the problems. Therefore, complex correlation analysis for alarms in the whole network is required to filter alarms and help the positioning of faults. Some network management systems provide correlation analysis functions for alarms, but they are mostly built over customized logics or association rules [1] [2]. A System filters redundant alarms according to predefined logics, and analyzes the correlation between alarms. For the correlation analysis functions in these systems, the most important thing is to obtain the association rules for alarms.

This paper studied how to use association rule mining techniques to analyze historical alarms and discover the association rules between alarms and the association rules between alarm devices, in order to help network administrators to analyze alarms,    examine the network faults, and predict severe faults.

The advantage of using the techniques of association rules mining is that the availability of the network topological structure is not required. When the topological structure changes, the system can analyze according to the history of alarms and find new correlation rules about alarms automatically, so the correlation alarm system based on associated rule mining can adjust very quickly to adapt to some variable telecommunication networks and solve new problems in these networks. Methods based on data mining have better compatibility.

Most of the previous research of alarm correlation didn?t consider the correlation between the generation and the release of alarms. Recent years, we focus on how to use the correlation between alarm time and clear time of the alarm to reorganize alarm data so that better mining result will be obtained. In our previous work [12], we proposed an approach to combine the correlated alarms to form an alarm transaction. The approach not only solves the problem of asynchrony of correlated alarm in the network, but also discards many redundant data, and reduces the volume of alarm data and the number of rules in the result. In this paper, we have improved our previous approach by adding alarm sequence analysis. The experiments show that the improved method reduces the volume of alarm data further and obtains better results. In the section 4, we?ll show some results of our experiments.

Comparing with other methods [3] [4] [5] [6] [7], our method has the following features:  Versatile: All this analysis method needs is the general historical records of alarm data. It does not need any information about the topological structure of the network and can be used in different telecommunication networks.

Easy implementation: After preprocessing, the data can be processed directly with general association rule mining algorithms [8] [9] [10] or sequential pattern mining algorithms [8] [11] for the task of mining association rules about alarms.

Accuracy: During organizing alarm transactions, this method considers not only the time of detecting alarms, but also the time of releasing alarms. The reorganization of raw alarm records to set up a set of alarm transactions discards most redundant data, task-irrelevant data and almost all of noisy data. Therefore, the mining results will be better.

Clear results: The mined association rules reflect the correlation between different alarms and different alarm devices.

The rest of the paper is arranged as follows. In section 2, the basic form of alarm data is described. In section 3, a method of alarm correlation analysis is  proposed. Finally, some experiment results and a summary are given in the section 4 and 5 respectively.

2. Alarms Data  Telecommunication network problems are anomalies of electric devices or software modules in the network. The system status changes during these situations, then alarm events are triggered. Normally a telecommunication network alarm contains the names and types of devices whose system situation changes, symptoms of anomalies, the time and alarm levels, without the detailed data of places and reasons for the detection of these anomalies. Telecommunication networks consist of many types of devices, so anomaly of one part could affect many other devices and cause alarms from many devices, or alarms from the same device repetitively. A huge number of alarms have provided us abundant data for data mining, because these data recorded the changes of related parts in this system. All kinds of rules for the anomalies are just behind the historical records for alarms.

To analyze and process an alarm message, it is required that this message contains the part name for this alarm, the detailed error message, and the error time. Normally professional network management systems have the functions of receiving, saving, and searching alarms. These data can be obtained from the alarm list. Table 1 displays the data attributes in a general alarm list, which is used as the dataset for alarm association rule mining. For example, in the instance for Table 2, the TID: LCJT01/NALC01A represents the name of a device in the local network in Quanzhou, this name is required during the solution of this problem to determine where this error happens and other related information; NEtype: ISM4RDI shows that this transmission device is a ISM (Intelligent Sync Mux) and software data are up and down, it describes the type of this device, so is not very useful for the treatment of alarms; address: TP7.14 shows that a component of that device to generate information directly, TP shows that the type is a branch unit disk, 7 represents the seventh disk and 14 represents the fourteenth branch; EntityType: CEPT1 means that the port for TP7.14 is 2M Severity: INFO shows that the type of this alarm is information, a low-level alarm.

Levels for alarms are used to remind network administrators of whether a quick reaction is required, with these alarm levels maintenance technicians can figure out the deadline for the repair. Levels can be CRITICAL PROMPT DEFFERD INFO CLEARD (from high to low), for which the relationship between CLEARD and others is generation versus release. In Table 2, the first record shows the generation of an alarm, while the third    record displays the release of the same alarm; Condition PFcREM shows that the signal is bad and the error is sending signals of alarm parts and receiving signals of distant devices. This message is required during the solution of this problem so that the specific position of the error is determined and maintenance technicians are sent to where the error happens; ServiceAffect: NSA(no service affected) shows that the alarm does not affect the use of that network, SA service affected means that it is affected, this definition is different for different manufacturers, so it is not very useful; For EventTime, ?2004-12-01 23:59:55? in Record No. 1 means December 1st, 2004 and 23 59 55 is the time of receiving that alarm,  ?2004-12-02 0: 09:20? in Record No. 3 means December 2nd, 2004 and 0 09 20 is the time of releasing that alarm.

Actually TID, ADDRESS, CONDITION, and EventTime are the main attributes for the analysis and treatment of specific alarms and locating an error. We have to know the names of network unit devices and related components so that we can find the specific physical device and the port position; we have to know the detailed information to determine the possible problems and find feasible solutions; we have to know the time of generating an alarm to analyze the alarm and master the treatment and timing requirement for that alarm.

Table 1: Main data attributes for alarms ID Attribute Name Description  1 TID The name of devices which generate the alarms  2 NEType The type of network devices  3 Address The port positions and the specific units  4 EntityType The port property, e.g., EPT1  5 Condition Detailed description of alarms  6 Severity The alarm level  7 EventTime The time for events  8 SeviceAffect Whether the work is disturbed, NSA or SA  Table 2: Some examples of alarms  Tid Netype Address Entity Type Severity Condition  Service affecting status Eventtime  LOCALHTMUXONE/02 ISM4RDI TP6.16 CEPT1 INFO PFcAIS SA 2004-12-01 23:59:55 LCJT01/NALC01A ISM4RDI TP7.14 CEPT1 INFO PFcREM NSA 2004-12-02 0:01:03  LOCALHTMUXONE/02 ISM4RDI TP6.16 CEPT1 CLEARD PFcAIS SA 2004-12-02 0:09:20  3. Alarm Association Rules Mining  3.1. Association Rules Mining  Association rule mining searches for interesting association rules that describe the dependence and relationship between different objects in the given data, and the basic concept of association rules is [8]  Let I= {i1, i2, ?, im} be a set of items. Let D, the task-relevant data, be a set of database transactions where each transaction T is a set of items such that T?I. Each transaction is associated with an identifier, called TID. Let A be a set of items. A transaction T is said to contain A if and only if A?T.

An association rule is an implication of the form A B, where A?I, B?I, and A?B=?. The rule A B holds in the transaction set D with support s and    confidence c, where s is the percentage of transactions in D that contain A?B, and c is the percentage of transactions in D containing A that also contain B.

The problem of association rule mining is to find all association rules with support and confidence greater than or equal to a user-specified support and confidence from a given set of transactions.

3.2. A Method of Alarm Association Rules Mining  A fault of the networks may incur many alarms.

There are several reasons for generating many alarms.

For example, a single fault may be detected by multiple network components, then each one of them emits an alarm notification; a fault of a component may affect several other components, causing the propagation of this fault; a fault may be intrinsically intermittent which implies in the sending of a notification at each new occurrence, etc. Many association relationships do exist among alarms.

However, we cannot apply the association rule mining algorithm to sets of raw alarms directly, because the alarms that are incurred by the same fault are not guaranteed to be synchronous, in other words, the values of ?EventTime? of these alarms are different, and the set of raw alarms may contain some incorrect attribute values, incomplete data or some alarms which are irrelevant to the correlated alarm sequence. Dirty data can cause confusion for the mining procedure, resulting in unreliable output.

Based on an in-depth study of the features of alarms, we propose the following preprocessing techniques: 1) Extract Tid, Address, Condition, alarm time (the  EventTime of generating the alarm) and cleared time (the EventTime of clearing the alarm) for each raw alarm from alarm database of telecommunication network management system.

Here the cleared time of an alarm exists among its subsequent alarms. It can be identified and extracted from the subsequent alarms. For example,  in table 2, the cleared time of the first alarm is the ?EventTime? of the alarm in the fourth row.

2) Combine Tid, Address and Condition as a complex- item. We have to know the names of network unit devices and related components so that we can find the specific physical device and the port position, and we have to know the detailed information to determine the possible problems and find feasible solutions.

3) Define a transaction time interval to deal with the asynchronous problem of alarms. The alarms whose values of ?EventTime? are within the same short time interval may be incurred by the same fault.

4) Reorganize alarm transactions. Combine all the alarms with the following conditions to form an alarm transaction:  The values of alarm time are within the same time interval.

The values of cleared time are within the same time interval.

Their orders are the same.

Base on above preprocessing techniques, we  propose a method for alarm association Rule mining.

The method is described as follows:  Let TID+ADDRESS+CONDITION be an alarm item, namely an alarm item is a complex item consisting of values of attribute TID, ADDRESS and CONDITION of an alarm. Let L be the length of a time interval.

Let AD, the task-relevant data, be a set of alarm transactions where each alarm transaction AT is a sequence of alarm items, which consists of all alarm items with alarm time within the same time interval, cleared time within the same time interval and their orders are the same.

For example: for 4 alarms in table 2, which are extracted from a raw alarm database, 2 alarm transactions will be formed (in table 3), if L=2 minutes.

Obviously, reorganizing raw alarm records to set up a set of alarm transactions will discard most redundant  Table 2: four alarms extracted from a raw alarm database  No. TID+ADDRESS+CONDITION Alarmtime Cleartime  1000 LCJT01/NALC01A+TP7.14+PFcREM 2004-12-01 0:07:42 2004-12-1 0:27:52  1001 LCJT01/CNCLB01 +TP5.4+HcLOS 2004-12-01 0:08:00 2004-12-1 0:28:11  1002 LOCALAXMUXFOUR/03+TP6.9+PFcAIS 2004-12-01 23:59:01 2004-12-2 0:09:33  1003 LOCALTMMUXTHREE/03+TP8.15+PFcREM 2004-12-01 23:59:02 2004-12-2 0:09:34    Table 3: two alarm transactions  ATID Alarm items sequence  0001 LCJT01/NALC01A+TP7.14+PFcREM, LCJT01/CNCLB01 +TP5.4+HcLOS  0002 LOCALAXMUXFOUR/03+TP6.9+PFcAIS, LOCALTMMUXTHREE/03+TP8.15+PFcREM  data, task-irrelevant data and almost all the noisy data.

Let A be a sequence of alarm items. An alarm  transaction AT is said to contain A if and only if A is a subsequence of AT.

An alarm association rule is an implication of the form A B, where both A and B are sequences of alarm items, and they do not contain any same alarm item.

The rule A B holds in the alarm transaction set AD with support s and confidence c, where s is the percentage of alarm transactions in AD that contain A?B, and c is the percentage of transactions in AD containing A that also contain B.

Given a set of alarm transactions AD, the problem of alarm association rule mining is to find all alarm association rules with support and confidence greater than or equal to a user-specified support and confidence from AD.

4. Experiments  4.1. Data Preparation  The preparation of data is a necessary step for data mining, and it is very important for whether data mining can succeed. In our experiments, we collected more than 70,000 raw alarm recorders from a local telecommunication network management system in Quanzhou, Fujian, China. The time of alarm events ranges from 2004-12-01 to 2005-03-01. In order to discover useful alarm association rules in the sequence of alarms, we have finished following tasks of data preprocessing.

1. Extract the values of Tid, Address, Condition, alarm time and cleared time for each raw alarm.

2. Set up a set of alarm transactions. Let L=2 minutes, then an alarm transaction is a sequence of alarm items consisting of all alarm items with alarm time within the same time interval of 2 minutes, and cleared time within the same time interval of 2 minutes, their orders are  the same.

After data preprocessing, we have established an  alarm transaction database with 8,213 transactions.

Next we can apply general association rule mining algorithms and sequence analysis techniques for the task of finding alarm association rules directly.

4.2. Mining Alarm Association Rules  There are several ways to implement the method of alarm association rule mining which has been described above. In the experiments, we considered 2 solutions. The first solution is to modify Apriori algorithm [8] to find a frequent sequence of alarm items and then generate alarm association rules from found frequent sequence of alarm items. The second solution is to use the association rule mining function of IBM DB2 Intelligent Miner to generate association rules among alarm items and then filter out all rules that do not satisfy the definition of alarm association rule.

Set Min_supp as 1%, min_conf as 25%. Using the second solution, the alarm association rules we got are shown in figure 1, totally 137 rules.

Figure 1 alarm association rules    4.3. Analysis Result  Most rules reflected the correlation of alarms and network devices, as what we expected.

For example, the rule [DONGHAIDP/50+--+] [LOCALXPMUXTWO/02+--+] shows that the device DONGHAIDP/50 has high alarm correlation with another device LOCALXPMUXTWO/02, after the examination, we know that the reason is that there are many pathways between these two devices.

Here is another example, given the rule [ NANANLD  / 31 + TP7.12 + HcLOS ]   [ NANANMS / 10 + TP7.12 + PFcREM ] it is clear that the alarm HcLOS from the part TP7.12 of NANANLD/31 triggered the alarm PFcREM of the part TP7.12 of NANANMS/10  this correlation rule displays two facts: ? The correlation between network resources: NANANLD/31+TP7.12 and NANANMS/ 10+TP7.12 are correlative in the network. ? The correlation of alarms: the alarm HCLOS is correlative with the alarm PFCREM.

According to the analysis of experienced maintenance men, this method included the time of clearing alarms, which is very effective for this problem but ignored in all the previous studies. We filtered out 12 useless rules from the 137 rules according to the following knowledge of telecommunication: (1) Alarms for physically disconnected devices are irrelevant. (2) A high-level alarm will never trigger a low-level alarm. (3) Different types of devices without logical correlation are irrelevant. It shows that our results are very accurate.

5. Summary  Based on an in-depth study of the features of alarms, this paper proposed a method of alarm association rules mining which is based on association rule mining and alarm sequence analysis. We used C++ to develop a program for preprocessing alarm data and implemented the functions for the selection of time interval, the detection of releasing alarms, etc., so that the raw alarms are reorganized as a series of alarm transactions. Experiment results showed that alarm event sets after processing can be used with common association rule mining tools for the task of alarm association rule mining, so the method of alarm correlation analysis proposed in this paper is practical and has some innovation.

In the next step, we will select raw alarms for different time periods for data mining, sort mined  alarm correlation rules statistically, obtain the count table for alarm correlation rules, invite professional maintenance technicians to help us to analyze the results, filter the mined rule sets, and discover useful alarm rules, then study automatically filtering and processing of mined results.

* Acknowledge: This research was partly supported by the research grant from Oversea Chinese Affairs Office of Chinese State Council No.03QZR5 and Science and Technology Office of Fujian Province, China (No.2004I014)  6. References  [1] HongSheng Qian, ?Research on Method of Model Telecommunication Management? (in Chinese), http:// www.gxlu.com.cn [2] Bing Liang, ?BRM: The application of new technology to Industry? (in Chinese), Computer World, 2003, N0.14 [3] Denise W Guer, Lrfan khan, Richard Ogier, ?An Artificial Intelligence Approach to Network Fault Management?, http://www.sce.carleton.ca/netmanage/docs/ An_AI_ Approach.pdf [4] Hatonen K, Klemettinen M, manila H et al, ?Knowledge Discovery from Telecommunication Network Alarm on Data Engineering (ICDE?96), New Orleans, Louisiana [5] H?t?nen,K., Klemettinen,M., Mannila, H., Ronkainen, P., Toivonen. H., TASA. ?Telecommunications Alarm Sequence Analyzer?, Proceedings of IEEE/IFIP Network Operations and Management Symposium (NOMS?96), 520-529, Kyoto, Japan, April 1996 [6] Qingguo Zheng, Ke Xu, Weifeng Lv, Shilong Ma, ?Intelligent Search of Correlated Alarms from Database Containing Noise Data?, Proceedings of IEEE/IFIP 2002 Network Operations and Management Symposium (NOMS'2002), Florence, Italy, April 2002 [7] QingGuo Zheng, WeiFeng Lv, ?Research on Alarm Correlation of Telecommunication Network? (in Chinese), Computer Engineering and Application, 2002.2 [8] Jiawei Han and Micheline Kamber. Data Mining: Concepts and Techniques, Morgan Kaufrmann Publishers [9] A. Savasere, E. Omiecinski, and S. Navathe, ?An Efficient Algorithm for Mining Association Rules in Large Databases?, Proceedings of VLDB Conference, 1995, pp.432-444.

[10] S. Sarawagi, S. Thomas, and R. Agrawal, ?Integrating Association Rule Mining with Relational Database Systems: Alternatives and Implications,? Proceedings of ACM SIGMOD Int?l Conference on Management of Data, 1998, pp. 343-354.

[11] AGRAWAL, R., & SRIKANT, R. ?Mining Sequential Engineering (ICDE'95), Taipei, Taiwan, 3-14.

