Size Does Matter - Positioning on the Wrist A Comparative Study: SmartWatch vs. SmartPhone

Abstract?Indoor Positioning is a crucial topic to provide autonomous services to people based on their location. Nowadays dominating positioning systems, like GPS (Global Positioning System), are designed for outdoor use not applicable for indoor scenarios as they depend on a direct line of sight to reference stations. Recent progress in wearable computing peaked in the promising development of SmartWatches. They are seen as a successor of the SmartPhone evoking a new era of an always on, large scale, planet spanning, body sensor network. This work investigates in the question if SmartWatches are an accurate and suitable approach for an out of the lab, 24/7, real world Indoor Positioning System. In utilising Wi-Fi fingerprinting methodologies in combination with machine learning techniques, it is shown that state of the art consumer hardware in form of SmartWatches can be used to shape a cost effective, unobtrusive, and accurate indoor positioning system.

Keywords?SmartWatches; Realtime Indoor Positioning; Wearable Computing;

I. INTRODUCTION Persons? positions inside buildings deliver highly important  contextual input information for smart services. SmartHomes, as one application scenario, can use this information to au- tonomously reduce energy consumption by turning not used electrical power consumers off [1], [2], [3]. SmartHomes can utilize the position information to e.g., autonomously switch off the lights in the kitchen when no person is in the kitchen, or to turn the lights on in the living room when a person is recognized to walk to the living room. These two simple and placative scenarios highlight the usefulness and the need for a real world, 24/7 utilizable cheap and reliable positioning system ready for daily use. The scenarios are of course not limited to electrical power consumers, and can easily be extended to other energy consumers like the com- ponents of HVAC (heating, ventilation, and air conditioning) systems. Indoor positioning systems are not limited to the use in SmartHomes. They can be used in different appli- cation scenarios like location based network access, games, logistics and security [4]. The vast majority of today?s indoor positioning systems is not utilizable for people due to their obtrusiveness, cost factors, and their complicated setup and maintenance procedures. In this work, we argue to utilize an ecosystem of Wi-Fi-Access Points in combination with SmartWatches to achieve an accurate, unobtrusive, daily usable indoor positioning system for the use in out of the lab settings.

The research hypothesises valid within this paper can be formulated as follows: (i) The expected positioning accuracy of a SmartWatch is applicable for implicit SmartHome con- trol based on location information; and (ii) Compared to a SmartPhone the accuracy drain of a SmartWatch is negligible;

II. RELATED WORK  The basic indoor positioning techniques can be clustered into (i) dead reckoning [5], (ii) proximity sensing [6], (iii) triangulation [7], (iv) trilateration [7], and (v) fingerprinting (scene analysis) [8]. The use of Wi-Fi signals for positioning systems has become popular during the last years [4], mainly due to the increasing availability of Wi-Fi Access Points (APs).

As of today, it is very unlikely in a urban area to find a spot where not at least one SSID (Service Set Identifier) is received by a Wi-Fi client. Today?s Wi-Fi based location estimation approaches use the Received Signal Strength Indicator (RSSI) from various APs to build a RSSI - Fingerprint database which is used for the positioning of the Wi-Fi clients. One of the first basic works was done by Bahl and Padmanabhan [9]. They proposed an in-building user location and tracking system named RADAR, which uses Wi-Fi signal strength data with the k-NN machine learning algorithm. The median error distance of RADAR is 2 to 3 meters, about the size of a typical office room. A slightly better accuracy can be achieved by additionally using the orientation of the Wi-Fi client, as presented by Chan et al. [10]. By using the built-in orientation sensors from an Android SmartPhone (Google Nexus One) the positioning accuracy raised to 1.82m.



III. EXPERIMENT DESIGN  We present that the positioning accuracy that can be achieved with a Wi-Fi based fingerprinting system fully implemented on a SmartWatch is sufficient to make positioning possible at least on room-size level in a daily usable setup. We assume that the average minimum room size is 10m2 or at least 3 ? 3m. This room size sets our accuracy goal to 3m. It was already shown that with Wi-Fi fingerprinting this accuracy is achievable. All the work which has been done on Wi-Fi fingerprinting so far shows a reliable positioning accuracy between 2 to 3m [8], [9], [10], [11].

The Third IEEE International Workshop on Sensing Systems and Applications Using Wrist Worn Smart Devices, 2017     As a suitable, off the shelf Wi-Fi client for realtime indoor positioning, we selected a SmartWatch using the Android platform. The use of Android Platform allows the reuse of the developed application on various Wi-Fi clients if necessary (e.g., SmartPhone, SmartWatch, tablets, etc.). The major advantage of using a SmartWatch is its permanently physical connectedness to its owner: the SmartWatch and its owner are assumed to always be at the same location which does not necessarily hold for a SmartPhone that can be left on the desk or in the jacket and thus is not always at the same location as its owner. Elaborated pros and cons for the used SmartWatch are summarized in Table II.

We selected a maximum of five Wi-Fi APs in our exper- iment, with a fixed SSID each and programmed to use a fixed Wi-Fi channel (1,3,6,9,11). The number of used Wi-Fi AP matches the power outlets in common household settings which are required to operate the APs. As hardware for the experiment setup we used (i) Fritz!Powerline 546E Wi- Fi AP, (ii) the MotoACTV as standalone, Wi-Fi enabled SmartWatch, and (iii) the Samsung Galaxy S3 mini as an Android enabled SmartPhone platform. The Fritz!Powerline WLAN Access Point immediately turns on once plugged into a 230V power outlet and connects automatically via power line communication (PLC) to other FRITZ!Powerline APs thus autonomously building a network topology to overcome Wi-Fi unreachability due to large distances. Technical details for the SmartWatch and the SmartPhone can be found in Table I.

TABLE I TECHNICAL SPECIFICATIONS  SmartWatch (MotoACTV) SmartPhone (S3 mini)  OS Android 2.3.4 Android 4.1.2  CPU 600MHz OMAP3 ARMv7 1,0GHz ARM Cortex A9  RAM 256MB 1GB RAM  Display 220x176 px (1.6?) 800x480 px (4?)  To get state of the art positioning accuracy we used the device orientation information [10] provided by most of the Android devices. The Android device orientation information is additionally stored with the RSSI fingerprints in the training database. To record variance in the collected RSSI data we took training data samples from the Wi-Fi client device in horizontal and vertical aligned position according to their as- sumed ?daily working? orientation. We also took data samples from the Wi-Fi client in all four cardinal directions (north, east, south, west). This makes a total of eight different device positions. For each of them we took at least 3 RSSI samples resulting in a total of 3 ? 8 = 24 training data samples per trained location. Evaluation of the collected RSSI data showed, that the data changes significant whenever the Wi-Fi device changes orientation into one of these 8 positions. For the SmartPhone, Table III and IV show the mapping between the device position number and the actual device orientation information we get from the Android OS.

TABLE II MOTOACTV SMARTWATCH: PROS AND CONS  It is always on the user?s wrist, so it is as tight as possible connected to the user?s location. This is not the case with a SmartPhone.

positive It is reporting Wi-Fi RSSI data in 2 second intervals. The SmartPhone reports only every 4 seconds a new RSSI scan report.

It uses US Wi-Fi standard and thus only supports Wi-Fi channel 1 to 11.

Wi-Fi RSSI level ranges only from -35dBm to -100dBm compared to -15 to -100dBm on standard Android Smart- Phone.

It has a built-in 3-axis accelerometer, but it lacks a magnetic sensor. We do not get the same orientation information as from Android SmartPhone.

Display is very small. Must be considered during develop- ment.

negative  Battery is drained after 3 hours if Wi-Fi is turned on permanently. Our solution to overcome this limitation is presented in Section III-A.

TABLE III DISCRETE POSITIONS WITH SMARTPHONE HORIZONTAL  Pos# Azimuth (?) Pitch (?) Roll (?)  0 north: 315? < ? < 45?  1 east: 45? ? ? < 135?  2 south:135? ? ? < 225?  3 west: 225? ? ? ? 315?  ?60? < ? < 60? ?45? < ? < 45?  For the SmartWatch we used exactly the same device orientations (be referred to Table III and IV) for collecting the RSSI fingerprint training data values. We observed the same high variance in the training data as with the SmartPhone.

As the MotoACTV SmartWatch does not provide the same full orientation information as the SmartPhone (because of the lack of a magnetic sensor), we could only distinguish between the horizontal and the vertical alignment of the watch using the data from the built-in acceleration sensor (for the corresponding thresholds be referred to Table V).

A. Motion based Battery Run-Time Extension  The major disadvantage when using today?s SmartWatches is their very limited battery run-time. If Wi-Fi is not enabled and the display is activated rarely, experiments showed that the battery run-time is about 3 days (as shown in Fig. 1).

Fig. 1. MotoACTV battery run-time with accelerometer based auto-WiFi.

The Third IEEE International Workshop on Sensing Systems and Applications Using Wrist Worn Smart Devices, 2017    TABLE IV DISCRETE POSITIONS WITH SMARTPHONE VERTICAL  Pos# Azimuth (?) Pitch (?) Roll (?)  4 north: 315? < ? < 45?  5 east: 45? ? ? < 135?  6 south:135? ? ? < 225?  7 west: 225? ? ? ? 315?  don?t care ? ? ?45? or ? ? 45?  TABLE V DISCRETE POSITIONS WITH SMARTWATCH  Pos# Acceleration az on Z-Axis comment  0 az ? 6.0m/s2 horizontal alignment, watch display facing the sky  1 az < 6.0m/s2 vertical alignment, watch display looking sideways  If Wi-Fi is permanently enabled to collect RSSI data, the battery is empty after 3 hours. For the developed positioning system, we know, that Wi-Fi scan reports are only needed when a person is moving. We implemented an automatic Wi- Fi enabling/disabling algorithm by using the built-in 3-axis accelerometer. With the accelerometer it is possible to detect if the SmartWatch, thus its user, is moving or not. If a change of more than 0.1g on one of the accelerometer axis x,y,z is detected, indicating movement, we activate Wi-Fi to record RSSI values. If no change is detected for 20 seconds, our algorithm disables the Wi-Fi system if no other service is using it to safe battery power. With our developed automatic Wi-Fi enabling algorithm we have extended the battery run-time from 3 to 20 hours as shown in Fig. 1.



IV. RESULTS  In this Section, we present the results of the field study we conducted with our fully implemented prototypical system to evaluate its suitability for out of the lab, real world, indoor positioning. Fig. 2 shows the selection of the test rooms. Every room has its own unique characteristic. The selected rooms cover a wide variety of rooms that are expected in an indoor positioning application. The floor plans of the rooms in Fig.

2 show the installation places of the five used APs marked with small circles, their names (AP16-AP20), and the used fingerprint rasterization. The medium sized room is tested with two different fingerprint sizes (2?2m and 3?3m) to evaluate the accuracy limits for our indoor positioning approach.

A. Evaluation Methodology  1) Machine Learning Classifiers: Various classifier algorithms have been used for classification in a 10-fold cross- validation test with the collected fingerprint data. The Weka machine learning classifiers have been used with the following parameter setup (the full package information is omitted here for all weka commands): Naive Bayes (NaiveBayes); Logistic Regression (Logistic -R 1.0E-8 -M -1);  Fig. 2. Floorplans of the selected test rooms for the field study as presented on the SmartWatch and SmartPhone to the user (all in scale, except the farm).

Detailed information is presented in Table VI.

Multilayer Perceptron (MultilayerPerceptron -L 0.3 -M 0.2 -N 500 -V 0 -S 0 -E 20 -H a); Support Vector Machine (SMO -C 1.0 -L 0.001 -P 1.0E-12 -N 0 -V -1 -W 1 -K "PolyKernel -C 250007 -E 1.0"); k-NN (IBk -K 1 -W 0 -A "LinearNNSearch -A ?EuclideanDistance -R first-last?"); Decision tree (J48 -C 0.25 -M 2). For offline evaluation and analysis we used 10-fold cross-validation on the training dataset.

B. RSSI Data Variance  In Fig. 3 all recorded RSSI training data samples that have been gathered during the calibration phase for the Medium room with 3?3m fingerprint size are presented. Each boxplot is coloured with the same colour as the AP from which it represents all stored RSSI data. All boxplots printed into the area of a certain fingerprint show only RSSI training samples from this particular location.

Fig. 4 compares the RSSI training data samples received on the Samsung Galaxy S3 mini SmartPhone with the RSSI data that has been received on the MotoACTV SmartWatch. The SmartWatch boxplots clearly show, that the highest RSSI value is ?45dBm. This limitation of the RSSI data dynamic range on the SmartWatch explains why there is a small difference in the prediction accuracy if the MotoACTV SmartWatch is compared to the used Samsung Galaxy S3 mini SmartPhone.

C. Classification Performance  The analysis of the gathered calibration data from all 5 test rooms was done with the Weka Explorer framework and 10-  The Third IEEE International Workshop on Sensing Systems and Applications Using Wrist Worn Smart Devices, 2017    Fig. 3. Recorded SmartPhone RSSI training data from all APs and all 4 fingerprint locations in the Medium room with a fingerprint size of 3? 3m.

Fig. 4. RSSI training data comparison between SmartPhone and SmartWatch.

fold cross validation. Fig. 5 shows a bar graph, which presents the Weka analysis results from the Medium room (with 3?3m fingerprint size). The bar graph shows the percentage of correct classifications from different machine learning algorithms for the SmartPhone (Mobile) and the SmartWatch (Watch). The bar graph is split up in 6 blocks, and every block shows the classification performance with a certain system setup:  Pos. 0 only: RSSI data is only used from the device pointing north in horizontal alignment. This will always result in the best, but in practice unusable, highest possible number of correct classifications.

use no Orientation: here we simply ignore the delivered device orientation information.

use Orientation: this is our normal operation mode. The delivered device orientation information is used as part of the  classifiers input feature vector. In this, normal operation mode, we show the results also for reduced AP count when only 4,3 or 2 APs are used.

Beside the small room, with just 2 fingerprint areas, the only test which gave acceptable prediction accuracy of ? 95% was the Medium room with a fingerprint size of 3? 3m. The test in the Medium room with 2?2m fingerprint size showed only a prediction accuracy of 71.1%, so this room has been tested a second time with the larger fingerprint size.

To improve the performance in the House experiment, the fingerprint locations have been accumulated to build bigger fingerprints as it is shown in Fig. 6. The existing training dataset has been used to form the combined locations dataset by simply renaming class numbers as required. The prediction performance increased from 68.9% to 87.5% with the com- bined fingerprint locations.

D. Evaluation Summary  Table VI summarises the results we obtained during the field test with the selected rooms and their best positioning performance including comments for explanation. Every test room is listed with its total floor size, the used fingerprint size and the prediction performance when using 5, 4 or 3 Wi-Fi APs. The comparison of the performance with different number of Wi-Fi APs shows the loss of positioning accuracy the lower the AP count gets. In the results from the Medium room with a fingerprint size of 3 ? 3m we see, that the use of only 4 Wi-Fi APs is enough to get > 95% positioning accuracy. The comment ?Magnetic sensor issues? in this table means, that the orientation information from the SmartPhone?s magnetic field sensor was wrong on some locations, due to nearby iron or other disturbing materials. During analysis of the recorded fingerprint data this can easily be found if the prediction accuracy is higher without the use of the  The Third IEEE International Workshop on Sensing Systems and Applications Using Wrist Worn Smart Devices, 2017    Fig. 5. Evaluated prediction performance exemplarily shown for the medium room with 3x3m fingerprint size, the six different classifiers, and with/without the use of the orientation sensor to gain knowledge about the influence on the achieved accuracy.

Fig. 6. Accumulated fingerprint locations for the House test.

device orientation information. From the six different types of machine learning classifiers, the k-NN classifier always performed best, reaching a classification accuracy of 96,1% for the SmartPhone and 91,1% for the SmartWatch in the medium room with a fingerprint area of 3? 3m. The improved results from the House with the combined fingerprints demonstrated that a room can be calibrated with a too small fingerprint size.

If the calibration data is combined in a smart way to form larger fingerprints, one can still get a satisfactory positioning accuracy. In the experiment on the Farm we reached the Wi-Fi signal range limit of about 100m outdoors [7] and typically only half of this distance indoors. Because of this limited Wi- Fi signal range, we did not get RSSI data from all 5 APs  at some fingerprint locations on the Farm. This explains the low positioning accuracy for the large used fingerprint size of 10? 10m. The results of the Farm experiment show, that the problems with the magnetic sensor data on the SmartPhone caused the accuracy to drop below that of the SmartWatch.

The SmartWatch is not equipped with a magnetic sensor, thus it is not facing the wrong magnetic sensor data problem that can result in an unexpected loss of accuracy.



V. CONCLUSION With the results presented in Table VI we can answer our  research questions: (i) The expected positioning accuracy of a SmartWatch is applicable for implicit SmartHome control based on location information. The results from the Medium room evaluation show, that the fingerprint size has to be at least 3?3m. With the assumption, that the average minimum room size is 10m2 or larger than 3 ? 3m, we conclude that the SmartWatch is useable for indoor positioning on at least room level. Additionally we can state that a SmartWatch is a practicable and suitable technology for indoor positioning us- ing Wi-Fi fingerprinting. The implementation of an automatic Wi-Fi enable/disable algorithm extended the battery run-time from 3h (with Wi-Fi always on) to 20h. This deems to be a long enough run-time to make Wi-Fi fingerprinting feasible with the SmartWatch for daily life use. Recharging only once a day is feasible and very likely to be accepted by users;  (ii) Compared to a SmartPhone the accuracy drain of a SmartWatch is negligible. In all tests (see Table VI) the  The Third IEEE International Workshop on Sensing Systems and Applications Using Wrist Worn Smart Devices, 2017    TABLE VI SUMMARY OF TEST RESULTS.

Floor size Fingerprint size Positioning accuracy SmartWatch (SmartPhone) Test area  Dim. Area Dim. Area 5AP 4AP 3AP Comment  Farm 30 ? 80m 2400m2 10 ? 10m 100m2 82.5%(73.1%) 74.6%(69.8%) 56.2%(51.1%) Magnetic sensor issues. Not all APs visible on some lo- cations.

Large 10 ? 20m 200m2 2.5 ? 2.5m 6.25m2 41, 1%(40.3%) 36.9%(33.6%) 27.7%(28.1%) Fingerprint size chosen too small for 5 APs in this large room. Not enough APs.

2 ? 2m 4m2 63.9%(68.5%) 56.5%(66.6%) 47.1%(63.8%) Magnetic sensor issues.

House 10 ? 16m 160m2  > 2 ? 2m > 4m2 83.5%(87.5%) 79.3%(86.6%) 73.2%(81.1%) Fingerprint areas have been combined here to form larger areas, see Fig. 6.

2 ? 2m 4m2 67.1%(70.1%) 53.5%(67.9%) 35.0%(61.2%) Fingerprint size of 2? 2m too small.

Medium 6 ? 6m 36m2 3 ? 3m 9m2 91.1%(96, 1%) 86.3%(95.2%) 75.7%(93.6%) Successful test. Even with 4  APs accuracy sufficient.

Small 3.5 ? 3.5m 12.25m2 1.75 ? 3.5m 6.13m2 98.1%(100%) 97.2%(99.5%) 91.3%(97.8%) Successful test. Room has only 2 fingerprint locations.

difference in the classification error between the SmartPhone and the SmartWatch was at most 5% if data from all five APs is used. The influence of installed Wi-Fi Access Points on the positioning accuracy can be estimated and optimized. Table VI shows, that with 4 AP?s we can successfully cover a 36m2  room. With > 95% correct classifications when using 3? 3m fingerprint size. Let?s assume that the number of required AP?s is direct proportional to the floor area in m2. We can then use formula (1) to approximate the minimum required number of AP?s to get a positioning resolution of 3m:  XAP = A  + 1 (1)  Where A is the size of the area to be covered in m2.

The results of the experiment emphasize that Wi-Fi fin- gerprinting is an easy to implement technology useable for indoor positioning in real world settings. There are limitations to the positioning resolution (?3m), but for use in Home Automation (HA) systems e.g., to save energy [1], this is seen sufficient. The use of a SmartWatch, like the MotoACTV, for indoor positioning applications is preferable to a SmartPhone as the watch is always tightly connected to a person. This is not the case with a standard SmartPhone, which provides slightly, but for our understanding negligible better positioning performance around 5% (mainly due to the better and larger built-in Wi-Fi hardware), but it is not necessarily located at the same position as its owner (A SmartPhone can easily be left on the desk or be forgotten in the coat pocket).

Using SmartWatches as an indoor positioning system has been shown to be a step towards an unobtrusive and accurate indoor positioning system useable by people in real world, 24/7 scenarios. The slightly reduced positioning accuracy is negligible for our application scenario of smart energy man- agement and compensated by the benefits of the SmartWatch (e.g., unobtrusiveness, fixed body position, always on, etc.). As SmartWatches are just in the phase of gaining high popularity,  technological advancements and new sensor implementations are going to form multi sensor platforms in the future, that will make them even more suitable for systems like person- alized indoor positioning, that depend on a body worn sensor platform.

