Research on Changes of E-shopper Behavior in the Internet Environment

Abstract: In the Internet shopping environment, changes of customer's needs grow increasingly outstanding. For discovering the changes, the paper mines the transaction databases of different time periods by using association rule discovery, and extracts the association rules and discovers the changes in network customer behavior by comparison and analysis between the two sets of association rules. This paper presents a new algorithm that contains the first support, the second support and Rel-confidence. The algorithm solves the problem of the present algorithms cannot discover association rules with infrequent data items. And according to the changes of network customer's behavior, robust pattern, appearing pattern and unexpected change are presented to measure the changes.

Keywords: Network customer, Association rule, Support, Data item, Behavior, Change  1 Introduction  With the development of electronic commerce in the Internet, companies have changed the way they connect to and deal with their customers and partners. Businesses hence could overcome the space and time barriers and are now capable of serving customers electronically and intelligently. However, marketers face the challenge of a constantly evolving market where customer needs are changing all the time. In such an environment, a successful marketer must understand changes in customer needs and how those needs change in time, and accordingly, develop more appropriate marketing strategies to satisfy customers' needs in order to survive and gain a competitive advantage.

Change mining can enable market analysts to better understand changes in customer needs and how those needs change. Change mining is more appropriate in dynamic Internet business environments. However, relatively little research has focused on mining changes in databases collected over timeE'l. Data mining, one of the most popular techniques, have mostly been adopted to generate predictions and describe behaviors from enterprise databases in support of making better decisions 21. Data mining can discover potentially significant patterns and rules underlying the database by automatic or semi-automatic exploration and analysis on large amounts of data items set in a database [3]. The patterns and rules mainly include knowledge rules, constraints and regularities, and are mostly the habits of purchasing and other consumers' behavior. During the past decade, there have been a variety of significant developments. Some of the developments are implemented in customized service to develop customer relationship [4]. For example, businesses can get to know  customers' wants and needs by utilizing data mining technology to find potential information, and accordingly develop more appropriate marketing strategies to attract and retain customers in electronic commerce.

Liu et al. devised a method of change mining in the context of decision trees for predicting changes in customer behavior. Since decision tree is a classification-based approach, it cannot detect complete sets of changes. Association rules mining that was first proposed by Agrawal and Srikant can discover correlations of events, which can be represented as probabilistic rules [5]. 'Correlation of events' means those events are frequently observed together. Association rule is represented by X and Y where X and Y are a set of items. The rule means that the transaction records in database that contain X tend to contain Y. Association rule discovery is one of data mining techniques, widely used .in analyzing the correlation between product items purchased by customers [6]. Therefore, Song et al [7] considered that association rules discovery could be applied to identify the correlations between customer profiles represented by demographic variables and purchased products by examining customer and product databases. And Song employed an approach based on association rules to identify changes in customer behavior.

So far, a good number of efficient algorithms for extracting association rules have been proposed [8][9][10][11].

However, there are many shortcomings for the algorithms in the efficiency. In the existing algorithms for discovering the association rules, the support is unique throughout the whole database [12], and they assume that each data included in the database occurs in a similar frequency [13]. In reality, however, the data items may occur either relatively frequently or not, according to the characteristics of the database, and its frequency in the database does not satisfy the minimum support but appears associated with the specific data in high proportion of its frequency. Nevertheless, the existing association rule discovery techniques do not consider the occurrence frequency pattern of data, and discover the association rules using the same support on the whole data, so the rules associating with infrequent data cannot be discovered. In addition to, most previous customer behavior studies applied customer demographic variables to analyze customer behavior. However, valuable customer behavioral variables, such as recency, frequency, and monetary, can be used to differentiate customer contributions to a business.

To solve the problems above, in this paper, a new algorithm of discovering association rules that contain the first support, the second support and Rel-confidence is presented, which not only is applicable to excavation  - 68 -    of the frequent data item, and but also is applicable to infrequent data item. And then, two transaction databases at different time periods are mined based on the algorithm. The changes in e-shopper behavior are identified by comparison and analysis between the two sets of association rules generated from two databases of different time periods.

This paper is organized as follows. Section 2 formulates the algorithm how to discover frequent items from database, and presents the algorithm. Section 3 presents analysis on the changes in E-shopper behavior basing on the discovered association rules. Section 4 illustrates an example, and mines the changes in E-shopper behavior. Section 5 presents summary and conclusions.

2 Formulation of the algorithm  To solve the problem of infrequent data are hardly discovered in the existing association rule discovery methods, the first support, the second support, Rel-confidence and min-confidence are set in the algorithm. The first support is critical value of the user-specified support used in the process of frequent itemsets discovery. The second support is critical value of the user-specified support in the process of significant infrequent itemsets discovery. Rel-confidence is set to discover significant infrequent data items that co-occur with the specific data in high proportion of its frequency, and is determined by candidate itemset {il, i2, ... , ik- The second support works with Rel-confidence together to generate semi-frequent itemsets from candidate itemsets.

Correlation between the first support and the second support is subject to the following inequality.

1 stsupport>2ndsupport (1) The first support and the second support are set so  that the condition (1st support > 2nd support) is satisfied.

If the expression of inequality is not satisfied, redundant rules can be generated or the rare items may not be discovered.

Rel-confidence is defined as follows: If a database is defined as the data set I {il, i2,  im} and the support of the data item i is expressed as sup(i) , Rel-confidence, the maximum confidence between the data in the candidate itemset {Jil, i2, ... , ik, is Rel-confidence (il, i2, .*- I ik) = max{sup(i1, i2, .

1k) SUp(iA), SUp(i1, i2, ..S., 4)sUp(i2), ..., SUp(i1, i2, ... I ik)/Sup(ik)}. (2) Rel-confidence is between 0 and 1, and is determined by selecting the largest one among the con-fidence values for the candidate itemset against each data item.

Transaction database usually is composed of two groups of data items. One group includes frequent data items that satisfy the first support, and the other group includes rare data items that do not satisfy the first support. Firstly, the customers' information and transactions are recorded in the database. The proposed data mining procedure is then applied to analyze  customers' purchase records. Each data item in database is inserted into C1, 1-candidate itemsets when the algorithm program scans database. To generate L1, frequent 1-itemsets, each 1-candidate itemset that satisfies the first support or the second support is inserted into L1, frequent 1- itemsets. C2, 2- candidate itemsets, are constructed by joining two items from frequent 1- itemsets. And then, count of support is made for each 2-candidate itemset {il, i2}. 2-candidate itemset is inserted into L2, frequent 2- itemsets if it satisfies the first support. For 2-candidate itemset that do not satisfy the first support but satisfy the second support, calculation of the Rel-confidence of (ii, i2, ... , ik) is made. If the Rel-confidence is greater than or equal to the min confidence specified by user, the 2-candidate itemset is considered as semi-frequent itemset, and also is inserted into L2, frequent 2- itemsets, otherwise is deleted. Consequently, frequent 2- itemsets that contain significant infrequent data itemsets are constructed. The process repeats until the candidate itemsets cannot be generated any more. The overall process of rules discovery is as shown in Fig. 1.

Suppose frequent k-itemset {il, i2, ...k,ik is the final frequent itemset that cannot generate candidate itemsets, and then, association rules are discovered by calculating confidence of {il, i2, ..., ik} and comparing that with min-confidence specified by user.

IScans transactions database, and generates 1-candidate  Fig.1 The overall process of rules discovery  K-frequent itemsets, where k is the number of the  - 69 -    data items in its itemsets, is represented as Lk.

K-candidate itemsets , where k is the number of data items in its each itemset, is represented as Ck. Ik represents the candidate itemset from Ck. Ik.support represents the support for candidate itemset Ik. The algorithms for generating frequent itemsets that include semi-frequent itemsets are provided as follows: Algorithml (function for generating candidate itemsets,  candi-gen(Lk-l)) if (k=2) then insert into Ck;  select p.iteml; q.iteml from LI else  insert into Ck select p.item1; p.item2;...; p.itemk 1; q.itemk I where p.item1=q.item,, ..., p.itemk2 =q.itemk-2, p.itemk- I < q.itemk_I  Algorithm2 D: Database (a set of transactions) I = i1, i2, . . ., in1: a set of data items accessed by all  transactions in D C1 ={ il, i2, ikl; for ( ik E I)  if (ik.support, 1st support) then ik E L else  if (ik.supportD2nd support) else remove ik from C1  then ik E L  end for (k=2; Lk- I!= 0; k++) do  Ck= Candi-gen(Lk 1); T= { }; for all transactions t in D do  Ct ={ }; /* Ct ={Ik Ik E Ck and all data items in lk are included by transaction t} *  for all Ik E Ck do if (all data items in lk are included by  transaction t ) then Ct = Ct U Ik  end for all candidates Ik E Ck do Ik.count++ End T = T U Ct  end for all candidates Ikin T do  if (lk.count- 1st support) then Lk ={ kl Ik E T and Ik.countD 1st support}  else Rel-confidence (ii, i2, ... ik) max(sup(il, i2, *--. ik) SUP(iA), SUp(i, i2, ... ik)/sup(i2), SUp(i1, i2, ... , ik)/SUP(ik)) if (Ik.count , 2nd support and lk. max-confB  min-conf) then Lk ={ kl Ik E T and lk max-confD  min-conf } else remove lk from Ck  end Answer = U k Lk End  3 Analysis of changes in behavior  Association rule reflects the correlation between e-shopper profiles and purchased products. Therefore, association rules are adopted for change mining to identify customer behaviors. However, association rules discovered at different time periods of time vary over time [14]. So, the changes in customer behavior are identified by comparison between two sets of association rules generated from two datasets of different time periods. Association rules are descriptive patterns of the form X-*Y, where X and Y are statements regarding the values of attributes of an instance in a database. X is termed the left-hand-side, and is the conditional part of an association rule. Meanwhile, Y is called the right-hand-side, and is the consequent part. According to similarity or difference of association rules extracted from two datasets of different time periods, e-shopper behavior is classified into three behavior patterns to measure changes in customer behavior [15]. These patterns include robust pattern, appearing pattern, and unexpected change.

Robust patterns are defined as rules whose supports increase extensively between two time periods of time stamped datasets and imply that the same consumer behavior exists in different time periods of time. The positive pattern growth rate (i.e. the support of a rule increases over time) indicates that the customer behavior becomes robust over time. Meanwhile, a pattern growth rate below zero indicates that the customer behavior is getting weak. For association rules, a rule at period t1, Ri , is identical with another one at period t2, Rt2, but support for the two rules differs significantly between different time periods. When robust patterns are applied in marketing, positive robust patterns require company to do concerted marketing efforts, and to provide satisfying services for customers. Meanwhile, negative robust patterns suggest that the use of marketing resources should be reduced by avoiding less profitable customers.

Appearing pattern is identified as a rule if conditional and consequent parts of Rt2 differ significantly from any rule, RVi , at period t1. Appearing pattern suggests that new target customers and new customer needs occur. Therefore, marketing manager should develop new marketing strategy to stimulate customer's needs in time and explore new consumer markets.

Unexpected patterns can be classified into unexpected conditional changes and unexpected consequent changes. If the conditional parts ofRi and Rtj2 are similar, but their consequent parts are different,  - 70 -    then Rt2 is an unexpected consequent change with  respect to Rt' . Moreover, if the consequent parts ofRtV and Rt2 are similar, but their conditional parts are different, then Rt2 is an unexpected conditional change  with respect to Rti . The patterns of customer behavior reflect the associations between customer attributes and their purchased products. Therefore, the conditional part of association rule takes the form of customer profile presented by demographic variables and customer behavioral variables. While the consequent part denotes the product purchased by customers. Unexpected consequent patterns indicate that customers with the same characteristics no longer purchase the same products, and shift their purchasing behavior or buy different products. Consequently, marketing decision makers can promote new products based on the projection of unexpected purchasing rules, or can strengthen their marketing efforts to retain customers.

Unexpected conditional patterns indicate changes occurring in the target customers of products, and consumer group of specific products has been changed to another group.

4 Mining association rules  E-shoppers are segmented into four clusters in terms of in terms of average purchase expenditure (monetary) and purchase frequency [16]. These four customer groups include best customers, frequent customers, spenders, and uncertain customers, as illustrated in Fig. 2. In the four clusters of e-shoppers, best customers represent the most valuable customers with higher purchase frequency and monetary expenditure, while spenders and uncertain customers represent peripheral customers whose purchase frequency and monetary expenditure are lower.

When recency is used for cross analysis of the four customer clusters, spenders and uncertain customers have not made regular purchases recently. Meanwhile, best customers consist of customers who have recently made regular purchases, and also have higher average purchase size and purchase frequency. Therefore, best customers are concluded to be the most valuable for the business. In this study, best customers are considered as the target object to be mined changes in purchase behavior.

Monetary A  Fig.2 4 clusters of e-shoppers Frequency  A record for transaction data usually includes  following attributes: transactional ID, customer name, gender, age, product name, quantity and date, etc. To illustrate the process for mining changes in e-shoppers behavior, two databases of different time periods for e-shoppers buying products is as shown in Tab.land Tab.2. The two given database includes ten transactional records that has four attributes. a, b, c, d and e represent five different products, respectively.

Tab.1 Transaction database at period ti TID Name Sex Age Product  1 CN1 female < 30 ABC 2 CN2 male 30 50 C D 3 CN3 male < 30 ABCD 4 CN4 male E 5 CN5 female 50 C E 6 CN6 male <30 CDE 7 CN7 male <30 AB 8 CN8 male 30 50 C D E 9 CN9 male < 30 AB 10 CN1O female 30 50 C D E  <30 ABE  Tab.2 Transaction database at period t2 TID Name Sex Age Product  1 CNII male 30-50 A BC 2 CN12 female < 30 CD 3 CN13 female 30 50 ABCD 4 CN14 female >50 E 5 CN15 male 30 50 CE 6 CN16 female 30 50 C D E 7 CN17 female ABE 8 CN18 female 30 C D E 9 CN19 female 30 50 BE 10 CN20 male <30 ACDE  30 50 ABE  Transaction database at period tl is transformed into Tab.3 in order to discover association rules. In Tab.3, M and F represent male and female, respectively, and Al, A2 and A3 represent "<30", "30 50" and ">50", respectively. The first support is set to 4 (400 o), and the second supports to 2(20%), and min-confidence is set to 500/O. The process for extracting association rules on table 3 is as follows:  Tab.3 Data items in transaction database at period ti TID Sex Age Product  1 F al ABC 2 M a2 CD 3 M al ABCDE 4 M a3 C E 5 F al CDE 6 M al AB 7 M a2 CDE 8 M al ABD 9 M a2 CDE 10 F al ABE  The set of data items in the transactions database, I = {m, f, al, a2, a3, a, b, c, d, e}, are inserted into Cl, 1-candidate itemsets. Support for each item is as shown  - 71 -    in Tab.4. It indicates that f, a2 and a3 are infrequent data item that does not satisfy the first support. Meantime, a3 does not satisfy the second support, and is removed from C1. However, f and a2 satisfies the second support, and is inserted into L1, frequent 1-itemsets. The other items all are frequent data item. Therefore, L1, frequent 1-itemsets that contains rare data items is generated by running Algorithm2, L1={m, f, at, a2, a, b, c, d, e}.

Tab.4 Supports for each data item  Item support Item support  M 7 Al 6  F 3 A2 3  A3 1 B 5  A 5 C 7  D 6 E 6  C2, 2-candidate itemsets is generated by running Algorithml, and is composed of the following 2-candidate items: {(m, al), (m, a2), (m, a), (m, b), (m, c), (m, d), (m, e), (f, at), (f, a2), (f, a), (f, b), (f, c), (f, d), (f, e), (at, a), (at, b), (at, c), (at, d), (at, e), (a2, a), (a2, b), (a2, c), (a2, d), (a2, e), (a, b), (a, c), (a, d), (a, e), (b, c), (b, d), (b, e), (c, d), (c, e), (d, e)}. Algorithm2 counts supports for each 2-candidate itemset and compare the supports with the first support and the second support to generate L2, frequent 2-itemsets. In 2-candidate itemsets, (f, a2), (f, d), (a2, a) and (a2, b) are removed from C2 for not satisfying the first support and the second support.

For 2-candidate items that satisfy the first support but do not satisfy the second support, Algorithm2 calculates the Rel-confidence of each 2-candidate item, and compares one with min-confidence specified by user. The 2-candidate items, (a, c), (a, d), (a, e), (b, c), (b, d), (b, e), satisfy the second support, but Rel-confidences for the items are smaller than min-confidence (500/O), and accordingly are deleted from C2. The 2-candidate items, (m, a2), (m, a), (m, b), (m, e), (f, a), (f, b), (f, d), (f, at), (f, c), (f, e), (al, c), (al, d), (al, e), (a2, e), satisfy the second support, and Rel-confidence for the items is greater than or equal to min-confidence (500 o). Therefore, the 2-candidate items are inserted into L2, frequent 2-itemsets. Consequently, frequent 2-itemsets includes the following items: (m, al), (m, a2), (m, a), (m, b), (m, c), (m, d), (m, e), (f, at), (f, a), (f, b), (f, c), (f, d), (f, e), (at, a), (at, b), (at, c), (at, d), (at, e), (a2, c), (a2, d), (a2, e), (a, b), (c, d), (c, e), (d, e). The program repeats until the candidate itemsets cannot be generated any more.

The final frequent 4-items resulting from the discovery procedure are (m, al, a, b) and (m, a2, c, d).

5-candidate itemsets cannot be generated from L4 ={(m, al, a, b), (m, a2, c, d)}. Frequent 4-item,{m, al, a, b} includes the two data items associating with customers profile and the two products bought by customers.

Therefore, (m, a2)->(c, d), association rule is verified whether to satisfy min-support and min-confidence. The  result is as follow: support{(m, a2) U (c, d)}=30%, confidence{(m, a2) U (c, d)}= 00%. The result indicates that this rule satisfies min-support and min-confidence.

The association rule, (m, a2)-*(c, d) is represented by R' . The association rule, (m, al)-*(a, b) also is discovered from the frequent 4-item, (m, al, a, b). The association rule, (m, al)->(a, b) is represented by Rl.

The same mining process runs in the transaction database at period t2 in order to discover association rules. According to the results from the running program, the final frequent itemsets are (f, al, c, d) and (f, a2, b, e).

Association rules are discovered from the final frequent itemsets, (f, al, c, d) and (f, a2, b, e). The results are as follow: (f, al)->(c, d), is represented byR'2, and (f,  t2a2)-(b, e), is represented by Rt22 The association rules discovered from the two  transaction databases at period tl and t2 indicates purchase behavior for best customers has already varied over time. Comparing the association rules generated from the two transaction databases at period tl and t2 can identify the changes in e-shopper behavior.

" is described as {sex = male age="30 50" }->{c, d}, which reveals e-shoppers with such attributes as male and "30 50" regularly purchase products of "c" and "d". R12 is described as (sex = female age="< 30" = ->(c, d), which reveals e-shoppers with such attributes as female and "<30" regularly purchase products of "c" and "d" at period t2. Although the consequent parts of R and Rt2 are similar, their conditional parts are different, so the changes in purchase behavior is an unexpected conditional change with respect to Rti . The former customers no longer purchase the same products.

The same products may shift their initial target between customers at time periods tl and t2. Consequently, marketing decision makers should enforce marketing efforts in promoting products of "c" and "d" to female customers and reduce promotions to male customers, thus increasing customer value.

t2 is described as (sex = female age="30 50") ->(b, e), which reveals e-shoppers with such attributes as male and "30 50" regularly purchase products of b and e.

The conditional and consequent parts ofRt2 are different from the rules generated from database at period tl.

Therefore, e-shoppers' behavior revealed by Rt2 belongs to appearing pattern, which indicates that new target customers and new customer needs occur. Marketing decision makers should be aware of the changes in market in time, and explore new consumer markets and develop promotion plans to stimulate consumer needs.

For the future promotion of products, marketing personnel can shift to different markets and target new customer clusters to create new markets.

- 72 -    5 Conclusion  In this study, an novel algorithm that contains the first support, the second support and Rel-confidence is proposed to discover association rules for both frequent data items and significant rare data items that appear infrequently in the database but are highly associated with specific data. Furthermore, based on the extracted association rules, the changes in e-shoppers purchase behavior are analyzed by comparison between two sets of association rules generated from two databases of different time periods. Consequently, potentially useful information is acquired to direct marketing decisions.

