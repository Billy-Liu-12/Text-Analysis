Emulating a cooperative behavior in a generic association rule visualization tool

Abstract  Traditionalframework for mining association rules has pointed out the derivation many redundant rules. In or- der to be reliable in a decision making process, such discov- ered rules have to be both concise and easily understand- ablefor users, as an input to visualization tools [ I ] .

In this we present a graphical visualization proto- typefor handling generic bases association rules. Wedis- cuss also the most adequate graphical visualization tech- nique depending on the intrinsic structure of the generic bases of association rules. An interestingfeature the pro- totype is that it provides a ?contextual? exploration such rule set. Such exploration, based on the discovery of fuzzy meta-rules, enhances man-machine interaction by emulat- ing a cooperative  1. Introduction  Modern hardware and database technology has made it possible to store gigabytes of information in databases.

However, this rapid digitalization has pointed out an im- portant need for tools techniques to delve and ef- ficiently discover valuable, non-obvious information from large databases. Data mining techniques have been pro- posed and studied to help users better understand and an- alyze the information Much research in data mining from large databases has focused on the discovery of as- sociation rules [2, 11, Association rule generation is achieved from a set of frequent itemsets in an extraction context for a minimal support An associa- tion rule is a relation between itemsets of the form : X (Y in which X and Y are frequent itemsets, and X c Y . X and (Y- X ) are called, respec- tively, premise and conclusion of the rule T . The valid asso- ciation rules are those of which the measure of confidence  is greater than or equal to a minimal  Engelbert Mephu Nguifo Centre de Recherche en Informatique de Lens  IUT de Lens- Rue de SP 16,62307 Lens Cedex  threshold of confidence, named If = 1 then r is called exact association rule (ER),otherwise it is called approximative association rule (AR).

The problem of the relevance and usefulness of extracted association rules is of primary importance. Indeed, in most real life databases, thousands and even millions of confidence rules are generated, among which many are re- dundant.

Various techniques are used to limit the number of re- ported rules, starting by basic pruning techniques based on thresholds for both the frequency of the represented pat- tern and the strength of the dependency between premise and conclusion. This pruning can be based on patterns de- fined by the user (user-dejined templates), on boolean op- erators 25, The number of rules can be reduced through pruning based on additional information such as a taxonomy on items [ or a metric of specific interest [  Pearson?s correlation or a combination of item taxonomy and user-driven process  More advanced techniques that produce only a limited number of the entire set of rules, called generic bases The generation of such generic bases draws heavily on a battery of results provided by concept analysis (FCA) [  In this paper, we are interested in the study of the most used kind of visualization categories in data mining, use visualization techniques to present the information catched out the mining process. Graphical visualization tools became more appealing when handling large data sets with complex relationships, since information presented in the form of images is more direct and easily understood by hu- mans. Visualization tools allow users to work in an inter- active environment with ease in understanding rules. In a based-tabular view of association rules, all strong rules are represented as in a tabular representation format (rule table), in which each entry corresponds to a rule. All rules can be  The number of transactions of K containing Y , I  Proceedings of the 16th InternationalConference on Tools with Artificial (ICTAI 2004) $20.00 2004  COMPUTER SOCIETY    displayed in different order, such as order by premise, con- clusion, support or confidence. This helps users to have a clearer view of the rules and locate a particular one more easily.The tabular view is advocated for representing a large number of rules with varied length. As a drawback, tabular- based technique draws heavily on a "boring" logical infer- ence that a user should perform, and is not suitable for visu- alizing rules from different aspects. For example, if a user is interested in a comprehensive view of the relationship be- tween rules and items. In this case, the tabular view is not very convenient, since an item repetitively appears in the rule table as long as it is contained by a rule. These facts un- derline the importance of graphical rule visualization tools, permitting a clearer and more user-friendly view of rules and items. Indeed, visual representation has the capability of shifting load from the user's cognitive system to the per- ceptual system However, as pointed out in the ded- icated literature, the graphical based techniques 3D Histograms or 2D matrix) are actually interesting if only a small size of rules are handled.

In this paper, we are interested in presenting a graphical- based visualization prototype for handling generic bases of association rules. We try to find an answer to the following question : "Which is the most adequate visualisation tech- nique depending on the intrinsic structure of generic bases of association rules, specially as their sizes is by far lower than the set of all (redundant) association rules"? As we will show later, 3D histograms-based technique is particu- larly advocated for visualizing generic bases extracted from sparse contexts. While, 2D matrix-based technique is indi- cated to visualize generic bases extracted from dense con- texts.

An interesting feature of the aforementioned prototype is that it provides a "contextual"exploration of such rule set.

Indeed, additional information are provided to a user select- ing a given displayed rule :  1. All the rule are displayed. To derive such rules, we use the set of inference axioms, that we in- troduced in  2. All the "connected" rules are displayed to the user in an interactive manner. The contextual interaction is performed through the construction of fuzzy meta- rules, rules where both premises and conclusions are composed of rules.

Interestingly, such additional displayed knowledge allows improved man-machine interaction by emulating a cooper- ative behavior.

The remainder of this paper is organized as follows. Sec- tion 2 sketches briefly the mathematical background for the extraction of generic bases of association rules. In section 3, we present the process of the extraction of fuzzy associ- ation meta-rules. Then we discuss in depth in section 4 the  opportunity of the rule set contextual exploration. Section 5 concludes this paper and points out future research direc- tions.

2. Extracting generic bases of association rules  In the following, we recall some key results from the Galois lattice-based paradigm in FCA and its applications to association rules mining. A formal context is a triplet  = A,R), where represents a finite set of objects (or transactions), A is a finite set of attributes and R is a bi- nary relation R g x d).Each couple a ) R expresses that the transaction o contains the attribute a A. We define two functions that map sets of objects to sets of attributes and vice versa. Thus, for a set 0 we define = { a 0 R}; and for A A, $ ( A ) = { 0 A R}. Both functions and form a Galois connection between the respective power sets and Consequently, both compound operators of and are closure operators, in particular w = o  Frequent closed itemset: An itemset A A is said to be closed if A = and is said to be frequent with re- spect to the minsup threshold if = > minsup. An itemset g A is called minimal generator of a closed itemset A, if and only if = A and g such that = A.

Iceberg Galois lattice: When only frequent closed item- sets are considered with set inclusion, the resulting structure  only preserves the joint operator. In the remaining of the paper, such structure is referred to "Iceberg Galois lat- tice".

With respect to and given an Iceberg Ga- lattice, representing precedence relation-based ordered  closed itemsets, generic bases of association rules can be derived in a straightforward manner. We assume that, in such structure, each closed itemset is "decorated" with its associated list of minimal generators. Hence, generic approximative association rules (GAR) represent "inter- node" implications, assorted with a statistical information,  the confidence, from a sub-closed-itemset to a super- closed-itemset while starting from a given node in an or- dered structure. Inversely, generic exact association rules  are "intra-node" implications extracted each node in the ordered structure  For example, let us consider the transaction database given by Table I (Left). The set of extracted closed itemsets, denoted by with their associated minimal generators, is depicted by Table 1 (Right). Therefore, Table 2 yields, re- spectively, the set of generic exact association rules and the set of approximative association rules that it may be possi- ble to derive for  $20.00 2004 SOCIETY    Table 1. Left: Transaction database Right: Closed iternsets list  Table 2. Generic association rule set Rig  3. Extracting fuzzy association rules  In the following, we present the basic fuzzy constructs and our proper notations.

3.1. Basic Fuzzy constructs  Fuzzy Sets : Let be a finite classical set of objects, called universe of discourse. A fuzzy set in a universe of discourse is characterized by a membership function  where denotes the degree of mem- bership of in the fuzzy set Hence, the fuzzy set is  denotedby = { , , }.

In the following, the notion of fuzzy extraction context,  made up of objects and attributes, related under a fuzzy type-1 relation, is formalized.

Fuzzy context fuzzy extraction context is a triple describing a finite set of objects, a fuzzy finite set of database-items (or descriptors) and a fuzzy binary relation x Each couple  denotes that the object o has the item at least with a degree a.

a  Fuzzy Galois connection: Let = be a fuzzy extraction context. For X and the functions :  : and : are defined as follows [  = a!= b) a 0 b b)  The fuzzy operator is applied on a crisp set of objects and determines to which degree each property is satisfied by all objects, according to their respective degrees. Note that  as defined formerly, presents a desired abstraction voca- tion. Indeed, the retrieved fuzzy set is the least generaliza- tion, through the function, of all sets (or de- scriptions) associated respectively to the input set objects.

Similarly, the fuzzy operator is applied on a set of properties, represented by a fuzzy set, and determines to which degree each object satisfies all of them. The implicit use of the Rescher-Gaines fuzzy implication permits to ob- tain the desired interpretation effect. Hence, the operator  permits to filter only objects fulfilling the constraint that the associated descriptions are more general than the input description.

It is noteworthy that the proposed definition of fuzzy Galois connection -without context transformation- can not be unique. This constatation is due to the exis- tence of multitude of parameters to take into account in any extension to the con- text fuzzy implication choice). For instance, we mention based-Lukasiewicz-implication propositions of Belohlavek and Pollandt where a fuzzy for- mal concept is defined by a pair of two fuzzy sets and  where = and = The reader is re- ferred to for a critical discussion on these propo- sitions, based on semantic interpretations attached to membership degrees in a fuzzy set  3.2. The FARD algorithm  The FARD [6] algorithm falls in the "Test-and-generate" characterization for mining frequent (closed) patterns algo- rithms. It handles as input an extended extraction context,  a database in which quantities of the purchased items are available. The peculiarity of the FARD algorithm stands in the fact that it is dedicated. Indeed, it tackles the orig- inal context without binarizing it, since it takes advantage of the particular properties of the fuzzy descriptions to limit the computation effort.

The algorithm traverses iteratively the search space in a level-wise manner. During each iteration corresponding to a level, a set of candidate patterns is created by joining fre- quent patterns discovered during the previous iteration. The supports of all candidate patterns are counted and infrequent  $20.00 2004 SOCIETY    ones are discarded. Fuzzy association rules are generated in two successive steps:  Discovering all frequent fuzzy closed itemsets  2. From the discovered frequent fuzzy closed itemsets, generate all fuzzy association rules that it is possible to derive.

As input the FARD algorithm takes a fuzzy extraction context minsup and this paper, we consider that the fuzzy context is constituted as follows:  = R),where represents the finite set of ob- jects, RS is a finite set of and GAR and is a fuzzy binary relation, where R) = con (R) ,Q o and  Following the general principle of a level-wise algo- rithm, the FARD algorithm performs in each iteration the following two steps (assuming that items are sorted in a lex- icographic order):  Constructionstep:The GEN-CLOSED function, is ap- plied to each generator in determining its sup- port and possibly its closure (if it is frequent enough).

This set is pruned with respect the anti-monotonous constraint, through the minsup threshold.

2. Pruning step : The set of generators to be utilized in the next iteration, is computed by ap- plying the GEN-NEXT function to the set  The algorithm terminates when there are no more gener- ators to process, is empty. FARD al- gorithm performances are discussed in while its pseudo-code is given by Algorithm Note that sub- routines pseudo-code is not given due to lack of available space.

R uGAR}.

Algorithm 1: FARD  Input: : fuzzy extraction context, constraints, minsup  Output: begin  1-fuzzy itemsets}; for (i = do  return end  Let us consider the fuzzyextraction context depicted by  Table 3. In this context, each couple means that the object j is covered by the rule with a confidence equal to  From such context, by applying the FARD algorithm, it is  a  possible to extract the fuzzy closed itemsets from which we derive fuzzy generic exact fuzzy association rules, which are depicted by Table 4.

I  Table 4. Exact fuzzy meta-association Rules set  4. Graphical visualization and cooperative ex- ploration  Let us keep in mind that given a generic association rule set, we aim to set up a graphical visualization prototype per- mitting to enhance the man-machine interaction by provid- ing a contextual "knowledge", minimizing a boring large amount of knowledge exploration. To do so, we construct a set of fuzzy meta-rules, where both premise and conclusion rule's refer to classical association rules. The role of such fuzzymeta-rules is to highlight "connections"between as- sociation rules without loosing rule's confidence informa- tion.

Here we come to a turning point: Why is it interesting to try to understand why a user a knowledge ex- pert may be interested in a particular rule, and to deter- mine what interesting information or knowledge, not ex- plicitly requested, we could provide him, in addition to the proper answer? Indeed, improving man-machine inter- action by emulating a cooperative behavior has been pro- posed by some researchers through various techniques [ In the author states: "requestsfor data can be classi- fied roughly into two kinds : requests and goals. A specific request establishes a rigid qualification, and is con- cerned only with data that matches it precisely. A goal, on the other hand, establishes a target qualification and is con- cerned with data which is close to the target".For  $20.00 2004  COMPUTER SOCIETY    Table 3. meta-context  and Demolombe [ ?the basic idea is that when a person asks a question, he is not interested to know the answerjust to increase his knowledge, but he has the intention to real- ize some action, and the answer contains or use- ful information to realize this action?. In our context, when such additional knowledge is not supplied, this forces the user to retry a tedious rule exploration repeatedly, until ob- taining a satisfactory ?matching?.

The visualization prototype takes as input an XML file complying to the DTD depicted by Figure This stor- ing format is argued by the fact that XML, the ble Markup Language, has recently emerged as a new stan- dard for data representation and exchange on the Internet.

As output, the set of selected rules can be saved in a file with HTML or TXT format.

1.0 encoding= ISO-8859-1 ?>  <!ELEMENT (rule+)> <!ELEMENT rule (premise,  < !ELEMENT < !ELEMENT < !ELEMENT < < < <  premise (item+)> conclusion > 1 stOb ects rule id ID #REQUIRED> rule conf CDATA #REQUIRED > premise id ID #REQUIRED> premise deg CDATA #REQUIRED >  Figure 1. Associated DTD of accepted input XML file  In the prototype interface, Figure the user can select items that can both appear in the premise the conclusion part. Once the minsup and minconf thresholds are fixed, the user can generate the desired rules. Both tex- tual and graphical representation are provided. The user can further filter specific rules from the generated ones.

4.0.1. The suitable visualization technique: In the 3D histograms based visualization technique, the shot depicted by Figure 2 (Middle), matrix floor rows repre- sent items and columns represent item associations. The red and blue blocks of each column (rule) represent the premise and the conclusion, respectively2. Item identities are shown along the right side of the matrix. The associated confidence and support are represented by a scaled histogram. While on 2D matrix-based visualization technique, rule premise items are on one axis, and the rule conclusion items are on the other axis. We use the solution introduced by software allowing items in rule premise or con- clusion, by grouping each of the items combinations in rule premise or rule conclusion as one unit. The confidence value is indicated by different colors. The higher the confidence value is, the darker the color. Currently, the user has to in- dicate which visualization technique he (she) prefers. How- ever, we are trying to set up an automatic indicator which can choose the most adequate visualization technique de- pending on an assessment of the density of the extraction context. In fact, as indicated by experimental experiments on real-life and synthetic extraction contexts whose parame- ters are summarized by Table 5, when the extraction context is dense, generic association rules drawn from such context tend to present large conclusions (depending on the num- ber of items). Indeed in Table 6, we tried to assess, for mul- tiple minsup values, the difference between the size of the minimal generator and the average size of its associated fre- quent closed itemsets. the larger the difference is, the larger the generic conclusion?s association rule part. From the en- tries dedicated to dense extraction contexts in Table 6, we remark that this difference is important comparatively to that pointed out in by sparse contexts. Therefore, when we consider sparse extraction contexts, the length of premise and the length of the conclusion of generic association rule tend to be equal. Then given that it is known, 3D histograms visualization technique is adapted to visualize rules with a small number of items in the conclusion part, we can   3 Available at  In black and white displaying, red blocks are the dark ones while blue blocks are the clearer ones.

$20.00 2004  cOM UTER SOCIETY    that it is better to use them for generic rules extracted from sparse contexts.

Figure 2. (UP) Parameters settings for associa- tion rule selection. (MIDDLE) 3D histogram visual- ization of selected rules. matrix visual- ization of selected rules.

Base Size Sparse 1000 100000 Sparse 1000 100000 15MB Dense 120 8124  CONNECT Dense 130 49840 I  CHESS Dense 76 3196  Table 5. Extraction contexts parameters  4.0.2. Displaying additional information  0 Displaying derivable rules: Once a user is interested in the graphical visualization window for exam- ple Figure 2 Down), then by activating the contex- tual menu, two options are displayed "Syntactic Rule derivation" and "Rule derivation". If the user selects the first option, then the system provides all syntac- tically derivable in a new window. Indeed, for these derivable rules the only available information is that their support and confidence values are at least equal, respectively, to those of the generic association rule used to derive them. For example in Figure 3, five association rule are presented to the user once he se- lected the generic association rule: k On the other hand, if the user selects the "Rule derivation" option, then the system provides only all the derivable rules that have exactly the same support and confidence val- ues as those of the generic association rule used to de- rive them. As depicted in Figure 3, only one rule, is derivable and has exactly the same support and con- fidence values as those of  0 Displaying connected rules: This option is currently under implementation and we will illustrate it through an example. Suppose that a user may be interested in the rule Then, when the user clicks on the visu- alization interface provides all rules that are connected to in a displaying area. From the meta-rule de- picted in Table 4, we can check that the following rules are connected to : :  : and :  5. Conclusion  In this paper, we presented an approach for providing a cooperative exploration of generic bases of association  4 The syntactic derivation is based on the Cover operator introduced in 3 Y ) = { X U Z V Z,V Y A Z V =  A V # with where  Proceedingsof the 16th Conference on Tools with Artificial Intelligence (ICTAI 2004) $20.00 2004  COMPUTER S ETY    CONNECT  : Average size of closed  5 10 5 316 10 82 15 19   20 1197  30 427  89 9017  I  1 3.767 - 2 5.840 3 7.138 - 4 8.364 - 5 8.998 - 6 - 7 11.179 1 3.418 - 2 4.621 - 3 6.358 - 4 7.332 - 5 8.218  1 2.5 - 2 4.041 - 3 5.052 - 4 6.209 - 5 7.333 - 6 8.5  2.045 -2 - 5.322- 4 - 6 -7 10.272 -8 11.341 1 1.952 3.691 -3 5.174 -4 6.512 -5 7.751 -6 8.911 -7 10.006 -8 11.032 1 1.952 -2 3.596 -3 5.017 -4 6.323 -5 7.539 -6 8.671 -7 9.732 -8 10.71 1 -2 3.543  4.61 5.612 6.573 7.525 8.453 9.319  -10: 10 1.21 2.401 3.537  4.564 5.546 6.518 7.472 8.369 9.181  1 1.25 2.366 3.406 - 4.414 5.394 7.185 8  Table 6. Experimental results  rules. This additional knowledge highlighting connected rules to a user-select rule allows an improvement of machine interaction. To do so, we constructed a set of fuzzy meta-rules extracted from the discovered fuzzy closed sets.

The visualization prototype is currently under imple- mentation and in the near we plan also to include rec- ommended visualization tasks, history and extract and to lead extensive experimental results to assess their sat- isfaction vs the user graphical interface.

